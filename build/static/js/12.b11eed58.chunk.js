(this["webpackJsonpwieldy-hook"]=this["webpackJsonpwieldy-hook"]||[]).push([[12],{943:function(e,o,t){"use strict";t.d(o,"a",(function(){return a}));var n=t(175);function a(e,o){var t="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=Object(n.a)(e))||o&&e&&"number"===typeof e.length){t&&(e=t);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return c=e.done,e},e:function(e){l=!0,i=e},f:function(){try{c||null==t.return||t.return()}finally{if(l)throw i}}}}},984:function(e,o,t){"use strict";t.r(o);var n=t(6),a=t(11),r=t(5),i=t(936),c=t(934),l=t(0),s=t(19),d=t(4),u=t(943),b=t(145),f=t(507),j=t(79),v=t(506),m=t(160),p=t(926),h=t(235),O=t(512),x=t(82),k=t.n(x),g=(t(71),t(1)),w=function(e){var o=e.setData,t=b.a.useForm(),c=Object(r.a)(t,1)[0],x=b.a.useForm(),w=Object(r.a)(x,1)[0],y=Object(l.useState)(!1),_=Object(r.a)(y,2),C=_[0],F=_[1],D=Object(l.useState)(!1),I=Object(r.a)(D,2),S=I[0],N=I[1],M=Object(l.useState)([]),P=Object(r.a)(M,2),T=P[0],H=P[1],L=Object(l.useState)([]),q=Object(r.a)(L,2),E=q[0],Y=q[1],A=Object(l.useState)([]),G=Object(r.a)(A,2),J=G[0],z=G[1],B=f.b.useMessage(),V=Object(r.a)(B,2),K=V[0],Q=V[1],R=Object(l.useState)([]),U=Object(r.a)(R,2),W=U[0],X=U[1],Z=function(){return N(!1)},$=function(){var e=Object(a.a)(Object(n.a)().mark((function e(o){var t,r,i;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(o),!(o.profesional.length>1)){e.next=5;break}Object(a.a)(Object(n.a)().mark((function e(){var t,a,r,i,c,l;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object(u.a)(o.profesional),e.prev=1,t.s();case 3:if((a=t.n()).done){e.next=19;break}return r=a.value,i=Object(d.a)(Object(d.a)({},o),{},{profesional:r,fecha_inicio:new Date(null===o||void 0===o?void 0:o.fecha_inicio).getTime(),fecha_final:new Date(null===o||void 0===o?void 0:o.fecha_final).getTime(),hora_inicio:k()(new Date(null===o||void 0===o?void 0:o.hora_inicio)).format("HH:mm"),hora_final:k()(new Date(null===o||void 0===o?void 0:o.hora_final)).format("HH:mm")}),e.prev=6,e.next=9,Object(s.t)(i.profesional,i);case 9:console.log("Enviar if: ",i),K.open({type:"success",content:"Proceso exitoso"}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(6),console.error("Error en la iteraci\xf3n:",e.t0),K.open({type:"error",content:null===(c=e.t0.response)||void 0===c||null===(l=c.data)||void 0===l?void 0:l.message});case 17:e.next=3;break;case 19:e.next=24;break;case 21:e.prev=21,e.t1=e.catch(1),t.e(e.t1);case 24:return e.prev=24,t.f(),e.finish(24);case 27:case"end":return e.stop()}}),e,null,[[1,21,24,27],[6,13]])})))(),e.next=16;break;case 5:return t=Object(d.a)(Object(d.a)({},o),{},{profesional:o.profesional[0],fecha_inicio:new Date(null===o||void 0===o?void 0:o.fecha_inicio).getTime(),fecha_final:new Date(null===o||void 0===o?void 0:o.fecha_final).getTime(),hora_inicio:k()(new Date(null===o||void 0===o?void 0:o.hora_inicio)).format("HH:mm"),hora_final:k()(new Date(null===o||void 0===o?void 0:o.hora_final)).format("HH:mm")}),e.prev=6,e.next=9,Object(s.t)(t.profesional,t);case 9:K.open({type:"success",content:"Se ha generado la novedad correctamente."}),console.log("Enviar else: ",t),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),K.open({type:"error",content:null===(r=e.t0.response)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.message});case 16:w.resetFields(),Z();case 18:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(o){return e.apply(this,arguments)}}(),ee=function(){var e=Object(a.a)(Object(n.a)().mark((function e(t){var a;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("formulario: ",t),F(!0),void 0==t.profesional||void 0!=t.motivo||void 0!=t.tipo_novedad){e.next=8;break}return e.next=5,Object(s.uc)("Profesional",t);case 5:a=e.sent,e.next=48;break;case 8:if(void 0!=t.profesional||void 0==t.motivo||void 0!=t.tipo_novedad){e.next=14;break}return e.next=11,Object(s.uc)("Motivo",t);case 11:a=e.sent,e.next=48;break;case 14:if(void 0!=t.profesional||void 0!=t.motivo||void 0==t.tipo_novedad){e.next=20;break}return e.next=17,Object(s.uc)("Tipo_Novedad",t);case 17:a=e.sent,e.next=48;break;case 20:if(void 0==t.profesional||void 0==t.motivo||void 0!=t.tipo_novedad){e.next=26;break}return e.next=23,Object(s.uc)("Profesional_Motivo",t);case 23:a=e.sent,e.next=48;break;case 26:if(void 0==t.profesional||void 0!=t.motivo||void 0==t.tipo_novedad){e.next=32;break}return e.next=29,Object(s.uc)("Profesional_Tipo",t);case 29:a=e.sent,e.next=48;break;case 32:if(void 0==t.profesional||void 0==t.motivo||void 0==t.tipo_novedad){e.next=38;break}return e.next=35,Object(s.uc)("Profesional_Motivo_Tipo",t);case 35:a=e.sent,e.next=48;break;case 38:if(void 0!=t.profesional||void 0==t.motivo||void 0==t.tipo_novedad){e.next=44;break}return e.next=41,Object(s.uc)("Motivo_Tipo",t);case 41:a=e.sent,e.next=48;break;case 44:if(void 0!=t.profesional||void 0!=t.motivo||void 0!=t.tipo_novedad){e.next=48;break}return e.next=47,Object(s.tc)();case 47:a=e.sent;case 48:F(!1),o(a);case 50:case"end":return e.stop()}}),e)})));return function(o){return e.apply(this,arguments)}}(),oe=function(){var e=Object(a.a)(Object(n.a)().mark((function e(){var o,t,a,r;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.Dc)();case 2:return o=e.sent,H(o),e.next=6,Object(s.Ec)();case 6:return t=e.sent,z(t),e.next=10,Object(s.xc)();case 10:return a=e.sent,Y(a),e.next=14,Object(s.qc)();case 14:r=e.sent,X(r);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){oe()}),[]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(i.a,{title:Object(g.jsx)("strong",{children:"Filtrar Novedades"}),extra:Object(g.jsx)(j.a,{style:{backgroundColor:"#00ABC8",color:"#FFF"},onClick:function(){N(!0)},children:"Generar Novedad"}),actions:[Object(g.jsxs)("div",{className:"d-flex justify-content-end me-4",children:[Object(g.jsx)(j.a,{htmlType:"submit",onClick:function(){c.resetFields(),c.submit()},children:"Limpiar Filtros"}),Object(g.jsx)(j.a,{htmlType:"submit",onClick:function(){return c.submit()},loading:C,children:"Consultar"})]},"button-actions")],children:Object(g.jsx)(b.a,{name:"wrap",layout:"vertical",colon:!1,onFinish:ee,form:c,autoComplete:"off",children:Object(g.jsxs)("div",{className:"row align-items-center",children:[Object(g.jsx)("div",{className:"col-12 col-md-6 col-lg-6",children:Object(g.jsx)(b.a.Item,{label:"Profesional",name:"profesional",children:Object(g.jsx)(v.a,{name:"profesional"})})}),Object(g.jsx)("div",{className:"col-12 col-md-6 col-lg-6",children:Object(g.jsx)(b.a.Item,{label:"Motivo",name:"motivo",children:Object(g.jsx)(m.a,{name:"motivo",options:T})})}),Object(g.jsx)("div",{className:"col-12 col-md-6 col-lg-6",children:Object(g.jsx)(b.a.Item,{label:"Tipo novedad",name:"tipo_novedad",children:Object(g.jsx)(m.a,{name:"tipo_novedad",options:J})})})]})})}),Q,Object(g.jsx)(p.a,{title:"Novedad Disponibilidades",open:S,footer:[Object(g.jsx)(j.a,{htmlType:"button",onClick:Z,children:"Cancelar"},"button-cancel"),Object(g.jsx)(j.a,{htmlType:"submit",onClick:w.submit,type:"primary",children:"Guardar"},"button-actualizar")],onCancel:Z,children:Object(g.jsx)(b.a,{form:w,name:"basic",layout:"vertical",onFinish:$,autoComplete:"off",children:Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("div",{className:"col-12 col-md-6",children:Object(g.jsx)(b.a.Item,{label:"Fecha Inicio",name:"fecha_inicio",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(g.jsx)(h.a,{style:{width:"100%"}})})}),Object(g.jsx)("div",{className:"col-12 col-md-6",children:Object(g.jsx)(b.a.Item,{label:"Fecha Final",name:"fecha_final",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(g.jsx)(h.a,{style:{width:"100%"}})})}),Object(g.jsx)("div",{className:"col-12 col-md-6",children:Object(g.jsx)(b.a.Item,{label:"Hora Inicio",name:"hora_inicio",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(g.jsx)(O.a,{showSecond:!1,style:{width:"100%"}})})}),Object(g.jsx)("div",{className:"col-12 col-md-6",children:Object(g.jsx)(b.a.Item,{label:"Hora Final",name:"hora_final",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(g.jsx)(O.a,{showSecond:!1,style:{width:"100%"}})})}),Object(g.jsx)("div",{className:"col-12",children:Object(g.jsx)(b.a.Item,{label:"Dia de la semana",name:"dia_semana",children:Object(g.jsx)(m.a,{mode:"multiple",allowClear:!0,showSearch:!0,className:"w-100",placeholder:"Selecciona dia de la semana",optionFilterProp:"children",filterOption:function(e,o){var t;return(null!==(t=null===o||void 0===o?void 0:o.label)&&void 0!==t?t:"").toLowerCase().includes(e.toLowerCase())},options:W})})}),Object(g.jsx)("div",{className:"col-12 col-md-6",children:Object(g.jsx)(b.a.Item,{label:"Motivo",name:"motivo",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(g.jsx)(m.a,{className:"w-100",showSearch:!0,placeholder:"Selecciona tipo de documento",optionFilterProp:"children",filterOption:function(e,o){var t;return(null!==(t=null===o||void 0===o?void 0:o.label)&&void 0!==t?t:"").toLowerCase().includes(e.toLowerCase())},options:T})})}),Object(g.jsx)("div",{className:"col-12 col-md-6",children:Object(g.jsx)(b.a.Item,{label:"Tipo de Novedad",name:"tipo_novedad",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(g.jsx)(m.a,{className:"w-100",showSearch:!0,placeholder:"Selecciona tipo de documento",optionFilterProp:"children",filterOption:function(e,o){var t;return(null!==(t=null===o||void 0===o?void 0:o.label)&&void 0!==t?t:"").toLowerCase().includes(e.toLowerCase())},options:J})})}),Object(g.jsx)("div",{className:"col-12",children:Object(g.jsx)(b.a.Item,{label:"Profesional",name:"profesional",rules:[{required:!0,message:"Campo obligatorio"},function(e){e.getFieldValue;return{validator:function(e,o){return o&&o.length>=2?Promise.resolve():Promise.reject(new Error("Debe seleccionar al menos 2 opciones"))}}}],children:Object(g.jsx)(m.a,{mode:"multiple",allowClear:!0,showSearch:!0,placeholder:"Digite nombre de un profesional",optionFilterProp:"children",filterOption:function(e,o){var t;return(null!==(t=null===o||void 0===o?void 0:o.label)&&void 0!==t?t:"").toLowerCase().includes(e.toLowerCase())},options:E})})})]})})})]})};t(946);o.default=function(){var e=Object(l.useState)([]),o=Object(r.a)(e,2),t=o[0],d=o[1],u=Object(l.useState)(!1),b=Object(r.a)(u,2),f=b[0],j=b[1],v=function(){var e=Object(a.a)(Object(n.a)().mark((function e(){var o;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,Object(s.tc)();case 3:o=e.sent,j(!1),d(o);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(l.useEffect)((function(){v()}),[]);var m=[{title:Object(g.jsx)("span",{style:{backgroundColor:"#184F9D",color:"#fff"},children:"Nombres"}),dataIndex:"nombres",key:"nombres",render:function(e){return Object(g.jsx)("strong",{children:e})}},{title:Object(g.jsx)("span",{style:{backgroundColor:"#184F9D",color:"#fff"},children:"Fecha inicio"}),dataIndex:"fecha_inicio",key:"fecha_inicio",render:function(e){return k()(e).format("DD/MM/YYYY")}},{title:Object(g.jsx)("span",{style:{backgroundColor:"#184F9D",color:"#fff"},children:"Fecha final"}),dataIndex:"fecha_final",key:"fecha_final",render:function(e){return Object(g.jsx)("strong",{children:k()(e).format("DD/MM/YYYY")})}},{title:Object(g.jsx)("span",{style:{backgroundColor:"#184F9D",color:"#fff"},children:"Hora inicio"}),dataIndex:"hora_inicio",key:"hora_inicio",render:function(e){var o=Math.floor(e/36e5),t=Math.floor(e%36e5/6e4);return"".concat((o<10?"0":"")+o,":").concat((t<10?"0":"")+t)}},{title:Object(g.jsx)("span",{style:{backgroundColor:"#184F9D",color:"#fff"},children:"Hora final"}),key:"hora_final",dataIndex:"hora_final",render:function(e){var o=Math.floor(e/36e5),t=Math.floor(e%36e5/6e4);return"".concat((o<10?"0":"")+o,":").concat((t<10?"0":"")+t)}},{title:Object(g.jsx)("span",{style:{backgroundColor:"#184F9D",color:"#fff"},children:"Tipo novedad"}),dataIndex:"tipo_novedad",key:"tipo_novedad"},{title:Object(g.jsx)("span",{style:{backgroundColor:"#184F9D",color:"#fff"},children:"Motivo"}),dataIndex:"motivo",key:"motivo"},{title:Object(g.jsx)("span",{style:{backgroundColor:"#184F9D",color:"#fff"},children:"D\xedas Semana"}),dataIndex:"dias_semana",key:"dias_semana"},{title:Object(g.jsx)("span",{style:{backgroundColor:"#184F9D",color:"#fff"},children:"Creado Por"}),dataIndex:"creadoPor",key:"creadoPor"}];return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(w,{setData:d,onSubmit:v}),Object(g.jsx)(i.a,{children:Object(g.jsx)(c.a,{columns:m,loading:f,dataSource:t,scroll:{x:1300}})})]})}}}]);
//# sourceMappingURL=12.b11eed58.chunk.js.map
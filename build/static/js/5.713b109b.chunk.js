(this["webpackJsonpwieldy-hook"]=this["webpackJsonpwieldy-hook"]||[]).push([[5],{944:function(e,t,n){},945:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n(6),c=n(12),i=n(5),l=n(0),o=n(970),s=n(507),r=n(925),d=n(78),u=n(933),j=n(21),b=n(98),x=n.n(b),O=n(506),v=n(143),m=n(159),A=n(1),f=O.a.TextArea,p=function(e){var t=e.isModalCancel,n=e.setIsModalCancel,o=e.dataRow,u=e.getInfo,b=e.isCancel,x=v.a.useForm(),O=Object(i.a)(x,1)[0],p=Object(l.useState)(!1),h=Object(i.a)(p,2),g=h[0],y=h[1],C=Object(l.useState)(null),E=Object(i.a)(C,2),k=E[0],S=E[1],_=s.b.useMessage(),w=Object(i.a)(_,2),I=w[0],N=w[1];Object(l.useEffect)(Object(c.a)(Object(a.a)().mark((function e(){var t;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.tb)();case 2:t=e.sent,S(t);case 4:case"end":return e.stop()}}),e)}))),[]);var P=function(){n(!1),O.resetFields()},D=function(){var e=Object(c.a)(Object(a.a)().mark((function e(){var t,c;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=O.getFieldsValue(),c={idCita:null===o||void 0===o?void 0:o.id,Motivo:null===t||void 0===t?void 0:t.motivo,TexA:null===t||void 0===t?void 0:t.observacion},y(!0),e.next=5,Object(j.p)(c);case 5:if("ok"!=e.sent.status){e.next=11;break}return e.next=9,I.open({type:"success",content:b?"Cita cancelada exitosamente":"Cita reagendada exitosamente"});case 9:e.next=13;break;case 11:return e.next=13,I.open({type:"error",content:"error"});case 13:if(!b){e.next=18;break}return e.next=16,Object(j.wc)(c.idCita);case 16:e.next=20;break;case 18:return e.next=20,Object(j.zc)(c.idCita);case 20:y(!1),n(!1),u();case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(A.jsxs)(r.a,{title:b?"Cancelar Cita":"Reagendar Cita",open:t,onCancel:P,footer:[Object(A.jsx)(d.a,{onClick:P,children:"Cancelar"},"button-cancel"),Object(A.jsx)(d.a,{loading:g,onClick:O.submit,children:"Confirmar"},"button-integrar")],children:[N,Object(A.jsxs)(v.a,{colon:!1,onFinish:D,form:O,autoComplete:"off",layout:"vertical",children:[Object(A.jsx)(v.a.Item,{label:"Motivo cancelaci\xf3n",name:"motivo",rules:[{required:!0,message:"Campo obligatorio"}],style:{marginBottom:"20px"},children:Object(A.jsx)(m.a,{className:"w-100",placeholder:"Selecciona un motivo cancelaci\xf3n",options:k})}),Object(A.jsx)(v.a.Item,{label:"Observaci\xf3n",name:"observacion",rules:[{required:!0,message:"Campo obligatorio"}],style:{marginBottom:"20px"},children:Object(A.jsx)(f,{className:"w-100",rows:4})})]})]})},h=o.a.Text,g=function(e){var t=e.open,n=e.setOpen,o=e.dataRow,b=e.idPaciente,O=e.setOpenPopover,v=e.viewButton,m=Object(l.useState)([]),f=Object(i.a)(m,2),g=f[0],y=f[1],C=Object(l.useState)({}),E=Object(i.a)(C,2),k=E[0],S=E[1],_=s.b.useMessage(),w=Object(i.a)(_,2),I=w[0],N=w[1],P=Object(l.useState)(!1),D=Object(i.a)(P,2),F=D[0],M=D[1],q=Object(l.useState)(!1),Y=Object(i.a)(q,2),B=Y[0],R=Y[1];Object(l.useEffect)((function(){b&&!0===t&&T()}),[t]);var T=function(){var e=Object(c.a)(Object(a.a)().mark((function e(){var t,n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.R)(o.id);case 2:return t=e.sent,S(t),console.log(o),console.log("Llego: ",t),e.next=8,Object(j.D)(b,o.id);case 8:n=e.sent,console.log("Datatable: ",n),y(n);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){return n(!1)},Q=[{title:"Fecha Citas",dataIndex:"Fecha_Cita",key:"Fecha_Cita",render:function(e){return x()(e).format("DD/MM/YYYY")}},{title:"Mes Remision",dataIndex:"MesRemision",key:"MesRemision"},{title:"Estado",dataIndex:"Estado_txt",key:"Estado_txt"},{title:"Especialidad",dataIndex:"Especialidad_txt",key:"Especialidad_txt"},{title:"Canal Remision",dataIndex:"CanalRemision",key:"CanalRemision"},{title:"Resultado",dataIndex:"Resultado",key:"Resultado"}];return Object(A.jsxs)(A.Fragment,{children:[N,Object(A.jsxs)(r.a,{width:null!=g?"70%":"52%",title:"Cita: ".concat(null===o||void 0===o?void 0:o.name),open:t,onCancel:z,footer:[Object(A.jsx)(A.Fragment,{children:v?Object(A.jsx)(d.a,{onClick:function(){O(!0),z()},children:"Atras"},"button-cancel"):null}),Object(A.jsx)(d.a,{onClick:z,children:"Cerrar"},"button-cancel")],children:[Object(A.jsxs)("div",{className:"row",children:[Object(A.jsxs)("div",{className:"col-12 col-md-12 row",children:[Object(A.jsx)("h4",{style:{fontWeight:"bold",textAlign:"left",width:"40%"},children:"INFORMACI\xd3N CITA"}),Object(A.jsxs)("div",{style:{display:"flex",flexDirection:"row",width:"40%"},children:[Object(A.jsx)("label",{style:{fontWeight:"bold",textAlign:"left",width:"72px",fontSize:"18px"},children:"Estado:"}),Object(A.jsx)("div",{style:{display:"flex",width:"220px",fontSize:"18px"},children:Object(A.jsx)(h,{children:null===k||void 0===k?void 0:k.Estado_Txt})})]})]}),Object(A.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"75%"},children:[Object(A.jsx)("div",{className:"col-12 col-md-6",children:Object(A.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(A.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Ciudad:"}),Object(A.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(A.jsx)(h,{children:null===k||void 0===k?void 0:k.Ciudad_Txt})})]})}),Object(A.jsx)("div",{className:"col-12 col-md-6",children:Object(A.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(A.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Sede Sies"}),Object(A.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(A.jsx)(h,{children:null===k||void 0===k?void 0:k.Sedetxt})})]})}),Object(A.jsx)("div",{className:"col-12 col-md-6",children:Object(A.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(A.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Tipo Cita:"}),Object(A.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(A.jsx)(h,{children:null===k||void 0===k?void 0:k.Codigo_Tipo})})]})}),Object(A.jsx)("div",{className:"col-12 col-md-6",children:Object(A.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(A.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Plan Mensual:"}),Object(A.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(A.jsx)(h,{children:null===k||void 0===k?void 0:k.Plan_Mensual_txt})})]})}),Object(A.jsx)("div",{className:"col-12 col-md-6",children:Object(A.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(A.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Especialidad:"}),Object(A.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(A.jsx)(h,{children:null===k||void 0===k?void 0:k.Especialidad_txt})})]})}),Object(A.jsx)("div",{className:"col-12 col-md-6",children:Object(A.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(A.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Profesional:"}),Object(A.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(A.jsx)(h,{children:null===k||void 0===k?void 0:k.Profesional_txt})})]})}),Object(A.jsx)("div",{className:"col-12 col-md-6",children:Object(A.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(A.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Tipo Examen:"}),Object(A.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(A.jsx)(h,{children:null===k||void 0===k?void 0:k.nameExam})})]})})]}),Object(A.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"25%"},children:[Object(A.jsx)(d.a,{style:{backgroundColor:"#00ABC8",width:"130px",color:"#FFF"},onClick:Object(c.a)(Object(a.a)().mark((function e(){var t;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Sirve Agendar",o),e.next=3,Object(j.vc)(o.id);case 3:if("fail"!==(null===(t=e.sent)||void 0===t?void 0:t.status)){e.next=9;break}return e.next=7,I.open({type:"error",content:(null===t||void 0===t?void 0:t.message)||"error"});case 7:e.next=12;break;case 9:if("ok"!==(null===t||void 0===t?void 0:t.status)){e.next=12;break}return e.next=12,I.open({type:"success",content:"Agendada exitosamente"});case 12:case"end":return e.stop()}}),e)}))),disabled:"Cancelado"==(null===o||void 0===o?void 0:o.Estado_Txt)||"Asistida"==(null===o||void 0===o?void 0:o.Estado_Txt)||"Finalizada"==(null===o||void 0===o?void 0:o.Estado_Txt)||"Solicitada"==(null===o||void 0===o?void 0:o.Estado_Txt)||"No Asistida"==(null===o||void 0===o?void 0:o.Estado_Txt),children:"Agendar"}),Object(A.jsx)(d.a,{style:{width:"130px"},onClick:Object(c.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:M(!0),R(!0);case 2:case"end":return e.stop()}}),e)}))),disabled:"Cancelado"==(null===o||void 0===o?void 0:o.Estado_Txt)||"Asistida"==(null===o||void 0===o?void 0:o.Estado_Txt)||"Finalizada"==(null===o||void 0===o?void 0:o.Estado_Txt)||"No Asistida"==(null===o||void 0===o?void 0:o.Estado_Txt),children:"Cancelar"}),Object(A.jsx)(p,{isModalCancel:F,setIsModalCancel:M,dataRow:o,getInfo:T,isCancel:B}),Object(A.jsx)(d.a,{style:{width:"130px"},onClick:Object(c.a)(Object(a.a)().mark((function e(){var t;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.y)(o.id);case 2:if(t=e.sent,console.log("eliminado: ",t),"fail"!==(null===t||void 0===t?void 0:t.status)){e.next=9;break}return e.next=7,I.open({type:"error",content:(null===t||void 0===t?void 0:t.message)||"error"});case 7:e.next=12;break;case 9:if("ok"!==(null===t||void 0===t?void 0:t.status)){e.next=12;break}return e.next=12,I.open({type:"success",content:"Eliminada correctamente"});case 12:n(!1);case 13:case"end":return e.stop()}}),e)}))),disabled:"Cancelado"==(null===o||void 0===o?void 0:o.Estado_Txt)||"Asistida"==(null===o||void 0===o?void 0:o.Estado_Txt)||"Finalizada"==(null===o||void 0===o?void 0:o.Estado_Txt)||"Solicitada"==(null===o||void 0===o?void 0:o.Estado_Txt)||"No Asistida"==(null===o||void 0===o?void 0:o.Estado_Txt),children:"Eliminar"}),"No Asistida"==(null===k||void 0===k?void 0:k.Estado_Txt)?Object(A.jsx)(d.a,{style:{width:"130px"},onClick:Object(c.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:M(!0),R(!1);case 2:case"end":return e.stop()}}),e)}))),children:"Reagendar"}):null]})]}),"Cancelado"==(null===k||void 0===k?void 0:k.Estado_Txt)||"Reprogramada"==(null===k||void 0===k?void 0:k.Estado_Txt)?Object(A.jsx)("div",{className:"row",children:Object(A.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(A.jsx)("div",{className:"col-12 col-md-12",children:Object(A.jsx)("h4",{style:{fontWeight:"bold",textAlign:"left"},children:"CANCELACI\xd3N CITA"})}),Object(A.jsx)("div",{className:"col-12 col-md-12",children:Object(A.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(A.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Motivo Cancelaci\xf3n:"}),Object(A.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(A.jsx)(h,{children:null===k||void 0===k?void 0:k.Motivo_Cancelacin_txt})})]})}),Object(A.jsx)("div",{className:"col-12 col-md-12",children:Object(A.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(A.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Observaci\xf3n Cancelaci\xf3n:"}),Object(A.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(A.jsx)(h,{children:null===k||void 0===k?void 0:k.Observacin_Cancelacin})})]})})]})}):null,null!=g?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("div",{className:"row",children:Object(A.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:Object(A.jsx)("div",{className:"col-12 col-md-12",children:Object(A.jsx)("h4",{style:{fontWeight:"bold",textAlign:"left"},children:"CITAS REMISIONES"})})})}),Object(A.jsx)(u.a,{style:{marginTop:"20px"},columns:Q,loading:!1,dataSource:g})]}):null]})]})}},951:function(e,t,n){},952:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var a=n(6),c=n(12),i=n(5),l=n(143),o=n(507),s=n(925),r=n(78),d=n(506),u=n(159),j=n(0),b=n(21),x=n(1),O=function(e){var t=e.setIsActualizar,n=e.open,O=e.setOpen,v=e.idPaciente,m=Object(j.useState)(""),A=Object(i.a)(m,2),f=(A[0],A[1],Object(j.useState)("")),p=Object(i.a)(f,2),h=(p[0],p[1],Object(j.useState)(!1)),g=Object(i.a)(h,2),y=g[0],C=g[1],E=l.a.useForm(),k=Object(i.a)(E,1)[0],S=o.b.useMessage(),_=Object(i.a)(S,2),w=_[0],I=_[1],N=Object(j.useState)([]),P=Object(i.a)(N,2),D=P[0],F=P[1],M=Object(j.useState)({Direccion:"",Celular:"",Tel:"",Ciudad:"",Email:""}),q=Object(i.a)(M,2),Y=q[0],B=q[1],R=function(){return O(!1)};Object(j.useEffect)((function(){v&&n&&T()}),[n]);var T=function(){var e=Object(c.a)(Object(a.a)().mark((function e(){var t,n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.O)(v);case 2:return t=e.sent,B(t),e.next=6,Object(b.ec)();case 6:n=e.sent,F(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(c.a)(Object(a.a)().mark((function e(n){var c,i;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n),C(!0),e.prev=2,e.next=5,Object(b.Fc)(v,n);case 5:return e.next=7,w.open({type:"success",content:"Paciente integrado correctamente"});case 7:R(),e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(2),e.next=14,w.open({type:"error",content:null===(c=e.t0.response)||void 0===c||null===(i=c.data)||void 0===i?void 0:i.message});case 14:C(!1),t(!0),O(!1);case 17:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)(x.Fragment,{children:[I,Object(x.jsx)(s.a,{title:"Editar Paciente",open:n,onCancel:R,onOk:z,footer:[Object(x.jsx)(r.a,{onClick:R,children:"Cancelar"},"button-cancel"),Object(x.jsx)(r.a,{htmlType:"submit",form:"basic",loading:y,style:{backgroundColor:"#00ABC8",color:"#FFF"},disabled:k.getFieldsError().filter((function(e){return e.errors.length})).length>0,children:"Actualizar"},"button-actualizar")],children:Object(x.jsx)(l.a,{form:k,id:"basic",name:"basic",onFinish:z,autoComplete:"off",layout:"vertical",fields:[{name:["direccion"],value:(null===Y||void 0===Y?void 0:Y.Direccion)||""},{name:["celular"],value:(null===Y||void 0===Y?void 0:Y.Celular)||""},{name:["tel"],value:(null===Y||void 0===Y?void 0:Y.Tel)||""},{name:["ciudad"],value:(null===Y||void 0===Y?void 0:Y.Ciudad)||""},{name:["email"],value:(null===Y||void 0===Y?void 0:Y.Email)||""}],children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-12 col-md-6",children:Object(x.jsx)(l.a.Item,{label:"Direcci\xf3n",name:"direccion",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(x.jsx)(d.a,{})})}),Object(x.jsx)("div",{className:"col-12 col-md-6",children:Object(x.jsx)(l.a.Item,{label:"Celular",name:"celular",rules:[{required:!0,message:"Por favor, ingresa solo n\xfameros",pattern:/^[0-9]*$/}],children:Object(x.jsx)(d.a,{type:"text"})})}),Object(x.jsx)("div",{className:"col-12 col-md-6",children:Object(x.jsx)(l.a.Item,{label:"Tel\xe9fono",name:"tel",rules:[{required:!0,message:"Por favor, ingresa solo n\xfameros",pattern:/^[0-9]*$/}],children:Object(x.jsx)(d.a,{type:"text"})})}),Object(x.jsx)("div",{className:"col-12 col-md-6",children:Object(x.jsx)(l.a.Item,{label:"Ciudad",name:"ciudad",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(x.jsx)(u.a,{showSearch:!0,name:"ciudad",optionFilterProp:"children",filterOption:function(e,t){var n;return(null!==(n=null===t||void 0===t?void 0:t.label)&&void 0!==n?n:"").toLowerCase().includes(e.toLowerCase())},options:D})})}),Object(x.jsx)("div",{className:"col-12 col-md-6",children:Object(x.jsx)(l.a.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Por favor, ingresa un correo electr\xf3nico v\xe1lido",type:"email"}],children:Object(x.jsx)(d.a,{type:"email"})})})]})})})]})}},969:function(e,t,n){"use strict";n.r(t);var a=n(942),c=n(6),i=n(12),l=n(5),o=n(352),s=n(935),r=n(502),d=n(0),u=n(63),j=(n(513),n(931)),b=n(78),x=n(968),O=n(932),v=n(980),m=n(981),A=n(982),f=n(303),p=n(983),h=n(984),g=n(985),y=n(986),C=n(98),E=n.n(C),k=n(21),S=(n(944),n(507)),_=n(925),w=n(143),I=n(506),N=n(159),P=n(1),D=function(e){var t=e.open,n=e.setOpen,o=e.idPaciente,s=e.getData,r=Object(d.useState)(!1),u=Object(l.a)(r,2),j=u[0],x=u[1],O=S.b.useMessage(),v=Object(l.a)(O,2),m=v[0],A=v[1],f=Object(d.useState)([]),p=Object(l.a)(f,2),h=p[0],g=p[1],y=Object(d.useState)([]),C=Object(l.a)(y,2),E=C[0],D=C[1],F=Object(d.useState)([]),M=Object(l.a)(F,2),q=M[0],Y=M[1],B=Object(d.useState)([]),R=Object(l.a)(B,2),T=R[0],z=R[1],Q=Object(d.useState)([]),J=Object(l.a)(Q,2),W=J[0],H=J[1],L={dispositivo:null,canal:null,conexion:null,profesionales:null,horarios:null},K=Object(d.useState)({personaAuth:null,dispositivo:null,llamar:null,canal:null,HorarioSugeridoContacto:null,conexion:null,profesionales:void 0,horarios:void 0}),G=Object(l.a)(K,2),V=G[0],X=G[1];Object(d.useEffect)((function(){o&&!0===t&&U()}),[t]);var U=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var t,n,a,i,l,s;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.Q)(o);case 2:return t=e.sent,console.log(t),X(t),e.next=7,Object(k.hc)();case 7:return n=e.sent,g(n),e.next=11,Object(k.dc)();case 11:return a=e.sent,D(a),e.next=15,Object(k.mc)();case 15:return i=e.sent,Y(i),e.next=19,Object(k.lc)();case 19:return l=e.sent,z(l),e.next=23,Object(k.fc)();case 23:s=e.sent,H(s);case 25:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(i.a)(Object(c.a)().mark((function e(t){var n,i,l,o,s,r,d,u,j,b;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Object(a.a)(h),e.prev=1,i.s();case 3:if((l=i.n()).done){e.next=10;break}if((o=l.value).value!==t.dispositivo){e.next=8;break}return L.dispositivo=o.code,e.abrupt("break",10);case 8:e.next=3;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),i.e(e.t0);case 15:return e.prev=15,i.f(),e.finish(15);case 18:s=Object(a.a)(E),e.prev=19,s.s();case 21:if((r=s.n()).done){e.next=28;break}if((d=r.value).value!==t.canal){e.next=26;break}return L.canal=d.code,e.abrupt("break",28);case 26:e.next=21;break;case 28:e.next=33;break;case 30:e.prev=30,e.t1=e.catch(19),s.e(e.t1);case 33:return e.prev=33,s.f(),e.finish(33);case 36:u=Object(a.a)(W),e.prev=37,u.s();case 39:if((j=u.n()).done){e.next=46;break}if((b=j.value).value!==t.conexion){e.next=44;break}return L.conexion=b.code,e.abrupt("break",46);case 44:e.next=39;break;case 46:e.next=51;break;case 48:e.prev=48,e.t2=e.catch(37),u.e(e.t2);case 51:return e.prev=51,u.f(),e.finish(51);case 54:L.profesionales=null===(n=t.profesionales)||void 0===n?void 0:n.join("|");case 55:case"end":return e.stop()}}),e,null,[[1,12,15,18],[19,30,33,36],[37,48,51,54]])})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(i.a)(Object(c.a)().mark((function e(t){var a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z(t);case 2:return console.log(L),x(!0),e.next=6,Object(k.Dc)(o,t,L);case 6:return e.next=8,Object(k.Hc)(o,t,L);case 8:if(a=e.sent,console.log("actualizar preferencias: ",a),"fail"!==(null===a||void 0===a?void 0:a.status)){e.next=14;break}return console.log("Actualizar: ",a),e.next=14,m.open({type:"error",content:(null===a||void 0===a?void 0:a.message)||"error"});case 14:if("ok"!==(null===a||void 0===a?void 0:a.status)){e.next=17;break}return e.next=17,m.open({type:"success",content:"Se ha editado correctamente las preferencias del paciente"});case 17:s(o),x(!1),n(!1);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){return n(!1)},te=function(e){console.log("selected ".concat(e))};return Object(P.jsxs)(P.Fragment,{children:[A,Object(P.jsx)(_.a,{title:"Edici\xf3n preferencias",width:"720px",open:t,onCancel:ee,footer:[Object(P.jsx)(b.a,{onClick:ee,children:"Cerrar"},"button-cancel"),Object(P.jsx)(b.a,{htmlType:"submit",form:"basic",loading:j,children:"Guardar"},"button-actualizar")],children:Object(P.jsxs)(w.a,{id:"basic",name:"basic",onFinish:$,autoComplete:"off",layout:"vertical",fields:[{name:["personaAuth"],value:(null===V||void 0===V?void 0:V.personaAuth)||""},{name:["dispositivo"],value:(null===V||void 0===V?void 0:V.dispositivo)||""},{name:["llamar"],value:(null===V||void 0===V?void 0:V.llamar)||""},{name:["canal"],value:(null===V||void 0===V?void 0:V.canal)||""},{name:["horario_contacto"],value:(null===V||void 0===V?void 0:V.HorarioSugeridoContacto)||""},{name:["conexion"],value:(null===V||void 0===V?void 0:V.conexion)||""},{name:["profesionales"],value:(null===V||void 0===V?void 0:V.profesionales)||void 0},{name:["horarios"],value:(null===V||void 0===V?void 0:V.horarios)||null}],children:[Object(P.jsxs)("div",{className:"row",children:[Object(P.jsx)("div",{className:"col-12 col-md-6",children:Object(P.jsx)(w.a.Item,{label:"Persona autorizada contacto",name:"personaAuth",children:Object(P.jsx)(I.a,{})})}),Object(P.jsx)("div",{className:"col-12 col-md-6",children:Object(P.jsx)(w.a.Item,{label:"Dispositivo para Telemedicina",name:"dispositivo",children:Object(P.jsx)(N.a,{onChange:te,options:h})})}),Object(P.jsx)("div",{className:"col-12 col-md-6",children:Object(P.jsx)(w.a.Item,{label:"Llamar como",name:"llamar",children:Object(P.jsx)(I.a,{})})}),Object(P.jsx)("div",{className:"col-12 col-md-6",children:Object(P.jsx)(w.a.Item,{label:"Canal env\xedo confirmaci\xf3n",name:"canal",children:Object(P.jsx)(N.a,{onChange:te,name:"ciudad",options:E})})}),Object(P.jsx)("div",{className:"col-12 col-md-6",children:Object(P.jsx)(w.a.Item,{label:"Horario contacto",name:"horario_contacto",children:Object(P.jsx)(I.a,{})})}),Object(P.jsx)("div",{className:"col-12 col-md-6",children:Object(P.jsx)(w.a.Item,{label:"Conexi\xf3n a internet",name:"conexion",children:Object(P.jsx)(N.a,{options:W,onChange:te})})}),Object(P.jsx)("div",{className:"col-12 col-md-6",children:Object(P.jsx)(w.a.Item,{label:"Profesionales no deseados",name:"profesionales",children:Object(P.jsx)(N.a,{showSearch:!0,onChange:te,options:q,placeholder:"Seleccione profesionales",mode:"multiple",filterOption:function(e,t){var n;return(null!==(n=null===t||void 0===t?void 0:t.label)&&void 0!==n?n:"").toLowerCase().includes(e.toLowerCase())}})})}),Object(P.jsx)("div",{className:"col-12 col-md-6",children:Object(P.jsx)(w.a.Item,{label:"Horarios agendamiento",name:"horarios",children:Object(P.jsx)(N.a,{options:T,onChange:te})})})]}),Object(P.jsx)(b.a,{Style:"display: none;",id:"your-form-submit",type:"primary",htmlType:"submit",loading:j,children:"Actualizar"})]})})]})},F=function(e){var t=e.id,n=e.activeKey,a=Object(d.useState)([]),o=Object(l.a)(a,2),s=o[0],r=o[1],u=Object(d.useState)(!1),x=Object(l.a)(u,2),C=(x[0],x[1]),S=Object(d.useState)(null),_=Object(l.a)(S,2),w=_[0],I=_[1],N=Object(d.useState)(!1),F=Object(l.a)(N,2),M=F[0],q=F[1],Y=Object(d.useState)(null),B=Object(l.a)(Y,2),R=B[0],T=B[1],z=Object(d.useState)(null),Q=Object(l.a)(z,2),J=Q[0],W=Q[1],H=function(){var e=Object(i.a)(Object(c.a)().mark((function e(t){var n,a,i;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.next=3,Object(k.Pb)(t);case 3:i=e.sent,r(i),T(null===(n=i.FranjasHorarias)||void 0===n?void 0:n.split(",")),W(null===(a=i.ProfesionalesNoDeseados)||void 0===a?void 0:a.split(",")),console.log("data preferencias",i),C(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.useEffect)((function(){t&&"1"===n&&H(t)}),[t,n]),Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("div",{style:{float:"right"},children:Object(P.jsx)(b.a,{type:"primary",onClick:function(){I(t),q(!0)},children:"Editar"})}),Object(P.jsx)(D,{open:M,setOpen:q,idPaciente:w,getData:H}),Object(P.jsxs)(j.a,{gutter:[16,16],children:[Object(P.jsx)(O.a,{span:6,children:Object(P.jsxs)("div",{className:"d-flex align-items-center ",children:[Object(P.jsx)(v.a,{style:{fontSize:"40px",margin:"10px"}}),Object(P.jsxs)("div",{children:[Object(P.jsx)("div",{style:{color:"#8c8c8c",fontWeight:"bold"},children:"Persona Autorizada Contacto:"}),(null===s||void 0===s?void 0:s.PersonaAutorizadaContacto)||"Sin informaci\xf3n"]})]})}),Object(P.jsx)(O.a,{span:6,children:Object(P.jsxs)("div",{className:"d-flex align-items-center ",children:[Object(P.jsx)(m.a,{style:{fontSize:"40px",margin:"10px"}}),Object(P.jsxs)("div",{children:[Object(P.jsx)("div",{style:{color:"#8c8c8c",fontWeight:"bold"},children:"Ultima Actualizaci\xf3n:"}),E()(null===s||void 0===s?void 0:s.UltimaActualizacion,"ddd MMM DD YYYY").format("YYYY-MM-DD HH:mm")||"Sin informaci\xf3n"]})]})}),Object(P.jsx)(O.a,{span:6,children:Object(P.jsxs)("div",{className:"d-flex align-items-center ",children:[Object(P.jsx)(A.a,{style:{fontSize:"40px",margin:"10px"}}),Object(P.jsxs)("div",{children:[Object(P.jsx)("div",{style:{color:"#8c8c8c",fontWeight:"bold"},children:"Llamar Como:"}),(null===s||void 0===s?void 0:s.LlamarComo)||"Sin informaci\xf3n"]})]})}),Object(P.jsx)(O.a,{span:6,children:Object(P.jsxs)("div",{className:"d-flex align-items-center ",children:[Object(P.jsx)(f.a,{style:{fontSize:"40px",margin:"10px"}}),Object(P.jsxs)("div",{children:[Object(P.jsx)("div",{style:{color:"#8c8c8c",fontWeight:"bold"},children:"Horarios Agendamiento:"}),Object(P.jsx)("ul",{children:null===R||void 0===R?void 0:R.map((function(e){return Object(P.jsx)("li",{children:e||"Sin informaci\xf3n"},e)}))})]})]})}),Object(P.jsx)(O.a,{span:6,children:Object(P.jsxs)("div",{className:"d-flex align-items-center ",children:[Object(P.jsx)(p.a,{style:{fontSize:"40px",margin:"10px"}}),Object(P.jsxs)("div",{children:[Object(P.jsx)("div",{style:{color:"#8c8c8c",fontWeight:"bold"},children:"Dispositivo para telemedicina:"}),(null===s||void 0===s?void 0:s.DispositivoTelemedicina)||"Sin informaci\xf3n"]})]})}),Object(P.jsx)(O.a,{span:6,children:Object(P.jsxs)("div",{className:"d-flex align-items-center ",children:[Object(P.jsx)(h.a,{style:{fontSize:"40px",margin:"10px"}}),Object(P.jsxs)("div",{children:[Object(P.jsx)("div",{style:{color:"#8c8c8c",fontWeight:"bold"},children:"Conexi\xf3n a internet:"}),(null===s||void 0===s?void 0:s.ConexionInternet)||"Sin informaci\xf3n"]})]})}),Object(P.jsx)(O.a,{span:6,children:Object(P.jsxs)("div",{className:"d-flex align-items-center ",children:[Object(P.jsx)(g.a,{style:{fontSize:"40px",margin:"10px"}}),Object(P.jsxs)("div",{children:[Object(P.jsx)("div",{style:{color:"#8c8c8c",fontWeight:"bold"},children:"Canal Envio confirmaci\xf3n:"}),(null===s||void 0===s?void 0:s.CanalEnviConfirmacion)||"Sin informaci\xf3n"]})]})}),Object(P.jsx)(O.a,{span:6,children:Object(P.jsxs)("div",{className:"d-flex align-items-center ",children:[Object(P.jsx)(y.a,{style:{fontSize:"40px",margin:"10px"}}),Object(P.jsxs)("div",{children:[Object(P.jsx)("div",{style:{color:"#8c8c8c",fontWeight:"bold"},children:"Profesionales no Deseados:"}),Object(P.jsx)("ul",{children:null===J||void 0===J?void 0:J.map((function(e){return Object(P.jsx)("li",{children:e||"Sin informaci\xf3n"},e)}))})]})]})}),Object(P.jsx)(O.a,{span:6,children:Object(P.jsxs)("div",{className:"d-flex align-items-center ",children:[Object(P.jsx)(f.a,{style:{fontSize:"40px",margin:"10px"}}),Object(P.jsxs)("div",{children:[Object(P.jsx)("div",{style:{color:"#8c8c8c",fontWeight:"bold"},children:"Horario Contacto:"}),(null===s||void 0===s?void 0:s.HorarioSugeridoContacto)||"Sin informaci\xf3n"]})]})})]})]})},M=n.p+"static/media/nivel.557b1f12.png",q=n.p+"static/media/comportamiento-del-cliente.694d8b76.png",Y=n.p+"static/media/estatus-social.e9db055a.png",B=function(e){var t=e.id,n=e.activeKey,a=Object(d.useState)([]),o=Object(l.a)(a,2),s=o[0],r=o[1],u=function(){var e=Object(i.a)(Object(c.a)().mark((function e(t){var n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.A)(t);case 2:n=e.sent,r(n),console.log("data preferencias",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.useEffect)((function(){t&&"1"===n&&u(t)}),[t,n]),Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)(j.a,{gutter:[16,16],children:[Object(P.jsx)(O.a,{span:8,children:Object(P.jsxs)("div",{className:"d-flex align-items-center ",children:[Object(P.jsx)("img",{src:M,className:"icons",alt:"Descripci\xf3n del icono"}),Object(P.jsxs)("div",{children:[Object(P.jsx)("div",{style:{color:"#8c8c8c",fontWeight:"bold"},children:"Nivel afiliaci\xf3n:"}),(null===s||void 0===s?void 0:s.NivelAfiliacion)||"Sin informaci\xf3n"]})]})}),Object(P.jsx)(O.a,{span:8,children:Object(P.jsxs)("div",{className:"d-flex align-items-center ",children:[Object(P.jsx)("img",{src:q,className:"icons",alt:"Descripci\xf3n del icono"}),Object(P.jsxs)("div",{children:[Object(P.jsx)("div",{style:{color:"#8c8c8c",fontWeight:"bold"},children:"Tipo afiliaci\xf3n:"}),(null===s||void 0===s?void 0:s.TipoAfiliacion)||"Sin informaci\xf3n"]})]})}),Object(P.jsx)(O.a,{span:8,children:Object(P.jsxs)("div",{className:"d-flex align-items-center ",children:[Object(P.jsx)("img",{src:Y,className:"icons",alt:"Descripci\xf3n del icono"}),Object(P.jsxs)("div",{children:[Object(P.jsx)("div",{style:{color:"#8c8c8c",fontWeight:"bold"},children:"Regimen afiliaci\xf3n:"}),(null===s||void 0===s?void 0:s.RegimenAfiliacion)||"Sin informaci\xf3n"]})]})}),Object(P.jsx)(O.a,{span:8,children:Object(P.jsxs)("div",{className:"d-flex align-items-center ",children:[Object(P.jsx)("img",{src:q,className:"icons",alt:"Descripci\xf3n del icono"}),Object(P.jsxs)("div",{children:[Object(P.jsx)("div",{style:{color:"#8c8c8c",fontWeight:"bold"},children:"Tipo Ingreso:"}),(null===s||void 0===s?void 0:s.tipoIngreso)||"Sin informaci\xf3n"]})]})})]})})},R=n(952),T=n(987),z=n(988),Q=n(989),J=n(990),W=n(304),H=function(e){var t=e.idPaciente,n=e.type,a=e.id,o=e.activeKey,s=Object(d.useState)(null),r=Object(l.a)(s,2),u=r[0],m=r[1],A=Object(d.useState)(!1),f=Object(l.a)(A,2),p=f[0],h=f[1],g=Object(d.useState)(!1),y=Object(l.a)(g,2),C=y[0],S=y[1],_=function(){var e=Object(i.a)(Object(c.a)().mark((function e(t){var a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.Wb)(t,n);case 2:a=e.sent,console.log("Trae info actualizada: ",a),m(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.useEffect)(Object(i.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Entro a actualizar"),a&&"1"===o&&_(a);case 2:case"end":return e.stop()}}),e)}))),[a,C,o]),Object(d.useEffect)(Object(i.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Entro a actualizar por editar"),C&&(_(a),S(!1));case 2:case"end":return e.stop()}}),e)}))),[C]),Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(R.a,{setIsActualizar:S,open:p,setOpen:h,idPaciente:t}),Object(P.jsxs)(j.a,{gutter:[16,16],children:[Object(P.jsx)("div",{style:{float:"right"},children:Object(P.jsx)(b.a,{type:"primary",onClick:function(){return h(!0)},children:"Editar"})}),Object(P.jsx)(x.a,{plain:!0,style:{fontWeight:"bold"},children:"Informacion Basica"}),Object(P.jsx)(O.a,{span:6,children:Object(P.jsxs)("div",{className:"d-flex align-items-center ",children:[Object(P.jsx)(T.a,{style:{fontSize:"40px",margin:"10px"}}),Object(P.jsxs)("div",{children:[Object(P.jsx)("div",{style:{color:"#8c8c8c",fontWeight:"bold"},children:"Celular:"}),(null===u||void 0===u?void 0:u.celular)||"Sin informaci\xf3n"]})]})}),Object(P.jsx)(O.a,{span:6,children:Object(P.jsxs)("div",{className:"d-flex align-items-center ",children:[Object(P.jsx)(z.a,{style:{fontSize:"40px",margin:"10px"}}),Object(P.jsxs)("div",{children:[Object(P.jsx)("div",{style:{color:"#8c8c8c",fontWeight:"bold"},children:"Email:"}),(null===u||void 0===u?void 0:u.email)||"Sin informaci\xf3n"]})]})}),Object(P.jsx)(O.a,{span:6,children:Object(P.jsxs)("div",{className:"d-flex align-items-center ",children:[Object(P.jsx)(Q.a,{style:{fontSize:"40px",margin:"10px"}}),Object(P.jsxs)("div",{children:[Object(P.jsx)("div",{style:{color:"#8c8c8c",fontWeight:"bold"},children:"Edad:"}),(null===u||void 0===u?void 0:u.edad)||"Sin informaci\xf3n"]})]})}),Object(P.jsx)(O.a,{span:6,children:Object(P.jsxs)("div",{className:"d-flex align-items-center ",children:[Object(P.jsx)(J.a,{style:{fontSize:"40px",margin:"10px"}}),Object(P.jsxs)("div",{children:[Object(P.jsx)("div",{style:{color:"#8c8c8c",fontWeight:"bold"},children:"Direcci\xf3n:"}),(null===u||void 0===u?void 0:u.direccion)||"Sin informaci\xf3n"]})]})}),Object(P.jsx)(O.a,{span:6,children:Object(P.jsxs)("div",{className:"d-flex align-items-center ",children:[Object(P.jsx)(J.a,{style:{fontSize:"40px",margin:"10px"}}),Object(P.jsxs)("div",{children:[Object(P.jsx)("div",{style:{color:"#8c8c8c",fontWeight:"bold"},children:"Ciudad:"}),(null===u||void 0===u?void 0:u.ciudad)||"Sin informaci\xf3n"]})]})}),Object(P.jsx)(O.a,{span:6,children:Object(P.jsxs)("div",{className:"d-flex align-items-center ",children:[Object(P.jsx)(v.a,{style:{fontSize:"40px",margin:"10px"}}),Object(P.jsxs)("div",{children:[Object(P.jsx)("div",{style:{color:"#8c8c8c",fontWeight:"bold"},children:"Genero:"}),(null===u||void 0===u?void 0:u.genero)||"Sin informaci\xf3n"]})]})}),Object(P.jsx)(O.a,{span:6,children:Object(P.jsxs)("div",{className:"d-flex align-items-center ",children:[Object(P.jsx)(W.a,{style:{fontSize:"40px",margin:"10px"}}),Object(P.jsxs)("div",{children:[Object(P.jsx)("div",{style:{color:"#8c8c8c",fontWeight:"bold"},children:"Fecha Nacimiento:"}),E()(null===u||void 0===u?void 0:u.fechaNacimiento,"ddd MMM DD YYYY").format("YYYY-MM-DD HH:mm")||"Sin informaci\xf3n"]})]})})]}),Object(P.jsx)(x.a,{plain:!0,style:{fontWeight:"bold"},children:"Preferencias Paciente"}),Object(P.jsx)(F,{id:null===u||void 0===u?void 0:u.id,activeKey:o}),Object(P.jsx)(x.a,{plain:!0,style:{fontWeight:"bold"},children:"Datos de Afiliaci\xf3n"}),Object(P.jsx)(B,{id:null===u||void 0===u?void 0:u.id,activeKey:o})]})},L=n(938),K=n(153),G=n(234),V=n(933),X=n(970),U={40262997:{ResultadoContacto:!0,"PlanRutaAtenci\xf3n":!1,Servicio:!1,EtiquetaAdministrativa:!1,MotivoInasistencia:!0,ObservacionSeguimiento:!0,NotaCambioEtiquetaAdministrativa:!1},40262988:{ResultadoContacto:!0,"PlanRutaAtenci\xf3n":!1,Servicio:!1,EtiquetaAdministrativa:!1,MotivoInasistencia:!1,ObservacionSeguimiento:!0,NotaCambioEtiquetaAdministrativa:!1},40262982:{ResultadoContacto:!0,"PlanRutaAtenci\xf3n":!1,Servicio:!1,EtiquetaAdministrativa:!0,MotivoInasistencia:!1,ObservacionSeguimiento:!0,NotaCambioEtiquetaAdministrativa:!0},40262957:{ResultadoContacto:!0,"PlanRutaAtenci\xf3n":!1,Servicio:!1,EtiquetaAdministrativa:!1,MotivoInasistencia:!1,ObservacionSeguimiento:!0,NotaCambioEtiquetaAdministrativa:!1},40414474:{ResultadoContacto:!0,"PlanRutaAtenci\xf3n":!0,Servicio:!0,EtiquetaAdministrativa:!1,MotivoInasistencia:!1,ObservacionSeguimiento:!0,NotaCambioEtiquetaAdministrativa:!1},45323546:{ResultadoContacto:!0,"PlanRutaAtenci\xf3n":!1,Servicio:!1,EtiquetaAdministrativa:!1,MotivoInasistencia:!1,ObservacionSeguimiento:!0,NotaCambioEtiquetaAdministrativa:!1},45323551:{ResultadoContacto:!0,"PlanRutaAtenci\xf3n":!1,Servicio:!1,EtiquetaAdministrativa:!1,MotivoInasistencia:!1,ObservacionSeguimiento:!0,NotaCambioEtiquetaAdministrativa:!1},null:{ResultadoContacto:!1,"PlanRutaAtenci\xf3n":!1,Servicio:!1,EtiquetaAdministrativa:!1,MotivoInasistencia:!1,ObservacionSeguimiento:!1,NotaCambioEtiquetaAdministrativa:!1},undefined:{ResultadoContacto:!1,"PlanRutaAtenci\xf3n":!1,Servicio:!1,EtiquetaAdministrativa:!1,MotivoInasistencia:!1,ObservacionSeguimiento:!1,NotaCambioEtiquetaAdministrativa:!1}},Z=X.a.Text,$=function(e){var t,n,a,o,s=e.open,r=e.setOpen,u=e.dataNote,j=e.idPaciente,x=w.a.useForm(),O=Object(l.a)(x,1)[0],v=Object(d.useState)(null),m=Object(l.a)(v,2),A=m[0],f=m[1],p=Object(d.useState)({Fecha_Etiqueta:null,Etiqueta_Seguimiento_txt:null,Resultado_de_Contacto_txt:null,Motivo_Inasistencia_txt:null,Etiqueta_Administrativa_txt:null,Plan_Ruta_txt:null,Plan_Mensual_txt:null,Nota_Cambio:null,Observacion_Seguimiento:null,Tabla_Resultados:null}),h=Object(l.a)(p,2),g=h[0],y=h[1];Object(d.useEffect)((function(){j&&!0===s&&C()}),[s]);var C=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var t;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.P)(u.Id);case 2:t=e.sent,y(t),console.log(u),console.log("Llego: ",t),t.Plan_Mensual_txt&&(f(E(null===t||void 0===t?void 0:t.Tabla_Resultados)),console.log("convirtio: ",A));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(e){for(var t=e.split(","),n=[],a=0;a<t.length;a+=2){var c={servicio:t[a],resultado:t[a+1]};n.push(c)}return n},S=function(){return r(!1)};return Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)(_.a,{title:"Ver Notas Administrativas",open:s,onCancel:S,footer:[Object(P.jsx)(b.a,{onClick:S,children:"Cerrar"},"button-cancel")],children:[Object(P.jsx)(w.a,{id:"form",form:O,name:"form",autoComplete:"off",layout:"vertical",children:Object(P.jsxs)("div",{className:"row",children:[Object(P.jsx)("div",{className:"col-12 col-md-6",children:Object(P.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(P.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Etiqueta Seguimiento"}),Object(P.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(P.jsx)(Z,{children:null===g||void 0===g?void 0:g.Etiqueta_Seguimiento_txt})})]})}),null==A?Object(P.jsx)("div",{className:"col-12 col-md-6",children:Object(P.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(P.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Resultado Contacto"}),Object(P.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(P.jsx)(Z,{children:null===g||void 0===g?void 0:g.Resultado_de_Contacto_txt})})]})}):null,null!==(t=U[u.Etiqueta_Seguimiento_id])&&void 0!==t&&t.MotivoInasistencia?Object(P.jsx)("div",{className:"col-12 col-md-6",children:Object(P.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(P.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Motivo de inasistencia"}),Object(P.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(P.jsx)(Z,{children:null===g||void 0===g?void 0:g.Motivo_Inasistencia_txt})})]})}):null,Object(P.jsx)("div",{className:"col-12 col-md-6",children:Object(P.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(P.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Etiqueta Administrativa"}),Object(P.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(P.jsx)(Z,{children:null===g||void 0===g?void 0:g.Etiqueta_Administrativa_txt})})]})}),Object(P.jsx)("div",{className:"col-12 col-md-12",children:Object(P.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(P.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Nota Cambio Etiqueta Administrativa"}),Object(P.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(P.jsx)(Z,{children:null===g||void 0===g?void 0:g.Nota_Cambio})})]})}),null!==(n=U[u.Etiqueta_Seguimiento_id])&&void 0!==n&&n.PlanRutaAtenci\u00f3n?Object(P.jsx)("div",{className:"col-12 col-md-6",children:Object(P.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(P.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Plan/Ruta Atenci\xf3n"}),Object(P.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(P.jsx)(Z,{children:null===g||void 0===g?void 0:g.Plan_Ruta_txt})})]})}):null,null!==(a=U[u.Etiqueta_Seguimiento_id])&&void 0!==a&&a.Servicio?Object(P.jsx)("div",{className:"col-12 col-md-6",children:Object(P.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(P.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Servicio"}),Object(P.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(P.jsx)(Z,{children:null===g||void 0===g?void 0:g.Plan_Mensual_txt})})]})}):null,null!==(o=U[u.Etiqueta_Seguimiento_id])&&void 0!==o&&o.ObservacionSeguimiento?Object(P.jsx)("div",{className:"col-12 col-md-12",children:Object(P.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(P.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Observaci\xf3n de Seguimiento"}),Object(P.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(P.jsx)(Z,{children:null===g||void 0===g?void 0:g.Observacion_Seguimiento})})]})}):null]})}),null!=A?Object(P.jsx)(V.a,{style:{marginTop:"20px"},columns:[{title:"Servicio",dataIndex:"servicio",key:"servicio"},{title:"Resultado contacto",dataIndex:"resultado",key:"resultado"}],loading:!1,dataSource:A}):null]})})},ee=n(510),te=L.a.Panel,ne=function(e){var t=e.id,n=(e.activeKey,w.a.useForm()),a=Object(l.a)(n,1)[0],o=Object(d.useState)([]),s=Object(l.a)(o,2),r=s[0],u=s[1],x=Object(d.useState)({Fecha_Etiqueta:null,Etiqueta_Seguimiento_txt:null,Resultado_de_Contacto_txt:null,Observacion_Seguimiento:null,Id:null,Etiqueta_Seguimiento_id:null}),O=Object(l.a)(x,2),v=O[0],m=O[1],A=Object(d.useState)(!1),f=Object(l.a)(A,2),p=f[0],h=f[1],g=Object(d.useState)([]),y=Object(l.a)(g,2),C=y[0],S=y[1],_=Object(d.useState)([]),I=Object(l.a)(_,2),D=I[0],F=I[1],M=Object(d.useState)(!1),q=Object(l.a)(M,2),Y=q[0],B=q[1],R=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.N)("Nada",{fecha_etiqueta:null,Etiqueta_seguimiento:null,Resultado_contacto:null},t);case 2:n=e.sent,u(n),console.log("data preferencias",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var t,n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.mb)();case 2:return t=e.sent,S(t),e.next=6,Object(k.S)();case 6:n=e.sent,F(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function z(e){var t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0"),c=String(e.getHours()).padStart(2,"0"),i=String(e.getMinutes()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(a," ").concat(c,":").concat(i)}var Q=function(){var e=Object(i.a)(Object(c.a)().mark((function e(n){var a,i,l,o;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h(!0),(a=new Date(null===n||void 0===n?void 0:n.fecha_etiqueta)).setHours(0,0,0,0),(i=new Date(null===n||void 0===n?void 0:n.fecha_etiqueta)).setHours(23,59,59,999),o={fecha_etiqueta:z(a),second_fecha:z(i),Etiqueta_seguimiento:null===n||void 0===n?void 0:n.Etiqueta_seguimiento,Resultado_contacto:null===n||void 0===n?void 0:n.Resultado_contacto},void 0===n.fecha_etiqueta||void 0===n.Etiqueta_seguimiento||void 0===n.Resultado_contacto){e.next=13;break}return e.next=9,Object(k.N)("Todo",o,t);case 9:l=e.sent,u(l),e.next=56;break;case 13:if(void 0===n.fecha_etiqueta||void 0!==n.Etiqueta_seguimiento||void 0!==n.Resultado_contacto){e.next=20;break}return e.next=16,Object(k.N)("Fecha",o,t);case 16:l=e.sent,u(l),e.next=56;break;case 20:if(void 0!==n.fecha_etiqueta||void 0===n.Etiqueta_seguimiento||void 0!==n.Resultado_contacto){e.next=27;break}return e.next=23,Object(k.N)("Seguimiento",o,t);case 23:l=e.sent,u(l),e.next=56;break;case 27:if(void 0!==n.fecha_etiqueta||void 0!==n.Etiqueta_seguimiento||void 0===n.Resultado_contacto){e.next=34;break}return e.next=30,Object(k.N)("Contacto",o,t);case 30:l=e.sent,u(l),e.next=56;break;case 34:if(void 0===n.fecha_etiqueta||void 0===n.Etiqueta_seguimiento||void 0!==n.Resultado_contacto){e.next=41;break}return e.next=37,Object(k.N)("Fecha_Seguimiento",o,t);case 37:l=e.sent,u(l),e.next=56;break;case 41:if(void 0===n.fecha_etiqueta||void 0!==n.Etiqueta_seguimiento||void 0===n.Resultado_contacto){e.next=48;break}return e.next=44,Object(k.N)("Fecha_Contacto",o,t);case 44:l=e.sent,u(l),e.next=56;break;case 48:if(void 0!==n.fecha_etiqueta||void 0===n.Etiqueta_seguimiento||void 0===n.Resultado_contacto){e.next=55;break}return e.next=51,Object(k.N)("Seguimiento_Contacto",o,t);case 51:l=e.sent,u(l),e.next=56;break;case 55:void 0===n.fecha_etiqueta&&void 0===n.Etiqueta_seguimiento&&void 0===n.Resultado_contacto&&R();case 56:h(!1);case 57:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(d.useEffect)((function(){t&&(R(),T())}),[]);var J=[{title:"Fecha Etiqueta",dataIndex:"Fecha_Etiqueta",key:"Fecha_Etiqueta",render:function(e){return E()(e).format("DD/MM/YYYY")}},{title:"Etiqueta Seguimiento",dataIndex:"Etiqueta_Seguimiento_txt",key:"Etiqueta_Seguimiento_txt",render:function(e){return Object(P.jsx)(P.Fragment,{children:e})}},{title:"Resultado de Contacto",dataIndex:"Resultado_de_Contacto_txt",key:"Resultado_de_Contacto_txt",render:function(e){return Object(P.jsx)(P.Fragment,{children:e})}},{title:"Observaci\xf3n Seguimiento",dataIndex:"Observacion_Seguimiento",key:"Observacion_Seguimiento"},{title:"Acciones",key:"action",align:"center",render:function(e){return Object(P.jsx)(K.a,{title:"Ver",children:Object(P.jsx)(b.a,{onClick:Object(i.a)(Object(c.a)().mark((function t(){return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("Sirve ver",e),B(!0),m(e);case 3:case"end":return t.stop()}}),t)}))),children:Object(P.jsx)(ee.a,{})})})}}];return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)($,{open:Y,setOpen:B,dataNote:v,idPaciente:t}),Object(P.jsx)(L.a,{children:Object(P.jsx)(te,{header:"Filtros Notas",children:Object(P.jsx)(w.a,{colon:!1,onFinish:Q,form:a,autoComplete:"off",layout:"vertical",children:Object(P.jsxs)(j.a,{style:{flexDirection:"row",justifyContent:"space-between"},children:[Object(P.jsx)(w.a.Item,{label:"Fecha Etiqueta",name:"fecha_etiqueta",children:Object(P.jsx)(G.a,{})}),Object(P.jsx)(w.a.Item,{label:"Etiqueta Seguimiento",name:"Etiqueta_seguimiento",style:{width:"20%"},children:Object(P.jsx)(N.a,{options:C})}),Object(P.jsx)(w.a.Item,{label:"Resultado Contacto",name:"Resultado_contacto",style:{width:"20%"},children:Object(P.jsx)(N.a,{options:D})}),Object(P.jsxs)("div",{className:"d-flex justify-content-end me-4",children:[Object(P.jsx)(b.a,{type:"primary",onClick:a.submit,children:"Filtrar"}),Object(P.jsx)(b.a,{htmlType:"submit",onClick:function(){a.resetFields(),u([])},children:"Limpiar Filtros"})]},"button-actions")]})})},"1")}),Object(P.jsx)(V.a,{columns:J,loading:p,dataSource:r,scroll:{x:1300}})]})},ae=n(198),ce=n(509),ie=n(231),le={Creado:{Programar:!0,Renovar:!1,Generar:!1,Nota:!0},Programado:{Programar:!1,Renovar:!0,Generar:!0,Nota:!0},"Generado Citas":{Programar:!1,Renovar:!0,Generar:!0,Nota:!0},Inactivo:{Programar:!1,Renovar:!1,Generar:!1,Nota:!0}},oe=[{value:null,label:"Seleccione"},{value:0,label:"Desactivo"},{value:1,label:"Activo"}],se=n(503),re=n(972),de=n(106),ue=n(991),je=n(992),be=n(928),xe=n(306),Oe=n(945),ve=n(199),me=n.n(ve),Ae=function(e){var t=e.isModalPertinencia,n=e.setIsModalPertinencia,a=e.mes,o=e.ano,s=e.duracion,r=e.detailPlan,u=e.getData,x=e.idPrograma,O=w.a.useForm(),v=Object(l.a)(O,1)[0],m=Object(d.useState)(!1),A=Object(l.a)(m,2),f=A[0],p=A[1],h=Object(d.useState)([]),g=Object(l.a)(h,2),y=g[0],C=g[1],D=Object(d.useState)(null),F=Object(l.a)(D,2),M=F[0],q=F[1],Y=Object(d.useState)([]),B=Object(l.a)(Y,2),R=B[0],T=B[1],z=S.b.useMessage(),Q=Object(l.a)(z,2),J=Q[0],W=Q[1];Object(d.useEffect)(Object(i.a)(Object(c.a)().mark((function e(){var n,i;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=12;break}return v.setFieldValue("duracion",s),e.next=4,Object(k.hb)();case 4:return n=e.sent,C(n),e.next=8,Object(k.W)();case 8:i=e.sent,T(i),v.setFieldValue("ano",E()("".concat(o,"-01-01"),"YYYY-MM-DD")),v.setFieldValue("mes",a);case 12:case"end":return e.stop()}}),e)}))),[t]);var H=function(){n(!1)},L=function(){var e=Object(i.a)(Object(c.a)().mark((function e(t){var n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.cb)(t);case 2:n=e.sent,q(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var t,n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=v.getFieldsValue(),e.next=3,Object(k.c)(x,t);case 3:null!==(n=e.sent)&&void 0!==n&&n.Duracion?v.setFieldValue("duracion",n.Duracion):me.a.fire({icon:"error",title:"Oops...",text:"No existe duraci\xf3n para los canales seleccionados"});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var t,n,a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),t=v.getFieldsValue(),e.prev=2,e.next=5,Object(k.v)(r,t);case 5:return e.sent,e.next=8,J.open({type:"success",content:"Se ha creado correctamente la nota"});case 8:e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(2),console.log(e.t0.response),e.next=15,J.open({type:"error",content:(null===(n=e.t0.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message)||"error"});case 15:p(!1),H(),v.resetFields(),u();case 19:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}();return Object(P.jsxs)(P.Fragment,{children:[W,Object(P.jsx)(_.a,{title:"Agregar Pertinencia",open:t,onCancel:H,footer:[Object(P.jsx)(b.a,{onClick:H,children:"Cerrar"},"button-cancel"),Object(P.jsx)(b.a,{loading:f,onClick:v.submit,children:"Agregar"},"add")],children:Object(P.jsx)(w.a,{colon:!1,onFinish:V,form:v,autoComplete:"off",layout:"vertical",children:Object(P.jsxs)(j.a,{style:{flexDirection:"column",justifyContent:"space-between"},children:[Object(P.jsx)(w.a.Item,{label:"Profesi\xf3n",name:"profesion",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(P.jsx)(N.a,{placeholder:"Seleccione una profesi\xf3n",style:{width:"100%"},options:y,onChange:function(e){L(e)}})}),Object(P.jsx)(w.a.Item,{label:"Clase Examen",name:"claseExamen",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(P.jsx)(N.a,{placeholder:"Seleccione un examen",style:{width:"100%"},options:M})}),Object(P.jsx)(w.a.Item,{label:"Canal Atenci\xf3n",name:"canales",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(P.jsx)(N.a,{mode:"multiple",placeholder:"Seleccione canales",style:{width:"100%"},options:R,onChange:K})}),Object(P.jsx)(w.a.Item,{label:"Mes Calendario",name:"mes",children:Object(P.jsx)(N.a,{disabled:!0,placeholder:"Seleccione un mes",style:{width:"100%"},options:de.b})}),Object(P.jsx)(w.a.Item,{label:"A\xf1o",name:"ano",children:Object(P.jsx)(G.a,{disabled:!0,style:{width:"100%"},onChange:function(e,t){console.log(e.getFullYear,t)},picker:"year"})}),Object(P.jsx)(w.a.Item,{label:"Duraci\xf3n",name:"duracion",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(P.jsx)(I.a,{type:"text",disabled:!0,style:{width:"100%"}})})]})})})]})},fe=function(e){var t,n,a,o,s,r,u=e.styleName,j=e.timeLine,O=e.idPaciente,v=e.getData,m=e.viewButton,A=e.detailPlan,f=e.idPrograma,p=j.Cita,h=Object(d.useState)(!1),g=Object(l.a)(h,2),y=g[0],C=g[1],w=Object(d.useState)(null),I=Object(l.a)(w,2),D=I[0],F=I[1],M=Object(d.useState)(!1),q=Object(l.a)(M,2),Y=q[0],B=q[1],R=S.b.useMessage(),T=Object(l.a)(R,2),z=T[0],Q=T[1],J=Object(d.useState)(null),W=Object(l.a)(J,2),H=W[0],L=W[1],G=Object(d.useState)(null),X=Object(l.a)(G,2),U=X[0],Z=X[1],$=Object(d.useState)(null),te=Object(l.a)($,2),ne=te[0],ie=te[1],le=Object(d.useState)(null),oe=Object(l.a)(le,2),se=oe[0],re=oe[1],ve=Object(d.useState)(!1),me=Object(l.a)(ve,2),fe=me[0],pe=me[1],he=Object(d.useState)(!1),ge=Object(l.a)(he,2),ye=ge[0],Ce=ge[1],Ee=Object(d.useState)(!1),ke=Object(l.a)(Ee,2),Se=ke[0],_e=ke[1],we=Object(d.useState)(),Ie=Object(l.a)(we,2),Ne=Ie[0],Pe=Ie[1],De=Object(d.useState)(""),Fe=Object(l.a)(De,2),Me=Fe[0],qe=Fe[1],Ye=Object(d.useState)(!1),Be=Object(l.a)(Ye,2),Re=Be[0],Te=Be[1],ze=new Date,Qe=ze.getMonth()+1,Je=ze.getFullYear(),We=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var t,n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={Ruta:H.Id,Canal:null===U||void 0===U?void 0:U.join("|")},n={Ruta:H.Id,Canal:""},B(!0),e.next=5,Object(k.Ec)(n);case 5:return e.sent,e.next=8,Object(k.Ec)(t);case 8:if("ok"!=e.sent.status){e.next=14;break}return e.next=12,z.open({type:"success",content:"Se ha editado correctamente el canal de atenci\xf3n"});case 12:e.next=16;break;case 14:return e.next=16,z.open({type:"error",content:"error"});case 16:B(!1),C(!1),Z(null),v();case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),He=function(){C(!1),console.log(D),Z(null)},Le=[{title:"Nombre",key:"name",render:function(e){return Object(P.jsx)("div",{onClick:function(){Ge(),console.log("Sirve",e),Pe(e),_e(!0)},children:e.name})}},{title:"Estado",key:"Estado_Txt",render:function(e){var t;return Object(P.jsx)("div",{onClick:function(){Ge(),console.log("Sirve",e),Pe(e),_e(!0)},children:Object(P.jsx)(ce.a,{color:null===(t=xe.c[e.Estado_Txt])||void 0===t?void 0:t.color,children:e.Estado_Txt})})}}],Ke=[{title:"Fecha",key:"Fecha_Etiqueta",render:function(e){return E()(e.Fecha_Etiqueta).format("DD/MM/YYYY HH:mm")}},{title:"Resultado",key:"Tabla_Resultados",render:function(e){var t,n=null===(t=e.Tabla_Resultados)||void 0===t?void 0:t.split(","),a=null===n||void 0===n?void 0:n.indexOf(Me);return Object(P.jsx)("div",{children:n[a+1]})}}],Ge=function(){pe(!1)},Ve=function(){Ce(!1)};return Object(d.useState)(!1),Object(P.jsxs)("div",{className:"gx-timeline-item ".concat(u),style:"gx-timeline-inverted"==u?{textAlign:"left"}:null,children:[Object(P.jsx)("div",{className:"gx-timeline-badge gx-timeline-img",children:Object(P.jsx)("img",{src:"/assets/images/pentagon.png",alt:"Pentagon",title:"Pentagon"})}),Object(P.jsxs)("div",{className:"gx-timeline-panel",style:{boxShadow:"0 3px 6px -4px rgba(0,0,0,.12), 0 6px 16px 0 rgba(0,0,0,.08), 0 9px 28px 8px rgba(0,0,0,.05)",backgroundColor:"#f5f5f5"},children:[Object(P.jsx)("div",{className:"gx-timeline-panel-header",children:Object(P.jsx)("div",{className:"gx-timeline-heading",children:Object(P.jsxs)("h4",{children:[Object(P.jsxs)("span",{style:{fontWeight:"bold"},children:[de.a[null===(t=j[0])||void 0===t?void 0:t.Mes],", ",null===(n=j[0])||void 0===n?void 0:n.Year]}),Object(P.jsx)(K.a,{title:"Agregar Pertinencia",children:Object(P.jsx)(b.a,{onClick:function(){Te(!0)},disabled:(null===(a=j[0])||void 0===a?void 0:a.Mes)<Qe&&(null===(o=j[0])||void 0===o?void 0:o.Year)<=Je,style:{marginLeft:"20px"},children:Object(P.jsx)(ue.a,{})})}),Object(P.jsx)(Ae,{isModalPertinencia:Re,setIsModalPertinencia:Te,mes:null===(s=j[0])||void 0===s?void 0:s.Mes,ano:null===(r=j[0])||void 0===r?void 0:r.Year,detailPlan:A,getData:v,idPrograma:f})]})})}),null===j||void 0===j?void 0:j.map((function(e,t){var n,a;return Object(P.jsxs)("div",{className:"gx-timeline-body",style:{display:"flex",flexWrap:"wrap"},children:[Object(P.jsxs)("p",{style:{width:"100%",fontWeight:"bold",fontSize:"16px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.Examen_txt,Object(P.jsxs)("span",{style:{display:"flex",flexDirection:"column"},children:[Object(P.jsx)(K.a,{title:"Ver Resultados",children:Object(P.jsx)(b.a,{onClick:Object(i.a)(Object(c.a)().mark((function t(){var n;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Ce(!0),t.next=3,Object(k.Ob)(e.Id);case 3:n=t.sent,re(n),qe(e.Name);case 6:case"end":return t.stop()}}),t)}))),disabled:0==e.Notas_Administrativas_txt,style:{backgroundColor:"#00ABC8",color:"#FFF",marginRight:"0px",marginBottom:"0px"},children:Object(P.jsx)(je.a,{})})}),Object(P.jsx)(K.a,{title:"Editar",children:Object(P.jsx)(b.a,{onClick:Object(i.a)(Object(c.a)().mark((function t(){var n,a,i;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return L(e),C(!0),t.next=4,Object(k.X)(null===e||void 0===e?void 0:e.Canales_Iniciales);case 4:n=t.sent,F(n),a=null===e||void 0===e?void 0:e.Canal_Atencion_IdString.split(","),i=a.map((function(e){return Number(e)})),Z(i),console.log(i);case 10:case"end":return t.stop()}}),t)}))),type:"primary",style:{marginBottom:"0px"},children:Object(P.jsx)(be.a,{})})})]})]}),Object(P.jsxs)("p",{style:{width:"50%"},children:[Object(P.jsx)("span",{style:{fontWeight:"bold"},children:"Canal Atenci\xf3n: "}),e.Canal_Atencion_txt]}),Object(P.jsxs)("p",{style:{width:"50%"},children:[Object(P.jsx)("span",{style:{fontWeight:"bold"},children:"Origen: "}),e.Origen]}),Object(P.jsxs)("p",{style:{width:"50%"},children:[Object(P.jsx)("span",{style:{fontWeight:"bold"},children:"Duraci\xf3n: "}),e.Duracion_Min]}),Object(P.jsxs)("p",{style:{width:"50%"},children:[Object(P.jsx)("span",{style:{fontWeight:"bold"},children:"Tercerizado: "}),Object(P.jsx)(ae.a,{checked:Number(e.Tercerizado),disabled:!0})]}),Object(P.jsxs)("p",{style:{width:"50%"},children:[Object(P.jsx)("span",{style:{fontWeight:"bold"},children:"Predecesor: "}),Object(P.jsx)(ae.a,{checked:Number(e.Prerrequisito),disabled:!0})]}),Object(P.jsxs)("p",{style:{width:"50%"},children:[Object(P.jsx)("span",{style:{fontWeight:"bold"},children:"Estado: "}),Object(P.jsx)(ce.a,{color:null===(n=xe.b[e.Pendiente][e.Disentido])||void 0===n?void 0:n.color,onClick:Object(i.a)(Object(c.a)().mark((function t(){var n;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return pe(!0),t.next=3,Object(k.I)(e.Id);case 3:n=t.sent,ie(n);case 5:case"end":return t.stop()}}),t)}))),children:null===(a=xe.b[e.Pendiente][e.Disentido])||void 0===a?void 0:a.text})]}),Object(P.jsx)(x.a,{})]},t)})),Object(P.jsx)(_.a,{title:"Notas Administrativas",open:ye,onCancel:Ve,footer:[Object(P.jsx)(b.a,{onClick:Ve,children:"Cerrar"},"button-cancel")],children:Object(P.jsx)(V.a,{dataSource:se,columns:Ke})}),Object(P.jsx)(_.a,{title:"Citas Relacionadas",open:fe,onCancel:Ge,footer:[Object(P.jsx)(b.a,{onClick:Ge,children:"Cerrar"},"button-cancel")],children:Object(P.jsx)(V.a,{dataSource:ne,columns:Le})}),Object(P.jsx)(_.a,{title:"Editar canal de atenci\xf3n",open:y,onCancel:He,footer:[Object(P.jsx)(b.a,{onClick:He,children:"Cancelar"},"button-cancel"),Object(P.jsx)(b.a,{loading:Y,onClick:We,children:"Confirmar"},"button-integrar")],children:Object(P.jsx)("div",{label:"Canal de atenci\xf3n",name:"canal",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(P.jsx)(N.a,{mode:"multiple",className:"w-100",placeholder:"Selecciona un canal de atenci\xf3n",onChange:function(e){console.log(e),Z(e)},options:D,value:U})})}),Object(P.jsx)(Oe.a,{open:Se,setOpen:_e,dataRow:Ne,idPaciente:O,setOpenPopover:pe,viewButton:m}),Q,null!=p?Object(P.jsxs)(b.a,{children:[Object(P.jsx)(ee.a,{})," Cita"]}):null]})]})},pe=n(14),he=n(939),ge=n(974),ye=(n(515),I.a.TextArea),Ce=L.a.Panel,Ee=function(e){var t=e.detailPlan,n=e.openModalGenerateQuotes,s=e.setOpenModalGenerateQuotes,r=e.idPaciente,u=w.a.useForm(),x=Object(l.a)(u,1)[0],O=w.a.useForm(),v=Object(l.a)(O,1)[0],m=S.b.useMessage(),A=Object(l.a)(m,2),f=A[0],p=A[1],h=o.a.useNotification(),g=Object(l.a)(h,2),y=g[0],C=g[1],I=Object(d.useState)(0),D=Object(l.a)(I,2),F=D[0],M=D[1],q=Object(d.useState)([]),Y=Object(l.a)(q,2),B=Y[0],R=Y[1],T=Object(d.useState)(!1),z=Object(l.a)(T,2),Q=z[0],J=z[1],W=Object(d.useState)(!1),H=Object(l.a)(W,2),K=H[0],V=H[1],X=Object(d.useState)([]),U=Object(l.a)(X,2),Z=U[0],$=U[1],ee=Object(d.useState)(null),te=Object(l.a)(ee,2),ne=te[0],ce=te[1],ie=Object(d.useState)([]),le=Object(l.a)(ie,2),oe=le[0],se=le[1],re=Object(d.useState)([]),ue=Object(l.a)(re,2),je=ue[0],be=ue[1],xe=Object(d.useState)(null),Oe=Object(l.a)(xe,2),ve=Oe[0],Ae=Oe[1],fe=Object(d.useState)(null),Ee=Object(l.a)(fe,2),ke=Ee[0],Se=Ee[1],_e=Object(d.useState)(null),we=Object(l.a)(_e,2),Ie=we[0],Ne=we[1],Pe=Object(d.useState)([]),De=Object(l.a)(Pe,2),Fe=De[0],Me=De[1],qe=Object(d.useState)(!1),Ye=Object(l.a)(qe,2),Be=Ye[0],Re=Ye[1],Te=Object(d.useState)(!1),ze=Object(l.a)(Te,2),Qe=ze[0],Je=ze[1],We=Object(d.useState)([]),He=Object(l.a)(We,2),Le=He[0],Ke=He[1],Ge=Object(d.useState)([]),Ve=Object(l.a)(Ge,2),Xe=Ve[0],Ue=Ve[1],Ze=Object(d.useState)({id_Etiqueta_Amin_Actual:0,Etiqueta_Amin_Actual:"",id_Etiqueta_Asistencial_Actual:0,Etiqueta_Asistencial_Actual:""}),$e=Object(l.a)(Ze,2),et=$e[0],tt=$e[1],nt=Object(d.useState)(null),at=Object(l.a)(nt,2),ct=at[0],it=at[1],lt=new Date,ot=Object(d.useState)(null),st=Object(l.a)(ot,2),rt=st[0],dt=st[1],ut=function(e){return e&&e<lt};Object(d.useEffect)(Object(i.a)(Object(c.a)().mark((function e(){var t;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.B)(r);case 2:t=e.sent,console.log(Number(t.id_Etiqueta_Amin_Actual)),tt(t);case 5:case"end":return e.stop()}}),e)}))),[]),Object(d.useEffect)(Object(i.a)(Object(c.a)().mark((function e(){var n,a,i;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(2!==F){e.next=15;break}return e.next=3,Object(k.mb)(2);case 3:return n=e.sent,se(n),e.next=7,Object(k.Gb)();case 7:return a=e.sent,be(a),console.log(ve),e.next=12,Object(k.ac)(t,ve);case 12:i=e.sent,console.log("planes: ",i),ce(i);case 15:case"end":return e.stop()}}),e)}))),[F]),Object(d.useEffect)(Object(i.a)(Object(c.a)().mark((function e(){var t;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null!==ne&&(t={},ne.forEach((function(e,n){t["Plan_".concat(n+1)]=e.value,e.extra>0&&(t["Resultado_contacto_".concat(n+1)]=40263464)})),v.setFieldsValue(t));case 1:case"end":return e.stop()}}),e)}))),[ne]),Object(d.useEffect)(Object(i.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Le&&Le.forEach((function(e,t){var n="Plan_".concat(t+1);x.setFieldValue(n,e.value)}));case 1:case"end":return e.stop()}}),e)}))),[Le]),Object(d.useEffect)(Object(i.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n&&(x.setFieldValue("mes",lt.getMonth()+1),x.setFieldValue("ano",E()()),mt());case 1:case"end":return e.stop()}}),e)}))),[n]);var jt=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var n,a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V(!0),e.next=3,Object(k.l)(r,ke);case 3:if(n=e.sent,console.log(n),"fail"!==(null===n||void 0===n?void 0:n.status)){e.next=10;break}return e.next=8,f.open({type:"error",content:(null===n||void 0===n?void 0:n.message)||"error"});case 8:e.next=14;break;case 10:if("ok"!==(null===n||void 0===n?void 0:n.status)){e.next=14;break}return e.next=13,f.open({type:"success",content:"Franja Actualizada correctamente"});case 13:Ot(ve);case 14:return e.next=16,Object(k.k)(t,Ie);case 16:if(a=e.sent,console.log(a),"fail"!==(null===a||void 0===a?void 0:a.status)){e.next=23;break}return e.next=21,f.open({type:"error",content:(null===n||void 0===n?void 0:n.message)||"error"});case 21:e.next=26;break;case 23:if("ok"!==(null===a||void 0===a?void 0:a.status)){e.next=26;break}return e.next=26,f.open({type:"success",content:"Franja Actualizada correctamente"});case 26:V(!1),Re(!1);case 28:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),bt=function(){var e=Object(i.a)(Object(c.a)().mark((function e(t){var n,i,l,o,s,d,u,j,b,x,O;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.Eb)();case 2:if(n=e.sent,console.log("Termino 5 segundos"),null!==n){e.next=39;break}return e.next=7,Object(k.rb)();case 7:return i=e.sent,console.log(i),Me(i),e.next=12,Object(k.J)(r);case 12:return l=e.sent,console.log(l),Se(Number(null===l||void 0===l?void 0:l.R40686379_txt)),Re(!0),e.next=18,Object(k.b)(r,t);case 18:o=e.sent,s=Object(a.a)(o),e.prev=20,s.s();case 22:if((d=s.n()).done){e.next=29;break}return u=d.value,e.next=26,Object(k.m)(u.id);case 26:y.warning({message:"".concat(u.Plan_Mensual_txt),description:"".concat(u.Resultado),duration:3e4});case 27:e.next=22;break;case 29:e.next=34;break;case 31:e.prev=31,e.t0=e.catch(20),s.e(e.t0);case 34:return e.prev=34,s.f(),e.finish(34);case 37:e.next=62;break;case 39:return console.log(ct),e.next=42,Object(k.b)(r,t);case 42:j=e.sent,b=Object(a.a)(j),e.prev=44,b.s();case 46:if((x=b.n()).done){e.next=53;break}return O=x.value,e.next=50,Object(k.m)(O.id);case 50:y.info({message:"".concat(O.Plan_Mensual_txt),description:"".concat(O.Resultado),duration:3e4});case 51:e.next=46;break;case 53:e.next=58;break;case 55:e.prev=55,e.t1=e.catch(44),b.e(e.t1);case 58:return e.prev=58,b.f(),e.finish(58);case 61:R(n);case 62:case"end":return e.stop()}}),e,null,[[20,31,34,37],[44,55,58,61]])})));return function(t){return e.apply(this,arguments)}}(),xt=function(){0===F?(s(!1),x.resetFields()):1===F&&me.a.fire({title:"\xbfSeguro?",text:"Se liberaran los espacios ocupados para las opciones de citas \xbfEsta seguro de salir?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si",cancelButtonText:"No"}).then(function(){var e=Object(i.a)(Object(c.a)().mark((function e(t){var n,i,l,o,r,d;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isConfirmed){e.next=38;break}n=Object(a.a)(B),e.prev=2,n.s();case 4:if((i=n.n()).done){e.next=25;break}l=i.value,o=Object(a.a)(l),e.prev=7,o.s();case 9:if((r=o.n()).done){e.next=15;break}return d=r.value,e.next=13,Object(k.y)(d.id);case 13:e.next=9;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(7),o.e(e.t0);case 20:return e.prev=20,o.f(),e.finish(20);case 23:e.next=4;break;case 25:e.next=30;break;case 27:e.prev=27,e.t1=e.catch(2),n.e(e.t1);case 30:return e.prev=30,n.f(),e.finish(30);case 33:me.a.fire("Espacios liberados"),s(!1),M(0),x.resetFields(),R([]);case 38:case"end":return e.stop()}}),e,null,[[2,27,30,33],[7,17,20,23]])})));return function(t){return e.apply(this,arguments)}}())},Ot=function(){var e=Object(i.a)(Object(c.a)().mark((function e(n){var a,i,l,o,s,r,d,u,j,b,O,v;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=x.getFieldsValue(),console.log(a),i=[],l=0;l<Object.keys(a).length;l++)o="Plan_".concat(l+1),s="Profesional_".concat(l+1),a.hasOwnProperty(o)&&(r=a[o],d=a[s],void 0!==r&&null!==r&&""!==r&&i.push({plan:r,profesional:d}));console.log(i),u=0,j=i;case 6:if(!(u<j.length)){e.next=15;break}if(b=j[u],console.log("items: ",b.plan,b.profesional),!b.plan||!b.profesional){e.next=12;break}return e.next=12,Object(k.n)(b);case 12:u++,e.next=6;break;case 15:return O=n,console.log(O),e.next=19,Object(k.z)(t,n);case 19:if("fail"!==(null===(v=e.sent)||void 0===v?void 0:v.status)){e.next=25;break}return e.next=23,f.open({type:"error",content:(null===v||void 0===v?void 0:v.message)||"error"});case 23:e.next=28;break;case 25:if("ok"!==(null===v||void 0===v?void 0:v.status)){e.next=28;break}return e.next=28,f.open({type:"success",content:"El proceso de crear citas se ha ejecutado correctamente"});case 28:console.log("5 segundos"),bt(O);case 30:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),vt=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var t,n,i,l,o,d,u,j,b,O,m,A,p,h,g,y,C,E,S,_,w,I,N,P,D;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==F){e.next=15;break}return J(!0),i=x.getFieldValue("mes"),l=null===(t=x.getFieldValue("ano"))||void 0===t?void 0:t.format("YYYY"),o=null===(n=x.getFieldValue("fecha"))||void 0===n?void 0:n.format("YYYY-MM-DD"),d={mes:i,ano:l,fecha:o},console.log("Dentro del callback de setFinal_values"),Ae(d),e.next=10,Ot(d);case 10:J(!1),At(),console.log("final_values actualizado:",ct),e.next=73;break;case 15:if(1!==F){e.next=44;break}J(!0),u=[],j=Object(a.a)(Z),e.prev=19,j.s();case 21:if((b=j.n()).done){e.next=33;break}return O=b.value,e.next=25,Object(k.yc)(O.id);case 25:return e.next=27,Object(k.Jc)(O.id);case 27:m=e.sent,A=JSON.parse(m),console.log(A),A.hasOwnProperty("error")&&(h=JSON.parse(null===A||void 0===A||null===(p=A.error)||void 0===p?void 0:p.message),400==(null===A||void 0===A?void 0:A.error.statusCode)&&u.push(h.DescError.toString()));case 31:e.next=21;break;case 33:e.next=38;break;case 35:e.prev=35,e.t0=e.catch(19),j.e(e.t0);case 38:return e.prev=38,j.f(),e.finish(38);case 41:u.length>0?(dt(u),Je(!0),console.log(u)):(J(!1),At()),e.next=73;break;case 44:if(2!==F){e.next=73;break}for(g=v.getFieldsValue(),y={Etiqueta_seguimiento:null===g||void 0===g?void 0:g.tag,Resultado_contacto:void 0,Tabla_Resultados:void 0,Servicios:void 0,Etiqueta_administrativa:null===et||void 0===et?void 0:et.id_Etiqueta_Amin_Actual},C=[],E=[],console.log(g),S=0;S<Object.keys(g).length;S++)_="Resultado_contacto_".concat(S+1),g.hasOwnProperty(_)&&void 0!==(w=g[_])&&null!==w&&""!==w&&(C.push(w),E.push(ne[S].value));for(y.Resultado_contacto=null===C||void 0===C?void 0:C.join("|"),I={Servicios:null===E||void 0===E?void 0:E.join("|"),Observacion_seguimiento:null===g||void 0===g?void 0:g.observacion},N="",P=0;P<ne.length;P++)N+="".concat(E[P],",").concat(C[P],",");return y.Tabla_Resultados=N.slice(0,-1),J(!0),e.next=59,Object(k.t)(r,y,I);case 59:if(D=e.sent,console.log("Crear Nota: ",D),"fail"!==(null===D||void 0===D?void 0:D.status)){e.next=65;break}return console.log("Actualizar: ",D),e.next=65,f.open({type:"error",content:(null===D||void 0===D?void 0:D.message)||"error"});case 65:if("ok"!==(null===D||void 0===D?void 0:D.status)){e.next=68;break}return e.next=68,f.open({type:"success",content:"Se ha creado correctamente la nota"});case 68:J(!1),s(!1),M(0),x.resetFields(),R([]);case 73:case"end":return e.stop()}}),e,null,[[19,35,38,41]])})));return function(){return e.apply(this,arguments)}}(),mt=function(){var e=Object(i.a)(Object(c.a)().mark((function e(n,i){var l,o,s,r,d;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=x.getFieldsValue(),console.log(l),!l.mes||!l.ano){e.next=24;break}return e.next=5,Object(k.zb)(t,l);case 5:o=e.sent,Ke(o),s=Object(a.a)(o),e.prev=8,d=Object(c.a)().mark((function e(){var t,n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.value,e.next=3,Object(k.Ab)(null===t||void 0===t?void 0:t.idProfesion);case 3:n=e.sent,Ue((function(e){return[].concat(Object(pe.a)(e),[n])}));case 5:case"end":return e.stop()}}),e)})),s.s();case 11:if((r=s.n()).done){e.next=15;break}return e.delegateYield(d(),"t0",13);case 13:e.next=11;break;case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(8),s.e(e.t1);case 20:return e.prev=20,s.f(),e.finish(20);case 23:console.log(o);case 24:case"end":return e.stop()}}),e,null,[[8,17,20,23]])})));return function(t,n){return e.apply(this,arguments)}}(),At=function(){M(F+1)},ft=function(){J(!1),Je(!1),At()},pt=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R([]),$([]),e.next=4,bt(ve);case 4:J(!1),Je(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ht=[{title:"1",content:"1"},{title:"2",content:"2"},{title:"3",content:"3"}].map((function(e){return{key:e.title}})),gt=function(){var e=Object(i.a)(Object(c.a)().mark((function e(t){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$((function(e){return e.includes(t)?e.filter((function(e){return e!==t})):[].concat(Object(pe.a)(e),[t])})),console.log(Z);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),yt=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R([]),$([]),it(ve),e.next=5,Object(k.d)(t);case 5:bt(ve);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(P.jsxs)(P.Fragment,{children:[p,C,Object(P.jsxs)(_.a,{width:1===F?"1415px":"550px",title:"Generar Citas",open:n,onCancel:xt,maskClosable:!1,footer:[Object(P.jsx)(b.a,{onClick:xt,children:"Cancelar"},"back"),Object(P.jsx)(b.a,{loading:Q,onClick:vt,type:"primary",children:0==F?"Generar citas":"Confirmar"},"submit")],children:[Object(P.jsxs)(_.a,{width:"550px",title:"Alerta!!",open:Be,onOk:jt,footer:[Object(P.jsx)(b.a,{style:{background:"#DD3333",borderColor:"#DD3333",color:"#FFFFFF"},onClick:function(){M(0),Re(!1)},children:"Cancelar"},"back"),Object(P.jsx)(b.a,{style:{background:"#3085D6",borderColor:"#3085D6",color:"#FFFFFF"},loading:K,onClick:jt,children:"Confirmar"},"submit")],children:[Object(P.jsx)("p",{style:{marginBottom:"10px",fontWeight:"bold"},children:"Mensaje: No se encontr\xf3 disponibilidad para los planes mensuales."}),Object(P.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(P.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Horario Agendamiento:"}),Object(P.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(P.jsx)(N.a,{style:{width:"100%"},options:Fe,placeholder:"Seleccione un horario",value:ke,onChange:function(e){Se(e),console.log(e)}})}),Object(P.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginTop:"20px"},children:[Object(P.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Fecha Deseada:"}),Object(P.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(P.jsx)(G.a,{style:{width:"100%"},onChange:function(e){Ne(null===e||void 0===e?void 0:e.format("YYYY-MM-DD"))},placeholder:"Seleccione una fecha",disabledDate:ut})})]})]})]}),Object(P.jsx)(_.a,{width:"550px",title:"Alerta!!",open:Qe,onOk:ft,footer:[Object(P.jsx)(b.a,{style:{background:"#d33",borderColor:"#DD3333",color:"#FFFFFF"},onClick:pt,children:"Cerrar"},"back"),Object(P.jsx)(b.a,{style:{background:"#3085d6",borderColor:"#3085D6",color:"#FFFFFF"},onClick:ft,children:"Continuar"},"submit")],children:Object(P.jsx)(P.Fragment,{children:Object(P.jsx)("ul",{children:null===rt||void 0===rt?void 0:rt.map((function(e,t){return Object(P.jsx)("li",{children:e},t)}))})})}),Object(P.jsx)(he.a,{current:F,items:ht,style:{marginBottom:"20px"}}),0===F?Object(P.jsx)(w.a,{colon:!1,form:x,autoComplete:"off",layout:"vertical",children:Object(P.jsxs)(j.a,{style:{flexDirection:"column",justifyContent:"space-between"},children:[Object(P.jsx)(w.a.Item,{label:"Mes a generar",name:"mes",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(P.jsx)(N.a,{placeholder:"Seleccione un mes",style:{width:"100%"},options:de.b,onChange:mt})}),Object(P.jsx)(w.a.Item,{label:"A\xf1o a generar",name:"ano",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(P.jsx)(G.a,{style:{width:"100%"},onChange:mt,picker:"year"})}),Object(P.jsx)(w.a.Item,{label:"Fecha deseada",name:"fecha",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(P.jsx)(G.a,{format:"YYYY-MM-DD",style:{width:"100%"},disabledDate:ut})}),Object(P.jsx)(L.a,{children:Object(P.jsx)(Ce,{header:"Filtros Profesionales",children:Array.from({length:Le.length},(function(e,t){var n;return Object(P.jsx)(d.Fragment,{children:Object(P.jsxs)("div",{className:"row",children:[Object(P.jsx)("div",{className:"col-12 col-md-6",children:Object(P.jsx)(w.a.Item,{label:"Plan Mensual ".concat(t+1),name:"Plan_".concat(t+1),children:Object(P.jsx)(N.a,{disabled:!0,options:Le,placeholder:"Plan",value:Number(null===(n=Le[t])||void 0===n?void 0:n.value)})})}),Object(P.jsx)("div",{className:"col-12 col-md-6",children:Object(P.jsx)(w.a.Item,{label:"Profesional ".concat(t+1),name:"Profesional_".concat(t+1),children:Object(P.jsx)(N.a,{options:Xe?Xe[t]:[]})})})]})},t)}))})})]})}):null,1===F?Object(P.jsx)(P.Fragment,{children:Object(P.jsx)(j.a,{style:{display:"flex",justifyContent:"center"},children:null===B||void 0===B?void 0:B.map((function(e,t){return Object(P.jsx)(ge.b,{header:Object(P.jsx)("h3",{style:{fontWeight:"bold",color:"white"},children:e[0].Fecha_txt}),bordered:!0,itemLayout:"horizontal",dataSource:e,renderItem:function(e,n){console.log("".concat(t," = ").concat(null===e||void 0===e?void 0:e.nameExam));var a=null===Z||void 0===Z?void 0:Z.some((function(t){return t.nameExam===e.nameExam&&t.id!==e.id}));return Object(P.jsx)(ge.b.Item,{children:Object(P.jsxs)(j.a,{children:[Object(P.jsx)("div",{style:{display:"flex",alignContent:"center",flexWrap:"wrap",marginRight:"20px"},children:Object(P.jsx)(ae.a,{onChange:function(t){gt(e),console.log(e)},disabled:a})}),Object(P.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(P.jsx)("p",{children:null===e||void 0===e?void 0:e.nameExam}),Object(P.jsx)("p",{children:null===e||void 0===e?void 0:e.Canal_Atencion_txt}),Object(P.jsx)("p",{children:null===e||void 0===e?void 0:e.Profesional_txt}),Object(P.jsx)("p",{children:E()(null===e||void 0===e?void 0:e.Fecha_Cita,"YYYY-MM-DD HH:mm:ss").format("DD/MM/YYYY HH:mm")})]})]})})},style:{margin:"20px 20px 20px 20px",width:"425px"}},t)}))})}):null,2===F?Object(P.jsx)(P.Fragment,{children:Object(P.jsx)(w.a,{colon:!1,form:v,autoComplete:"off",layout:"vertical",children:Object(P.jsxs)(j.a,{style:{flexDirection:"column",justifyContent:"space-between"},children:[Object(P.jsx)(w.a.Item,{label:"Etiqueta Seguimiento",name:"tag",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(P.jsx)(N.a,{placeholder:"Seleccione una etiqueta",style:{width:"100%"},options:oe})}),Object(P.jsx)(w.a.Item,{label:"Observaci\xf3n Seguimiento",name:"observacion",children:Object(P.jsx)(ye,{style:{width:"100%"},rows:4})}),Array.from({length:null===ne||void 0===ne?void 0:ne.length},(function(e,t){return Object(P.jsx)(d.Fragment,{children:Object(P.jsxs)("div",{className:"row",children:[Object(P.jsx)("div",{className:"col-12 col-md-6",children:Object(P.jsx)(w.a.Item,{label:"Plan mensual ".concat(t+1),name:"Plan_".concat(t+1),children:Object(P.jsx)(N.a,{options:ne,disabled:!0,placeholder:"Plan"})})}),Object(P.jsx)("div",{className:"col-12 col-md-6",children:Object(P.jsx)(w.a.Item,{label:"Resultado Contacto ".concat(t+1),name:"Resultado_contacto_".concat(t+1),rules:[{required:!0,message:"Campo obligatorio"}],children:Object(P.jsx)(N.a,{options:je,placeholder:"Seleccione un resultado contacto"})})})]})},t)}))]})})}):null,1==F&&Object(P.jsx)(b.a,{type:"primary",onClick:yt,children:"Nuevas Opciones"})]})]})},ke=n(294),Se=I.a.TextArea,_e={1:{0:!1,1:!1},2:{0:!0,1:!1}},we=function(e){var t,n,a,o,s,r=e.open,u=e.setOpen,j=e.idPaciente,x=e.detailPlan,O=e.getInfo,v=e.getDataPlains,m=e.idPrograma,A=w.a.useForm(),f=Object(l.a)(A,1)[0],p=w.a.useForm(),h=Object(l.a)(p,1)[0],g=w.a.useForm(),y=Object(l.a)(g,1)[0],C=S.b.useMessage(),I=Object(l.a)(C,2),D=I[0],F=I[1],M=Object(d.useState)(!1),q=Object(l.a)(M,2),Y=q[0],B=q[1],R=Object(d.useState)([]),T=Object(l.a)(R,2),z=T[0],Q=T[1],J=Object(d.useState)({id_Etiqueta_Amin_Actual:0,Etiqueta_Amin_Actual:"",id_Etiqueta_Asistencial_Actual:0,Etiqueta_Asistencial_Actual:""}),W=Object(l.a)(J,2),H=W[0],L=W[1],K=Object(d.useState)([]),V=Object(l.a)(K,2),X=V[0],Z=V[1],$=Object(d.useState)([]),ee=Object(l.a)($,2),te=ee[0],ne=ee[1],ae=Object(d.useState)([]),ce=Object(l.a)(ae,2),ie=ce[0],le=ce[1],oe=Object(d.useState)([]),se=Object(l.a)(oe,2),re=se[0],ue=se[1],je=Object(d.useState)(null),be=Object(l.a)(je,2),xe=be[0],Oe=be[1],ve=Object(d.useState)(null),me=Object(l.a)(ve,2),Ae=me[0],fe=me[1],pe=Object(d.useState)(0),ge=Object(l.a)(pe,2),ye=ge[0],Ce=ge[1],Ee=Object(d.useState)(0),we=Object(l.a)(Ee,2),Ie=we[0],Ne=we[1],Pe=Object(d.useState)(1),De=Object(l.a)(Pe,2),Fe=De[0],Me=De[1],qe=Object(d.useState)(null),Ye=Object(l.a)(qe,2),Be=Ye[0],Re=Ye[1],Te={anoActual:(new Date).getFullYear(),anoActualPicker:E()(),mesActual:(new Date).getMonth()+1},ze=[{title:"1",content:"1"},{title:"2",content:"2"}],Qe=ze.map((function(e){return{key:e.title}}));Object(d.useEffect)((function(){!0===r&&We()}),[r,Fe]);var Je=function(){h.validateFields().then(function(){var e=Object(i.a)(Object(c.a)().mark((function e(t){var n,a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.Kb)(x,t.month,null===(n=t.ano)||void 0===n?void 0:n.format("YYYY"));case 2:a=e.sent,ue(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=Object(i.a)(Object(c.a)().mark((function e(t){var n,a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Error en el formulario 2:",t),e.next=3,Object(k.Kb)(x,t.values.month,null===(n=t.values.ano)||void 0===n?void 0:n.format("YYYY"));case 3:a=e.sent,ue(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},We=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var t,n,a,i;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.nb)(m);case 2:return t=e.sent,Z(t),e.next=6,Object(k.lb)(m);case 6:return n=e.sent,le(n),e.next=10,Object(k.B)(j);case 10:if(a=e.sent,console.log(Number(a.id_Etiqueta_Amin_Actual)),L(a),2!==Fe){e.next=21;break}return h.setFieldsValue({ano:Te.anoActualPicker}),h.setFieldsValue({month:Te.mesActual}),h.setFieldsValue({Etiqueta_administrativa:Number(null===H||void 0===H?void 0:H.id_Etiqueta_Amin_Actual)}),e.next=19,Object(k.Kb)(x,Te.mesActual,Te.anoActual);case 19:i=e.sent,ue(i);case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(d.useEffect)((function(){var e=ie.find((function(e){return e.value===Number(null===H||void 0===H?void 0:H.id_Etiqueta_Amin_Actual)}));console.log(e),e&&f.setFieldsValue({Etiqueta_administrativa:e.value})}),[f,H,ie]),Object(d.useEffect)(Object(i.a)(Object(c.a)().mark((function e(){var t,n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===xe){e.next=10;break}return console.log(xe),e.next=4,Object(k.ub)(xe,m);case 4:return t=e.sent,Q(t),e.next=8,Object(k.Fb)(xe,m);case 8:n=e.sent,ne(n);case 10:case"end":return e.stop()}}),e)}))),[xe]),Object(d.useEffect)(Object(i.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null!==Ae&&Ce(Ae.length);case 1:case"end":return e.stop()}}),e)}))),[Ae]),Object(d.useEffect)(Object(i.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:1==Ie&&Ae.forEach((function(e,t){var n="Servicio_".concat(t+1);y.setFieldValue(n,Ae[t])}));case 1:case"end":return e.stop()}}),e)}))),[Ie]);var He=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var t,n,a,i,l,o,s,r,d,u,b,m,A,p,g,C,E,S,_,w;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==Fe){e.next=27;break}return n=f.getFieldsValue(),a=new Date,i={mes:a.getMonth()+1,ano:a.getFullYear()},e.next=6,Object(k.ac)(x,i);case 6:return l=e.sent,o="",l.forEach((function(e){o+="".concat(e.value,",").concat(n.Resultado_contacto,",")})),s=l.map((function(e){return e.value})),r={Etiqueta_seguimiento:null===n||void 0===n?void 0:n.Etiqueta_seguimiento,Resultado_contacto:null===n||void 0===n?void 0:n.Resultado_contacto,Tabla_Resultados:null===(t=o)||void 0===t?void 0:t.slice(0,-1),Motivo_inasistencia:null===n||void 0===n?void 0:n.Motivo_inasistencia,Etiqueta_administrativa:null===n||void 0===n?void 0:n.Etiqueta_administrativa,"Observaci\xf3n_seguimiento":null===n||void 0===n?void 0:n.Observaci\u00f3n_seguimiento},d={Etiqueta_seguimiento:null===n||void 0===n?void 0:n.Etiqueta_seguimiento,Motivo_inasistencia:null===n||void 0===n?void 0:n.Motivo_inasistencia,Etiqueta_administrativa:null===n||void 0===n?void 0:n.Etiqueta_administrativa,Servicios:null===s||void 0===s?void 0:s.join("|"),Observacion_seguimiento:void 0==n.Observaci\u00f3n_seguimiento?"":n.Observaci\u00f3n_seguimiento,Nota_cambio_etiqueta_administrativa:void 0==n.Nota_cambio_etiqueta_administrativa?"":n.Nota_cambio_etiqueta_administrativa,Plan_Ruta_txt:x},B(!0),e.next=15,Object(k.t)(j,r,d);case 15:if(u=e.sent,console.log("actualizar preferencias: ",u),"fail"!==(null===u||void 0===u?void 0:u.status)){e.next=21;break}return console.log("Actualizar: ",u),e.next=21,D.open({type:"error",content:(null===u||void 0===u?void 0:u.message)||"error"});case 21:if("ok"!==(null===u||void 0===u?void 0:u.status)){e.next=24;break}return e.next=24,D.open({type:"success",content:"Se ha creado correctamente la nota"});case 24:Le(),e.next=51;break;case 27:if(2!==Fe){e.next=51;break}for(b=y.getFieldsValue(),m={Etiqueta_seguimiento:null===Be||void 0===Be?void 0:Be.Etiqueta_seguimiento,Resultado_contacto:void 0,Tabla_Resultados:void 0,Motivo_inasistencia:null===Be||void 0===Be?void 0:Be.Motivo_inasistencia,Etiqueta_administrativa:null===Be||void 0===Be?void 0:Be.Etiqueta_administrativa,"Observaci\xf3n_seguimiento":null===Be||void 0===Be?void 0:Be.Observaci\u00f3n_seguimiento},A=[],console.log(b),p=0;p<Object.keys(b).length;p++)g="Resultado_contacto_".concat(p+1),b.hasOwnProperty(g)&&void 0!==(C=b[g])&&null!==C&&""!==C&&A.push(C);for(m.Resultado_contacto=null===A||void 0===A?void 0:A.join("|"),E="",S=Be.Servicios.split("|"),console.log(S),_=0;_<S.length;_++)E+="".concat(S[_],",").concat(A[_],",");return m.Tabla_Resultados=E.slice(0,-1),B(!0),e.next=42,Object(k.t)(j,m,Be);case 42:if(w=e.sent,console.log("actualizar preferencias: ",w),"fail"!==(null===w||void 0===w?void 0:w.status)){e.next=48;break}return console.log("Actualizar: ",w),e.next=48,D.open({type:"error",content:(null===w||void 0===w?void 0:w.message)||"error"});case 48:if("ok"!==(null===w||void 0===w?void 0:w.status)){e.next=51;break}return e.next=51,D.open({type:"success",content:"Se ha creado correctamente la nota"});case 51:B(!1),f.resetFields(),h.resetFields(),y.resetFields(),Oe(null),O(),v(),Le();case 59:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Le=function(){Oe(null),f.resetFields(),h.resetFields(),y.resetFields(),B(!1),u(!1)},Ke=function(e){console.log("selected ".concat(e)),Oe(e)},Ge=function(e){console.log("selected ".concat(e))};return Object(P.jsxs)(P.Fragment,{children:[F,Object(P.jsxs)(_.a,{width:"700px",title:"Crear Notas Administrativas",open:r,onCancel:Le,footer:[Object(P.jsx)(b.a,{onClick:Le,children:"Cerrar"},"button-cancel"),Object(P.jsx)(b.a,{style:{backgroundColor:"#00ABC8",color:"#FFF"},onClick:He,loading:Y,disabled:_e[Fe][Ie],children:"Guardar"},"button-actualizar")],children:[Object(P.jsxs)(ke.a.Group,{onChange:function(e){console.log("radio checked",e.target.value),Me(e.target.value),f.resetFields(),h.resetFields(),y.resetFields(),Oe(null)},value:Fe,style:{marginBottom:"20px"},children:[Object(P.jsx)(ke.a,{value:1,children:"General"}),Object(P.jsx)(ke.a,{value:2,children:"Planes Mensuales"})]}),1===Fe?Object(P.jsx)(w.a,{id:"form",form:f,name:"form",onFinish:He,autoComplete:"off",layout:"vertical",fields:[{name:["Etiqueta_seguimiento"]},{name:["Resultado_contacto"]},{name:["Motivo_inasistencia"]},{name:["Etiqueta_administrativa"]},{name:["servicio"]},{name:["Observaci\xf3n_seguimiento"]},{name:["Nota_cambio_etiqueta_administrativa"]}],children:Object(P.jsxs)("div",{className:"row",children:[Object(P.jsx)("div",{className:"col-12 col-md-6",children:Object(P.jsx)(w.a.Item,{label:"Etiqueta Seguimiento",name:"Etiqueta_seguimiento",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(P.jsx)(N.a,{onChange:Ke,options:X})})}),U[xe].ObservacionSeguimiento?Object(P.jsx)("div",{className:"col-12 col-md-12",children:Object(P.jsx)(w.a.Item,{label:"Observaci\xf3n de Seguimiento",name:"Observaci\xf3n_seguimiento",children:Object(P.jsx)(Se,{placeholder:"Escriba observaci\xf3n...",rows:4})})}):null,null!==(t=U[xe])&&void 0!==t&&t.ResultadoContacto?Object(P.jsx)("div",{className:"col-12 col-md-6",children:Object(P.jsx)(w.a.Item,{label:"Resultado Contacto",name:"Resultado_contacto",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(P.jsx)(N.a,{options:te})})}):null,null!==(n=U[xe])&&void 0!==n&&n.MotivoInasistencia?Object(P.jsx)("div",{className:"col-12 col-md-6",children:Object(P.jsx)(w.a.Item,{label:"Motivo de inasistencia",name:"Motivo_inasistencia",children:Object(P.jsx)(N.a,{options:z})})}):null,Object(P.jsx)("div",{className:"col-12 col-md-6",children:Object(P.jsx)(w.a.Item,{label:"Etiqueta Administrativa",name:"Etiqueta_administrativa",children:Object(P.jsx)(N.a,{options:ie})})}),Object(P.jsx)("div",{className:"col-12 col-md-12",children:Object(P.jsx)(w.a.Item,{label:"Nota Cambio Etiqueta Administrativa",name:"Nota_cambio_etiqueta_administrativa",children:Object(P.jsx)(Se,{placeholder:"Escriba nota...",rows:4})})}),null!==(a=U[xe])&&void 0!==a&&a.Servicio?Object(P.jsx)("div",{className:"col-12 col-md-6",children:Object(P.jsx)(w.a.Item,{label:"Servicio",name:"servicio",children:Object(P.jsx)(N.a,{showSearch:!0,mode:"multiple",placeholder:"Seleccione servicios",options:re,filterOption:function(e,t){var n;return(null!==(n=null===t||void 0===t?void 0:t.label)&&void 0!==n?n:"").toLowerCase().includes(e.toLowerCase())}})})}):null]})}):null,2===Fe?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(he.a,{current:Ie,items:Qe,style:{marginBottom:"20px"}}),0===Ie?Object(P.jsx)(w.a,{id:"form2",form:h,name:"form2",onFinish:He,autoComplete:"off",layout:"vertical",fields:[{name:["Etiqueta_seguimiento"]},{name:["Motivo_inasistencia"]},{name:["Etiqueta_administrativa"]},{name:["month"]},{name:["ano"]},{name:["servicio"]},{name:["Observaci\xf3n_seguimiento"]},{name:["Nota_cambio_etiqueta_administrativa"]}],children:Object(P.jsxs)("div",{className:"row",children:[Object(P.jsx)("div",{className:"col-12 col-md-6",children:Object(P.jsx)(w.a.Item,{label:"Etiqueta Seguimiento",name:"Etiqueta_seguimiento",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(P.jsx)(N.a,{onChange:Ke,options:X})})}),null!==(o=U[xe])&&void 0!==o&&o.ObservacionSeguimiento?Object(P.jsx)("div",{className:"col-12 col-md-12",children:Object(P.jsx)(w.a.Item,{label:"Observaci\xf3n de Seguimiento",name:"Observaci\xf3n_seguimiento",children:Object(P.jsx)(Se,{placeholder:"Escriba observaci\xf3n...",rows:4})})}):null,null!==(s=U[xe])&&void 0!==s&&s.MotivoInasistencia?Object(P.jsx)("div",{className:"col-12 col-md-6",children:Object(P.jsx)(w.a.Item,{label:"Motivo de inasistencia",name:"Motivo_inasistencia",children:Object(P.jsx)(N.a,{options:z})})}):null,Object(P.jsx)("div",{className:"col-12 col-md-6",children:Object(P.jsx)(w.a.Item,{label:"A\xf1o",name:"ano",children:Object(P.jsx)(G.a,{style:{width:"100%"},onChange:Je,placeholder:"Seleccione un a\xf1o",picker:"year"})})}),Object(P.jsx)("div",{className:"col-12 col-md-6",children:Object(P.jsx)(w.a.Item,{label:"Mes",name:"month",children:Object(P.jsx)(N.a,{style:{width:"100%"},options:de.b,placeholder:"Seleccione un mes",onChange:Je})})}),Object(P.jsx)("div",{className:"col-12 col-md-6",children:Object(P.jsx)(w.a.Item,{label:"Servicios/Planes Mensuales",name:"servicio",children:Object(P.jsx)(N.a,{showSearch:!0,allowClear:!0,onChange:function(e){console.log("selected ".concat(e)),fe(e)},mode:"multiple",placeholder:"Seleccione servicios",options:re,filterOption:function(e,t){var n;return(null!==(n=null===t||void 0===t?void 0:t.label)&&void 0!==n?n:"").toLowerCase().includes(e.toLowerCase())}})})}),Object(P.jsx)("div",{hidden:!0,className:"col-12 col-md-6",children:Object(P.jsx)(w.a.Item,{label:"Etiqueta Administrativa",name:"Etiqueta_administrativa",children:Object(P.jsx)(N.a,{options:ie})})})]})}):null,1===Ie?Object(P.jsx)(w.a,{id:"form3",form:y,name:"form3",onFinish:He,autoComplete:"off",layout:"vertical",children:Array.from({length:ye},(function(e,t){return Object(P.jsx)(d.Fragment,{children:Object(P.jsxs)("div",{className:"row",children:[Object(P.jsx)("div",{className:"col-12 col-md-6",children:Object(P.jsx)(w.a.Item,{label:"Servicio ".concat(t+1),name:"Servicio_".concat(t+1),children:Object(P.jsx)(N.a,{disabled:!0,value:Ae?Ae[t]:"",placeholder:"Servicio",options:re})})}),Object(P.jsx)("div",{className:"col-12 col-md-6",children:Object(P.jsx)(w.a.Item,{label:"Resultado Contacto ".concat(t+1),name:"Resultado_contacto_".concat(t+1),rules:[{required:!0,message:"Campo obligatorio"}],children:Object(P.jsx)(N.a,{onChange:Ge,options:te})})})]})},t)}))}):null,Ie<ze.length-1&&Object(P.jsx)(b.a,{type:"primary",onClick:function(){return Ne(Ie+1),void h.validateFields().then((function(e){var t;console.log("Valores del formulario 2:",e);var n={Etiqueta_seguimiento:null===e||void 0===e?void 0:e.Etiqueta_seguimiento,Motivo_inasistencia:null===e||void 0===e?void 0:e.Motivo_inasistencia,Etiqueta_administrativa:null===e||void 0===e?void 0:e.Etiqueta_administrativa,Servicios:null===(t=e.servicio)||void 0===t?void 0:t.join("|"),Observacion_seguimiento:void 0==e.Observaci\u00f3n_seguimiento?"":e.Observaci\u00f3n_seguimiento,Nota_cambio_etiqueta_administrativa:void 0==e.Nota_cambio_etiqueta_administrativa?"":e.Nota_cambio_etiqueta_administrativa,Plan_Ruta_txt:x};Re(n)})).catch((function(e){console.log("Error en el formulario 2:",e)}))},children:"Siguiente"}),Ie>0&&Object(P.jsx)(b.a,{style:{margin:"0 8px"},onClick:function(){Ne(Ie-1)},children:"Atr\xe1s"})]}):null]})]})},Ie=n.p+"static/media/votacion.67d82fcd.png",Ne=n.p+"static/media/historial-medico.bb9047dc.png",Pe=n.p+"static/media/necesitar.7773f3e3.png",De=n.p+"static/media/obituario.118473d5.png",Fe=n.p+"static/media/examen.2dd7dcc3.png",Me=n.p+"static/media/receta.80fc34c8.png",qe=n.p+"static/media/prueba-de-sangre.437d463c.png",Ye=n.p+"static/media/lista.74f1da7f.png",Be=n.p+"static/media/rechazado.5a99c303.png",Re={40380799:{url:De,text:"Fallecido Pendiente Soportar"},40380798:{url:Ne,text:"Entrega al Asegurador"},40380797:{url:Ye,text:"Activo"},40380804:{url:Be,text:"Suspendido"},40380805:{url:Be,text:"Terminaci\xf3n Contrato"},40380801:{url:Be,text:"No ingreso"},40380803:{url:Be,text:"Retirado"},40380802:{url:n.p+"static/media/documento.f0ffb578.png",text:"No ingreso (Pendiente cumplir criterios)"},40380800:{url:Be,text:"No ingresa- No cumple criterios"},Abandonado:{url:Ie,text:"Abandonado"},"Menor Expuesto":{url:Ne,text:"Menor Expuesto"},Naive:{url:Pe,text:"Naive"},Fallecido:{url:De,text:"Fallecido"},Bimestralizado:{url:Fe,text:"Bimestralizado"},"Paciente Gestante":{url:Me,text:"Paciente Gestante"},Novo:{url:qe,text:"Novo"},Hospitalizado:{url:"data:image/png;base64,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",text:"Hospitalizado"},TBC:{url:Ne,text:"TBC"},"Alta del Programa":{url:qe,text:"Alta del Programa"},Tuberculosis:{url:Me,text:"Tuberculosis"},null:{url:Ie,text:"Disponible"}},Te=L.a.Panel,ze=X.a.Text,Qe=function(e){var t,n,a,o,s,r,u=e.detailPlan,v=e.idPaciente,m=e.listInfoPlans,A=e.setListInfoPlans,f=e.detailPlans,p=e.getData,h=e.getInfo,g=e.getDataPlains,y=e.viewButton;console.log("detail");var C=w.a.useForm(),I=Object(l.a)(C,1)[0],D=w.a.useForm(),F=Object(l.a)(D,1)[0],M=Object(d.useState)([]),q=Object(l.a)(M,2),Y=q[0],B=q[1],R=Object(d.useState)([]),T=Object(l.a)(R,2),z=T[0],Q=T[1],J=Object(d.useState)([]),W=Object(l.a)(J,2),H=W[0],K=W[1],V=Object(d.useState)(0),X=Object(l.a)(V,2),U=X[0],Z=X[1],$=Object(d.useState)(!1),ee=Object(l.a)($,2),te=ee[0],ne=ee[1],ce=Object(d.useState)(!1),ie=Object(l.a)(ce,2),ue=ie[0],je=ie[1],be=S.b.useMessage(),xe=Object(l.a)(be,2),Oe=xe[0],ve=xe[1],me=Object(d.useState)(null),Ae=Object(l.a)(me,2),pe=Ae[0],he=Ae[1],ge=Object(d.useState)(null),ye=Object(l.a)(ge,2),Ce=ye[0],ke=ye[1],Se=Object(d.useState)(null),_e=Object(l.a)(Se,2),Ie=_e[0],Ne=_e[1],Pe=Object(d.useState)(!1),De=Object(l.a)(Pe,2),Fe=De[0],Me=De[1],qe=null;Object(d.useEffect)((function(){if(null!==f&&void 0!==f&&f.fecha_activacion){var e=E()(f.fecha_activacion,"ddd MMM DD YYYY");he(e);var t=e.startOf("day");ke(t.valueOf())}}),[f]);var Ye=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var t;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.Kc)(v);case 2:if(!(e.sent>0)){e.next=21;break}return e.next=6,Object(k.xc)(u);case 6:return e.sent,e.next=9,Object(k.q)(u);case 9:if(0!=(t=e.sent)){e.next=15;break}return e.next=13,Oe.open({type:"error",content:"No existen Contratos Planes que coincidan con las caracteristicas del paciente.!"});case 13:e.next=18;break;case 15:if(0==t){e.next=18;break}return e.next=18,Oe.open({type:"success",content:"La ruta de atenci\xf3n ha sido programada correctamente"});case 18:p(),e.next=22;break;case 21:Me(!0);case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Be=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var t;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.Ac)(u);case 2:if("fail"!==(null===(t=e.sent)||void 0===t?void 0:t.status)){e.next=8;break}return e.next=6,Oe.open({type:"error",content:(null===t||void 0===t?void 0:t.message)||"error"});case 6:e.next=11;break;case 8:if("ok"!==(null===t||void 0===t?void 0:t.status)){e.next=11;break}return e.next=11,Oe.open({type:"success",content:"La ruta de atenci\xf3n ha sido renovada correctamente"});case 11:console.log("ave que es lo que e: ",t),p();case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(d.useEffect)((function(){u&&Qe()}),[u]);var Qe=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var t,n,a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.xb)(u);case 2:return t=e.sent,B(t),e.next=6,Object(k.qb)(u);case 6:return n=e.sent,Q(n),e.next=10,Object(k.yb)(u);case 10:a=e.sent,K(a);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(d.useEffect)(Object(i.a)(Object(c.a)().mark((function e(){var t;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u){e.next=11;break}return e.prev=1,e.next=4,Object(k.Qb)(u,Ie);case 4:t=e.sent,Z(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error al obtener el porcentaje:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),[m,u]);var Je=function(){var e=Object(i.a)(Object(c.a)().mark((function e(t){var n,a,i;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null===t||void 0===t||null===(n=t.year)||void 0===n?void 0:n.format("YYYY"),qe={month:null===t||void 0===t?void 0:t.month,year:a,origin:null===t||void 0===t?void 0:t.origin,exam:null===t||void 0===t?void 0:t.exam,pending:null===t||void 0===t?void 0:t.pending,dissent:null===t||void 0===t?void 0:t.dissent,plan:null===t||void 0===t?void 0:t.plan},Ne(qe),console.log(t),e.next=6,Object(k.sb)(qe,u);case 6:i=e.sent,A(i);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(P.jsxs)(P.Fragment,{children:[ve,Object(P.jsxs)(L.a,{children:[Object(P.jsxs)(Te,{header:"Informaci\xf3n Ruta Atencion",children:[Object(P.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[Object(P.jsx)("p",{style:{margin:"10px",fontWeight:"bold"},children:"Progreso:"}),Object(P.jsx)(se.a,{style:{margin:"10px"},type:"circle",percent:U}),Object(P.jsxs)("p",{style:{margin:"10px",fontWeight:"bold"},children:["Estado: ",null===f||void 0===f?void 0:f.Estado_txt]}),null!==(t=le[null===f||void 0===f?void 0:f.Estado_txt])&&void 0!==t&&t.Programar?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)(_.a,{title:"Confirmar",open:Fe,onCancel:function(){return Me(!1)},footer:[Object(P.jsx)(b.a,{onClick:function(){return Me(!1)},children:"Cancelar"},"back"),Object(P.jsx)(b.a,{onClick:Object(i.a)(Object(c.a)().mark((function e(){var t;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.j)(u,Ce);case 2:return e.next=4,Object(k.xc)(u);case 4:if(t=e.sent,console.log(t),"fail"!==(null===t||void 0===t?void 0:t.status)){e.next=11;break}return e.next=9,Oe.open({type:"error",content:(null===t||void 0===t?void 0:t.message)||"error"});case 9:e.next=14;break;case 11:if("ok"!==(null===t||void 0===t?void 0:t.status)){e.next=14;break}return e.next=14,Oe.open({type:"success",content:"La ruta de atenci\xf3n ha sido programada correctamente"});case 14:p(),Me(!1);case 16:case"end":return e.stop()}}),e)}))),type:"primary",children:"Confirmar"},"submit")],children:[Object(P.jsx)("p",{style:{marginBottom:"20px"},children:"La fecha de activaci\xf3n es ".concat(E()(null===f||void 0===f?void 0:f.fecha_activacion,"ddd MMM DD YYYY").format("YYYY-MM-DD"),"\n                    , si es correcto oprime Confirmar.")}),Object(P.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(P.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Fecha Activaci\xf3n:"}),Object(P.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(P.jsx)(G.a,{format:"DD/MM/YYYY",style:{width:"100%"},value:pe,onChange:function(e){he(e);var t=e.startOf("day");ke(t.valueOf()),console.log(t.valueOf())}})})]})]}),Object(P.jsx)(b.a,{style:{margin:"10px",backgroundColor:"#00ABC8",color:"#FFF"},onClick:Ye,children:"Programar"})]}):null,null!==(n=le[null===f||void 0===f?void 0:f.Estado_txt])&&void 0!==n&&n.Renovar?Object(P.jsx)(b.a,{style:{margin:"10px",backgroundColor:"#184F9D",color:"#fff"},onClick:Be,children:"Renovar plan"}):null,null!==(a=le[null===f||void 0===f?void 0:f.Estado_txt])&&void 0!==a&&a.Generar?Object(P.jsx)(b.a,{style:{margin:"10px",backgroundColor:"#55A537",color:"#fff"},onClick:function(){return ne(!0)},children:"Generar citas"}):null,Object(P.jsx)(Ee,{openModalGenerateQuotes:te,setOpenModalGenerateQuotes:ne,detailPlan:u,idPaciente:v}),null!==(o=le[null===f||void 0===f?void 0:f.Estado_txt])&&void 0!==o&&o.Nota?Object(P.jsx)(b.a,{style:{margin:"10px",backgroundColor:"#2AC6DE",color:"#FFF"},onClick:function(){return je(!0)},children:"Nota administrativa"}):null,Object(P.jsx)(we,{open:ue,setOpen:je,idPaciente:v,detailPlan:u,getInfo:h,getDataPlains:g,idPrograma:f.idPrograma})]}),Object(P.jsx)(x.a,{}),Object(P.jsx)(w.a,{id:"form",form:I,name:"form",autoComplete:"off",layout:"vertical",children:Object(P.jsxs)("div",{className:"row",children:[Object(P.jsx)("div",{className:"col-12 col-md-2",children:Object(P.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(P.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Creado en:"}),Object(P.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(P.jsx)(ze,{children:E()(f.creado,"ddd MMM DD YYYY HH:mm:ss (ZZ)").format("YYYY-MM-DD HH:mm")})})]})}),Object(P.jsx)("div",{className:"col-12 col-md-2",children:Object(P.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(P.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Fecha inscripci\xf3n:"}),Object(P.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(P.jsx)(ze,{children:E()(f.fecha_inscripcion,"ddd MMM DD YYYY").format("YYYY-MM-DD")})})]})}),Object(P.jsx)("div",{className:"col-12 col-md-2",children:Object(P.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(P.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Fecha activaci\xf3n:"}),Object(P.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(P.jsx)(ze,{children:E()(null===f||void 0===f?void 0:f.fecha_activacion,"ddd MMM DD YYYY").format("YYYY-MM-DD")})})]})}),Object(P.jsx)("div",{className:"col-12 col-md-2",children:Object(P.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(P.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Fecha renovaci\xf3n:"}),Object(P.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(P.jsx)(ze,{children:E()(f.fecha_renovacion,"ddd MMM DD YYYY").format("YYYY-MM-DD")})})]})}),Object(P.jsx)("div",{className:"col-12 col-md-2",children:Object(P.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(P.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"SubPrograma:"}),Object(P.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(P.jsx)(ze,{children:f.Sub_Programa_txt})})]})}),Object(P.jsx)("div",{className:"col-12 col-md-2",children:Object(P.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(P.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Renovaci\xf3n:"}),Object(P.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(P.jsx)(ae.a,{checked:f.renovacion,disabled:!0})})]})}),Object(P.jsx)("div",{className:"col-12 col-md-2",children:Object(P.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(P.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Programa:"}),Object(P.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(P.jsx)(ze,{children:f.programa})})]})}),Object(P.jsx)("div",{className:"col-12 col-md-2",children:Object(P.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(P.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Sede:"}),Object(P.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(P.jsx)(ze,{children:f.Sede_txt})})]})}),Object(P.jsx)("div",{className:"col-12 col-md-2",children:Object(P.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(P.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Ciudad:"}),Object(P.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(P.jsx)(ze,{children:f.ciudad})})]})}),Object(P.jsx)("div",{className:"col-12 col-md-2",children:Object(P.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(P.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Estadio:"}),Object(P.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(P.jsx)(ze,{children:f.estadio})})]})}),Object(P.jsx)("div",{className:"col-12 col-md-2",children:Object(P.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(P.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Clasificacion Bim/Trim:"}),Object(P.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(P.jsx)(ze,{children:f.csBT})})]})}),Object(P.jsx)("div",{className:"col-12 col-md-2",children:Object(P.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(P.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"1era vez:"}),Object(P.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(P.jsx)(ae.a,{checked:f.primera_vez,disabled:!0})})]})}),Object(P.jsx)("div",{className:"col-12 col-md-2",children:Object(P.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(P.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Contrato Gomedisys:"}),Object(P.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(P.jsx)(ze,{children:f.contratoGomedisys})})]})}),Object(P.jsx)("div",{className:"col-12 col-md-2",children:Object(P.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(P.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Contrato Plan Gomedisys:"}),Object(P.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(P.jsx)(ze,{children:f.contrato_plan})})]})}),Object(P.jsx)("div",{className:"col-12 col-md-2",children:Object(P.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(P.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Clasificacion Bomba:"}),Object(P.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(P.jsx)(ze,{children:f.csBomba})})]})})]})}),Object(P.jsx)(x.a,{}),Object(P.jsxs)(j.a,{children:[null!=f.idEtAsistencial?Object(P.jsx)(O.a,{span:f.idEtAdmin?12:24,children:Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("div",{style:{fontSize:"15px",color:"#2d3d7d",fontWeight:"bold"},children:"Etiqueta Asistencial"}),Object(P.jsx)(x.a,{}),Object(P.jsxs)("div",{className:"d-flex align-items-center ",style:{margin:"10px"},children:[Object(P.jsx)("img",{src:(null===(s=Re[f.idEtAsistencial])||void 0===s?void 0:s.url)||Re.null.url,style:{height:"50px"},alt:"Descripci\xf3n del icono"}),Object(P.jsxs)("div",{children:[Object(P.jsxs)("div",{style:{color:"#3d3434",fontWeight:"bold"},children:[f.nameEtAsistencial,":"]}),Object(P.jsx)(re.a,{disabled:!0,checked:!0})]})]})]})}):null,null!=f.idEtAdmin?Object(P.jsx)(O.a,{span:f.idEtAsistencial?12:24,children:Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("div",{style:{fontSize:"15px",color:"#2d3d7d",fontWeight:"bold"},children:"Etiqueta Administrativa"}),Object(P.jsx)(x.a,{}),Object(P.jsxs)("div",{className:"d-flex align-items-center ",style:{margin:"10px"},children:[Object(P.jsx)("img",{src:(null===(r=Re[f.idEtAdmin])||void 0===r?void 0:r.url)||Re.null.url,style:{height:"50px"},alt:"Descripci\xf3n del icono"}),Object(P.jsxs)("div",{children:[Object(P.jsxs)("div",{style:{color:"#3d3434",fontWeight:"bold"},children:[f.nameEtAdmin,":"]}),Object(P.jsx)(re.a,{className:"my-element",disabled:!0,checked:!0})]})]})]})}):null]})]}),Object(P.jsx)(Te,{header:"Filtros",children:Object(P.jsx)(w.a,{onFinish:Je,form:F,autoComplete:"off",layout:"vertical",name:"form2",id:"form2",children:Object(P.jsxs)(j.a,{style:{flexDirection:"row"},gutter:[16,16],children:[Object(P.jsx)(O.a,{span:8,children:Object(P.jsx)(w.a.Item,{label:"Mes",name:"month",children:Object(P.jsx)(N.a,{style:{width:"100%"},options:de.b,placeholder:"Seleccione un mes"})})}),Object(P.jsx)(O.a,{span:8,children:Object(P.jsx)(w.a.Item,{label:"A\xf1o",name:"year",children:Object(P.jsx)(G.a,{style:{width:"100%"},onChange:function(e,t){console.log(e.getFullYear,t)},picker:"year",placeholder:"Seleccione un a\xf1o"})})}),Object(P.jsx)(O.a,{span:8,children:Object(P.jsx)(w.a.Item,{label:"Origen",name:"origin",children:Object(P.jsx)(N.a,{style:{width:"100%"},options:Y,placeholder:"Seleccione un origen"})})}),Object(P.jsx)(O.a,{span:8,children:Object(P.jsx)(w.a.Item,{label:"Examen",name:"exam",children:Object(P.jsx)(N.a,{style:{width:"100%"},options:z,placeholder:"Seleccione un examen"})})}),Object(P.jsx)(O.a,{span:8,children:Object(P.jsx)(w.a.Item,{label:"Pendiente",name:"pending",children:Object(P.jsx)(N.a,{style:{width:"100%"},options:oe,placeholder:"Seleccione una opci\xf3n",defaultValue:void 0})})}),Object(P.jsx)(O.a,{span:8,children:Object(P.jsx)(w.a.Item,{label:"Disentido",name:"dissent",children:Object(P.jsx)(N.a,{style:{width:"100%"},options:oe,placeholder:"Seleccione una opci\xf3n",defaultValue:void 0})})}),Object(P.jsx)(O.a,{span:8,children:Object(P.jsx)(w.a.Item,{label:"Contrato Plan",name:"plan",children:Object(P.jsx)(N.a,{style:{width:"100%"},options:H,placeholder:"Seleccione"})})}),Object(P.jsxs)(O.a,{style:{display:"flex",justifyContent:"flex-end",alignItems:"flex-end"},span:24,children:[Object(P.jsx)(b.a,{htmlType:"submit",type:"primary",children:"Filtrar"}),Object(P.jsx)(b.a,{onClick:function(){F.resetFields(),Je(void 0)},children:"Limpiar Filtros"})]})]})})})]}),Object(P.jsx)(x.a,{}),Object(P.jsx)("div",{className:"gx-timeline-section gx-timeline-center",children:null===m||void 0===m?void 0:m.map((function(e,t){return Object(P.jsx)(fe,{styleName:t%2===0?"":"gx-timeline-inverted",timeLine:e,idPaciente:v,getData:p,viewButton:y,detailPlan:u,idPrograma:f.idPrograma},t)}))})]})},Je=function(e){var t=e.id,n=e.getInfo,a=Object(d.useState)([]),s=Object(l.a)(a,2),r=s[0],u=s[1],j=Object(d.useState)(null),x=Object(l.a)(j,2),O=x[0],v=x[1],m=Object(d.useState)(!1),A=Object(l.a)(m,2),f=A[0],p=A[1],h=Object(d.useState)(!1),g=Object(l.a)(h,2),y=g[0],C=g[1],S=Object(d.useState)(!1),w=Object(l.a)(S,2),I=w[0],N=w[1],D=Object(d.useState)({creado:"",fecha_inscripcion:"",fecha_activacion:"",fecha_renovacion:"",Sub_Programa_txt:"",renovacion:!1,programa:"",contrato_sede:"",ciudad:"",estadio:"",contrato_plan:"",primera_vez:!1}),F=Object(l.a)(D,2),M=F[0],q=F[1],Y=Object(d.useState)(null),B=Object(l.a)(Y,2),R=B[0],T=B[1],z=o.a.useNotification(),Q=Object(l.a)(z,2),J=Q[0],W=Q[1],H=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.C)(t);case 2:n=e.sent,u(n),console.log("data rutas atencion",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(d.useEffect)((function(){t&&H()}),[]);var L=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var t,n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.Ub)(O);case 2:return t=e.sent,q(t),e.next=6,Object(k.K)(O);case 6:n=e.sent,T(n),console.log("Array de arrays pro: ",n);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(d.useEffect)((function(){f&&O&&(console.log(O),L())}),[f,O]);var G=[{title:"Plan",dataIndex:"contrato_sede",key:"contrato_sede",render:function(e){return Object(P.jsx)("strong",{children:e})}},{title:"Ciudad",dataIndex:"ciudad",key:"ciudad",render:function(e){return Object(P.jsx)(P.Fragment,{children:e})}},{title:"Estadio",dataIndex:"estadio",key:"estadio",render:function(e){return Object(P.jsx)(P.Fragment,{children:e})}},{title:"Fecha activaci\xf3n",dataIndex:"fecha_activacion",render:function(e){return E()(e).format("DD/MM/YYYY")}},{title:"Renovaci\xf3n",dataIndex:"renovacion",key:"Observacion_Seguimiento",render:function(e){return Object(P.jsx)(ae.a,{disabled:!0,checked:e})}},{title:"1ra vez",dataIndex:"primera_vez",key:"Observacion_Seguimiento",render:function(e){return Object(P.jsx)(ae.a,{disabled:!0,checked:e})}},{title:"Programa",dataIndex:"programa",key:"programa",render:function(e){return Object(P.jsx)("strong",{children:e})}},{title:"Sub programa",dataIndex:"Sub_Programa_txt",key:"Sub_Programa_txt"},{title:"Estado",dataIndex:"estado",key:"estado",render:function(e){var t,n;return Object(P.jsx)(ce.a,{style:{width:"100%"},color:null===(t=xe.d[e])||void 0===t?void 0:t.color,children:null===(n=xe.d[e])||void 0===n?void 0:n.text})}},{title:"Acciones",key:"action",align:"center",render:function(e){return Object(P.jsx)(K.a,{title:"Ver",children:Object(P.jsx)(b.a,{onClick:Object(i.a)(Object(c.a)().mark((function t(){var n;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return N(!0),console.log("Sirve ver",e),t.next=4,Object(k.e)(e.id);case 4:return t.next=6,Object(k.f)(e.id);case 6:return t.next=8,Object(k.a)(e.id);case 8:(n=t.sent)&&(console.log(n),1==n.Tomo_Laboratorios?J.open({type:"info",message:"Alerta",description:"El paciente tomo los laboratorios. ".concat(n.Resultado_Laboratorio)}):0==n.Tomo_Laboratorios&&J.open({type:"info",message:"Alerta",description:"El paciente no ha tomado los laboratorios!.",icon:Object(P.jsx)(ie.a,{style:{color:"#e0db03"}})})),C(!0),v(e.id),p(!0),N(!1);case 14:case"end":return t.stop()}}),t)}))),children:Object(P.jsx)(ee.a,{})})})}}];return Object(P.jsxs)(P.Fragment,{children:[W,Object(P.jsx)(_.a,{width:"1200px",title:"Ruta atenci\xf3n",open:f,onCancel:function(){p(!1),C(!1)},children:Object(P.jsx)(Qe,{detailPlan:O,idPaciente:t,listInfoPlans:R,setListInfoPlans:T,detailPlans:M,getData:L,getInfo:n,getDataPlains:L,viewButton:y})}),Object(P.jsx)(V.a,{columns:G,loading:I,dataSource:r,scroll:{x:1300}})]})},We=n(978),He=n(979),Le=n(977),Ke=function(e){var t=e.id,n=e.activeKey,a=Object(d.useState)([]),o=Object(l.a)(a,2),s=o[0],r=o[1],u=Object(d.useState)(),j=Object(l.a)(u,2),x=j[0],O=j[1],v=S.b.useMessage(),m=Object(l.a)(v,2),A=m[0],f=m[1],p=Object(d.useState)(!1),h=Object(l.a)(p,2),g=h[0],y=h[1],C=Object(d.useState)(!1),_=Object(l.a)(C,2),w=_[0],I=(_[1],function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.Rb)(t);case 2:n=e.sent,r(n),console.log("data rutas atencion",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());Object(d.useEffect)((function(){t&&"1"===n&&I()}),[t,n]);var N=function(){var e=Object(i.a)(Object(c.a)().mark((function e(t){var n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.y)(t);case 2:if(n=e.sent,console.log("eliminado: ",n),"fail"!==(null===n||void 0===n?void 0:n.status)){e.next=9;break}return e.next=7,A.open({type:"error",content:(null===n||void 0===n?void 0:n.message)||"error"});case 7:e.next=12;break;case 9:if("ok"!==(null===n||void 0===n?void 0:n.status)){e.next=12;break}return e.next=12,A.open({type:"success",content:"Eliminada correctamente"});case 12:I();case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=[{title:"Cita",dataIndex:"name",key:"name",render:function(e){return Object(P.jsx)(P.Fragment,{children:e})}},{title:"Fecha Cita",dataIndex:"Fecha_Cita",key:"Fecha_Cita",render:function(e){return E()(e).format("DD/MM/YYYY HH:MM")}},{title:"Duraci\xf3n",dataIndex:"duracion",key:"duracion"},{title:"Profesional",dataIndex:"Profesional_txt",key:"Profesional_txt",render:function(e){return Object(P.jsx)(P.Fragment,{children:e})}},{title:"Sede",dataIndex:"Sedetxt",key:"Sedetxt",render:function(e){return Object(P.jsx)(P.Fragment,{children:e})}},{title:"Canal Atenci\xf3n",dataIndex:"Canal_Atencion_txt",key:"Canal_Atencion_txt"},{title:"Plan Mensual",dataIndex:"Plan_Mensual_txt",key:"Plan_Mensual_txt"},{title:"Codigo Tipo",dataIndex:"Codigo_Tipo",key:"Codigo_Tipo"},{title:"Examen",dataIndex:"nameExam",key:"nameExam"},{title:"Estado",dataIndex:"Estado_Txt",render:function(e){var t;return Object(P.jsx)(ce.a,{style:{width:"100%"},color:null===(t=xe.c[e])||void 0===t?void 0:t.color,children:e})}},{title:"Acciones",key:"action",align:"center",render:function(e){return Object(P.jsx)(K.a,{trigger:"click",placement:"top",color:"#ffff",title:Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(K.a,{title:"Ver",children:Object(P.jsx)(b.a,{onClick:Object(i.a)(Object(c.a)().mark((function t(){return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("Sirve ver",e),O(e),y(!0);case 3:case"end":return t.stop()}}),t)}))),children:Object(P.jsx)(ee.a,{})})}),Object(P.jsx)(K.a,{title:"Agendar",children:Object(P.jsx)(b.a,{disabled:"Cancelado"==e.Estado_Txt||"Asistida"==e.Estado_Txt||"Finalizada"==e.Estado_Txt||"Solicitada"==e.Estado_Txt||"No Asistida"==e.Estado_Txt,onClick:Object(i.a)(Object(c.a)().mark((function t(){var n;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sirve Agendar",e),t.next=3,Object(k.vc)(e.id);case 3:if("fail"!==(null===(n=t.sent)||void 0===n?void 0:n.status)){t.next=9;break}return t.next=7,A.open({type:"error",content:(null===n||void 0===n?void 0:n.message)||"error"});case 7:t.next=12;break;case 9:if("ok"!==(null===n||void 0===n?void 0:n.status)){t.next=12;break}return t.next=12,A.open({type:"success",content:"Agendada exitosamente"});case 12:case"end":return t.stop()}}),t)}))),children:Object(P.jsx)(We.a,{})})}),Object(P.jsx)(K.a,{title:"Eliminar",children:Object(P.jsx)(b.a,{disabled:"Cancelado"==e.Estado_Txt||"Asistida"==e.Estado_Txt||"Finalizada"==e.Estado_Txt||"Solicitada"==e.Estado_Txt||"No Asistida"==e.Estado_Txt,onClick:Object(i.a)(Object(c.a)().mark((function t(){return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("Sirve eliminar",e),N(e.id);case 2:case"end":return t.stop()}}),t)}))),children:Object(P.jsx)(He.a,{})})})]}),children:Object(P.jsx)(b.a,{children:Object(P.jsx)(Le.a,{})})})}}];return Object(P.jsxs)(P.Fragment,{children:[f,Object(P.jsx)(Oe.a,{open:g,setOpen:y,dataRow:x,idPaciente:t}),Object(P.jsx)(V.a,{columns:D,loading:w,dataSource:s,scroll:{x:1300}})]})},Ge=n(955),Ve=(n(954),n(514),n(951),n(378)),Xe=Object(Ge.b)(E.a);E.a.locale("es");var Ue={today:"Hoy",previous:"Anterior",next:"Siguiente",month:"Mes",week:"Semana",day:"D\xeda"},Ze=function(e){var t=e.id,n=e.activeKey,a=Object(d.useState)(!1),o=Object(l.a)(a,2),s=o[0],r=o[1],u=Object(d.useState)(),j=Object(l.a)(u,2),x=j[0],O=j[1],v=Object(d.useState)([]),m=Object(l.a)(v,2),A=m[0],f=m[1],p=Object(d.useState)(!1),h=Object(l.a)(p,2),g=h[0],y=(h[1],S.b.useMessage()),C=Object(l.a)(y,2),_=C[0],w=C[1],I=new Date;I.setHours(6,0,0,0);var N=new Date;N.setHours(23,0,0,0);var D=function(){var e=document.querySelector(".popover-calendar");e&&(e.style.display="none")};Object(d.useEffect)((function(){t&&"2"===n&&F()}),[t,n]);var F=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var n,a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.Rb)(t);case 2:n=e.sent,console.log(n),a=null===n||void 0===n?void 0:n.map((function(e){var t,n,a;return{title:Object(P.jsx)(P.Fragment,{children:Object(P.jsx)(Ve.a,{trigger:"click",className:"popover-calendar",content:Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)("div",{className:"row",style:{maxWidth:"400px"},children:[Object(P.jsx)("div",{className:"col-12 col-md-3",children:Object(P.jsx)("div",{className:"calendar-date-text",style:{backgroundColor:null===(t=xe.c[null===e||void 0===e?void 0:e.Estado_Txt])||void 0===t?void 0:t.color},children:E()(new Date(null===e||void 0===e?void 0:e.Fecha_Cita)).format("DD MMM")})}),Object(P.jsxs)("div",{className:"col info-text-popover",children:[Object(P.jsxs)("h5",{className:"mb-3",children:["Cita ",(null===e||void 0===e?void 0:e.name)||"-"]}),Object(P.jsxs)("div",{className:"mb-3",children:["Profesional: ",(null===e||void 0===e?void 0:e.Profesional_txt)||"-"]}),Object(P.jsxs)("div",{children:["Estado: ",Object(P.jsx)("span",{children:(null===e||void 0===e?void 0:e.Estado_Txt)||"-"})]}),Object(P.jsxs)("div",{children:["Sede Sies: ",Object(P.jsx)("span",{children:(null===e||void 0===e?void 0:e.Sedetxt)||"-"})]}),Object(P.jsxs)("div",{children:["Ciudad: ",Object(P.jsx)("span",{children:(null===e||void 0===e?void 0:e.Ciudad_Txt)||"-"})]}),Object(P.jsxs)("div",{children:["Canal Atenci\xf3n:",Object(P.jsx)("span",{children:(null===e||void 0===e?void 0:e.Canal_Atencion_txt)||"-"})]}),Object(P.jsxs)("div",{children:["Plan Mensual:",Object(P.jsx)("span",{children:(null===e||void 0===e?void 0:e.Plan_Mensual_txt)||"-"})]}),Object(P.jsxs)("div",{children:["Codigo Tipo:",Object(P.jsx)("span",{children:(null===e||void 0===e?void 0:e.Codigo_Tipo)||"-"})]}),Object(P.jsxs)("div",{children:["Examen:",Object(P.jsx)("span",{children:(null===e||void 0===e?void 0:e.nameExam)||"-"})]}),Object(P.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-evenly"},children:[Object(P.jsx)(K.a,{title:"Ver",children:Object(P.jsx)(b.a,{onClick:Object(i.a)(Object(c.a)().mark((function t(){return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("Sirve",e),D(),r(!0),O(e);case 4:case"end":return t.stop()}}),t)}))),children:Object(P.jsx)(ee.a,{})})}),Object(P.jsx)(K.a,{title:"Agendar",children:Object(P.jsx)(b.a,{disabled:"Cancelado"==(null===e||void 0===e?void 0:e.Estado_Txt)||"Asistida"==(null===e||void 0===e?void 0:e.Estado_Txt)||"Finalizada"==(null===e||void 0===e?void 0:e.Estado_Txt)||"Solicitada"==(null===e||void 0===e?void 0:e.Estado_Txt)||"No Asistida"==(null===e||void 0===e?void 0:e.Estado_Txt),onClick:Object(i.a)(Object(c.a)().mark((function t(){var n;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sirve Agendar",e),t.next=3,Object(k.vc)(e.id);case 3:if("fail"!==(null===(n=t.sent)||void 0===n?void 0:n.status)){t.next=9;break}return t.next=7,_.open({type:"error",content:(null===n||void 0===n?void 0:n.message)||"error"});case 7:t.next=12;break;case 9:if("ok"!==(null===n||void 0===n?void 0:n.status)){t.next=12;break}return t.next=12,_.open({type:"success",content:"Agendada exitosamente"});case 12:case"end":return t.stop()}}),t)}))),children:Object(P.jsx)(We.a,{})})}),Object(P.jsx)(K.a,{title:"Eliminar",children:Object(P.jsx)(b.a,{disabled:"Cancelado"==(null===e||void 0===e?void 0:e.Estado_Txt)||"Asistida"==(null===e||void 0===e?void 0:e.Estado_Txt)||"Finalizada"==(null===e||void 0===e?void 0:e.Estado_Txt)||"Solicitada"==(null===e||void 0===e?void 0:e.Estado_Txt)||"No Asistida"==(null===e||void 0===e?void 0:e.Estado_Txt),onClick:Object(i.a)(Object(c.a)().mark((function t(){var n;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sirve eliminar",e),t.next=3,Object(k.y)(e.id);case 3:if(n=t.sent,console.log("eliminado: ",n),"fail"!==(null===n||void 0===n?void 0:n.status)){t.next=10;break}return t.next=8,_.open({type:"error",content:(null===n||void 0===n?void 0:n.message)||"error"});case 8:t.next=13;break;case 10:if("ok"!==(null===n||void 0===n?void 0:n.status)){t.next=13;break}return t.next=13,_.open({type:"success",content:"Eliminada correctamente"});case 13:F();case 14:case"end":return t.stop()}}),t)}))),children:Object(P.jsx)(He.a,{})})})]})]})]})}),children:Object(P.jsx)("span",{className:"span-calendar-text",children:Object(P.jsx)(ce.a,{style:{width:"100%",height:"100%"},color:null===(n=xe.c[null===e||void 0===e?void 0:e.Estado_Txt])||void 0===n?void 0:n.color,children:null===(a=xe.c[null===e||void 0===e?void 0:e.Estado_Txt])||void 0===a?void 0:a.text})})})}),start:new Date(null===e||void 0===e?void 0:e.Fecha_Cita),end:new Date(null===e||void 0===e?void 0:e.Fecha_Cita_Fin)}})),f(a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(Oe.a,{open:s,setOpen:r,dataRow:x,idPaciente:t}),Object(P.jsx)(Ge.a,{loading:g,localizer:Xe,events:A,startAccessor:"start",endAccessor:"end",defaultView:"week",messages:Ue,min:I,max:N}),w]})};t.default=function(){var e=Object(u.i)().id,t=o.a.useNotification(),n=Object(l.a)(t,2),j=n[0],b=n[1],x=Object(u.h)(),O=Object(d.useState)("1"),v=Object(l.a)(O,2),m=v[0],A=v[1],f=Object(d.useState)(null),p=Object(l.a)(f,2),h=p[0],g=p[1],y=Object(d.useState)("paciente"),C=Object(l.a)(y,2),E=C[0],S=C[1],_=Object(d.useState)(void 0),w=Object(l.a)(_,2),I=w[0],N=w[1],D=Object(d.useState)(null),F=Object(l.a)(D,2),M=(F[0],F[1]),q=function(){var e=Object(i.a)(Object(c.a)().mark((function e(t){var n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.B)(t);case 2:n=e.sent,M(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(d.useEffect)(Object(i.a)(Object(c.a)().mark((function t(){var n,i,l,o,s,r,d;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return N("numero_document"===(null===x||void 0===x||null===(n=x.state)||void 0===n?void 0:n.type)),localStorage.setItem("idPaciente",e),t.next=4,Object(k.Wb)(e,"numero_document"===(null===x||void 0===x||null===(i=x.state)||void 0===i?void 0:i.type));case 4:if(l=t.sent,g(l),q(e),!x.state){t.next=29;break}if(o=x.state.detail,console.log(o),!(o.length>0)){t.next=29;break}s=Object(a.a)(o),t.prev=12,s.s();case 14:if((r=s.n()).done){t.next=21;break}return d=r.value,j.open({type:"info",description:" ".concat(null===d||void 0===d?void 0:d.cambio)}),t.next=19,Object(k.o)(null===d||void 0===d?void 0:d.id);case 19:t.next=14;break;case 21:t.next=26;break;case 23:t.prev=23,t.t0=t.catch(12),s.e(t.t0);case 26:return t.prev=26,s.f(),t.finish(26);case 29:case"end":return t.stop()}}),t,null,[[12,23,26,29]])}))),[e]);var Y={paciente:[{key:"1",label:"Informacion Paciente",children:Object(P.jsx)(H,{type:I,id:null===h||void 0===h?void 0:h.id,activeKey:m,idPaciente:e})}],citas:[{key:"1",label:"Modo Lista",children:Object(P.jsx)(Ke,{id:null===h||void 0===h?void 0:h.id,activeKey:m})},{key:"2",label:"Modo Calendario",children:Object(P.jsx)(Ze,{id:null===h||void 0===h?void 0:h.id,activeKey:m})},{key:"3",label:"Citas Remisiones",children:null}]},B={notas:Object(P.jsx)(ne,{id:null===h||void 0===h?void 0:h.id,activeKey:m}),rutas:Object(P.jsx)(Je,{id:null===h||void 0===h?void 0:h.id,activeKey:m,getInfo:q}),citas:Object(P.jsx)(Ke,{id:null===h||void 0===h?void 0:h.id,activeKey:m})};return Object(P.jsxs)(P.Fragment,{children:[b,Object(P.jsxs)("div",{className:"gx-profile-banner",style:{display:"flex",justifyContent:"space-between",padding:"32px 32px 70px"},children:[Object(P.jsxs)("div",{className:"gx-profile-container",children:[Object(P.jsx)("div",{className:"gx-profile-banner-top",style:{justifyContent:"space-between",marginBottom:"62px"},children:Object(P.jsx)("div",{className:"gx-profile-banner-top-left",children:Object(P.jsxs)("div",{className:"gx-profile-banner-avatar-info",children:[Object(P.jsxs)("h2",{className:"gx-mb-2 gx-mb-sm-3 gx-fs-xxl gx-font-weight-light",children:[null===h||void 0===h?void 0:h.nombre," ",null===h||void 0===h?void 0:h.apellido]}),Object(P.jsxs)("p",{className:"gx-mb-0 gx-fs-lg",children:[null===h||void 0===h?void 0:h.tipo_documento," ",null===h||void 0===h?void 0:h.numero_documento]})]})})}),Object(P.jsxs)("div",{className:"gx-profile-banner-bottom",children:[Object(P.jsx)("div",{className:"gx-tab-list",children:Object(P.jsxs)("ul",{className:"gx-navbar-nav",children:[Object(P.jsx)("li",{onClick:function(){return S("paciente")},children:Object(P.jsx)("span",{className:"gx-link",children:"Detalle del paciente"})}),Object(P.jsx)("li",{onClick:function(){return S("notas")},children:Object(P.jsx)("span",{className:"gx-link",children:"Notas Administrativas"})}),Object(P.jsx)("li",{onClick:function(){return S("rutas")},children:Object(P.jsx)("span",{className:"gx-link",children:"Rutas de Atenci\xf3n"})}),Object(P.jsx)("li",{onClick:function(){return S("citas")},children:Object(P.jsx)("span",{className:"gx-link",children:"Citas"})})]})}),Object(P.jsx)("span",{className:"gx-link gx-profile-setting"})]})]}),Object(P.jsx)("div",{style:{marginBottom:"0px",width:"440px"}})]}),Object(P.jsxs)(s.a,{style:{zIndex:2},children:["notas"===E?B[E]:null,"rutas"===E?B[E]:null,Object(P.jsx)(r.a,{defaultActiveKey:"1",items:Y[E],onChange:function(e){console.log(e),A(e)}})]})]})}}}]);
//# sourceMappingURL=5.713b109b.chunk.js.map
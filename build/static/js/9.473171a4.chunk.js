(this["webpackJsonpwieldy-hook"]=this["webpackJsonpwieldy-hook"]||[]).push([[9],{948:function(e,t,n){"use strict";var o=n(939),a=n(3),c=n(4),r=n(6),i=n(12),l=n(5),s=n(357),u=n(141),d=n(923),m=n(77),p=n(156),b=n(510),f=n(0),j=n(62),v=n(27),O=n(1);t.a=function(e){var t=e.open,n=e.setOpen,x=(e.numero_doc,e.dataIntegrarProfesional),h=e.getDatagrid,g=(e.setDataIntegrarProfesional,e.cargando),y=s.a.useNotification(),C=Object(l.a)(y,2),k=C[0],w=C[1],N=function(){return n(!1)},_=Object(f.useState)([]),E=Object(l.a)(_,2),P=E[0],T=E[1],I=Object(f.useState)(!1),S=Object(l.a)(I,2),F=S[0],B=S[1],D=Object(j.g)(),V=Object(f.useState)({tipo_documento:"",numero_documento:""}),z=Object(l.a)(V,2),A=z[0],L=z[1],q=u.a.useForm(),J=Object(l.a)(q,1)[0],K=function(){var e=Object(i.a)(Object(r.a)().mark((function e(t){var n,o;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B(!0),e.prev=1,e.next=4,Object(v.x)(t);case 4:return e.next=6,k.open({type:"success",description:"Profesional integrado correctamente"});case 6:D.push({pathname:"/detail-professional/".concat(null===t||void 0===t?void 0:t.numero_documento),state:{type:"numero_document"}}),N(),e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,k.open({type:"error",description:null===(n=e.t0.response)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.message});case 14:B(!1);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(i.a)(Object(r.a)().mark((function e(){var t;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.kc)();case 2:t=e.sent,T(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.useEffect)((function(){R()}),[]),Object(f.useEffect)(Object(i.a)(Object(r.a)().mark((function e(){var t,n,a,c,i,l,s;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!x.Integrar){e.next=33;break}n=Object(o.a)(P),e.prev=2,n.s();case 4:if((a=n.n()).done){e.next=11;break}if((c=a.value).label!==(null===x||void 0===x?void 0:x.Tipo_Documento)){e.next=9;break}return t=c.value,e.abrupt("break",11);case 9:e.next=4;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),n.e(e.t0);case 16:return e.prev=16,n.f(),e.finish(16);case 19:return i={tipo_documento:t,numero_documento:null===x||void 0===x?void 0:x.Numero_Documento},e.prev=20,e.next=23,Object(v.x)(i);case 23:return e.next=25,k.open({type:"success",description:"Profesional integrado correctamente"});case 25:h(null===x||void 0===x?void 0:x.filtros),e.next=33;break;case 28:return e.prev=28,e.t1=e.catch(20),e.next=32,k.open({type:"error",description:null===(l=e.t1.response)||void 0===l||null===(s=l.data)||void 0===s?void 0:s.message});case 32:g(!1);case 33:case"end":return e.stop()}}),e,null,[[2,13,16,19],[20,28]])}))),[x]),Object(O.jsxs)(O.Fragment,{children:[w,Object(O.jsx)(d.a,{title:"Crear Profesional",open:t,onCancel:N,footer:[Object(O.jsx)(m.a,{onClick:N,children:"Cancelar"},"button-cancel"),Object(O.jsx)(m.a,{loading:F,onClick:function(){return J.submit()},children:"Integrar"},"button-integrar")],children:Object(O.jsx)(u.a,{name:"wrap",layout:"vertical",colon:!1,onFinish:K,form:J,autoComplete:"off",children:Object(O.jsxs)("div",{className:"row align-items-center",children:[Object(O.jsx)("div",{className:"col-12 col-md-6 col-lg-6",children:Object(O.jsx)(u.a.Item,{label:"Tipo de documento",name:"tipo_documento",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(O.jsx)(p.a,{className:"w-100",showSearch:!0,placeholder:"Selecciona tipo de documento",optionFilterProp:"children",filterOption:function(e,t){var n;return(null!==(n=null===t||void 0===t?void 0:t.label)&&void 0!==n?n:"").toLowerCase().includes(e.toLowerCase())},options:P})})}),Object(O.jsx)("div",{className:"col-12 col-md-6 col-lg-6",children:Object(O.jsx)(u.a.Item,{label:"N\xfamero de documento",name:"numero_documento",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(O.jsx)(b.a,{onChange:function(e){var t=e.target;console.log("target",t),L(Object(c.a)(Object(c.a)({},A),{},Object(a.a)({},t.name,t.value)))},name:"numero_documento"})})})]})})})]})}},999:function(e,t,n){"use strict";n.r(t);var o=n(6),a=n(12),c=n(5),r=n(141),i=n(511),l=n(2),s=n(268),u=n(8),d=n.n(u),m=n(126),p=n(233),b=n(0),f=n(75),j=n(384),v=n(36),O=n(77),x=n(187),h=n(346),g=n(87),y=n(104),C=n(345),k=function(e){var t=e.prefixCls,n=e.okButtonProps,o=e.cancelButtonProps,a=e.title,c=e.cancelText,r=e.okText,i=e.okType,s=e.icon,u=e.showCancel,d=void 0===u||u,m=e.close,p=e.onConfirm,j=e.onCancel,v=b.useContext(f.b).getPrefixCls;return b.createElement(g.a,{componentName:"Popconfirm",defaultLocale:y.a.Popconfirm},(function(e){return b.createElement("div",{className:"".concat(t,"-inner-content")},b.createElement("div",{className:"".concat(t,"-message")},s&&b.createElement("span",{className:"".concat(t,"-message-icon")},s),b.createElement("div",{className:"".concat(t,"-message-title")},Object(C.a)(a))),b.createElement("div",{className:"".concat(t,"-buttons")},d&&b.createElement(O.a,Object(l.a)({onClick:j,size:"small"},o),null!==c&&void 0!==c?c:e.cancelText),b.createElement(h.a,{buttonProps:Object(l.a)(Object(l.a)({size:"small"},Object(x.a)(i)),n),actionFn:p,close:m,prefixCls:v("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},null!==r&&void 0!==r?r:e.okText)))}))},w=void 0,N=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]])}return n},_=b.forwardRef((function(e,t){var n=e.prefixCls,o=e.placement,a=void 0===o?"top":o,r=e.trigger,i=void 0===r?"click":r,u=e.okType,O=void 0===u?"primary":u,x=e.icon,h=void 0===x?b.createElement(s.a,null):x,g=e.children,y=e.overlayClassName,C=e.onOpenChange,_=e.onVisibleChange,E=N(e,["prefixCls","placement","trigger","okType","icon","children","overlayClassName","onOpenChange","onVisibleChange"]),P=b.useContext(f.b).getPrefixCls,T=Object(m.a)(!1,{value:void 0!==e.open?e.open:e.visible,defaultValue:void 0!==e.defaultOpen?e.defaultOpen:e.defaultVisible}),I=Object(c.a)(T,2),S=I[0],F=I[1],B=function(e,t){F(e,!0),null===_||void 0===_||_(e,t),null===C||void 0===C||C(e,t)},D=P("popover",n),V=P("popconfirm",n),z=d()(V,y);return b.createElement(j.a,Object(l.a)({},E,{trigger:i,prefixCls:D,placement:a,onOpenChange:function(t){var n=e.disabled;void 0!==n&&n||B(t)},open:S,ref:t,overlayClassName:z,_overlay:b.createElement(k,Object(l.a)({okType:O,icon:h},e,{prefixCls:D,close:function(e){B(!1,e)},onConfirm:function(t){var n;return null===(n=e.onConfirm)||void 0===n?void 0:n.call(w,t)},onCancel:function(t){var n;B(!1,t),null===(n=e.onCancel)||void 0===n||n.call(w,t)}}))}),Object(v.a)(g,{onKeyDown:function(e){var t,n;b.isValidElement(g)&&(null===(n=null===g||void 0===g?void 0:(t=g.props).onKeyDown)||void 0===n||n.call(t,e)),function(e){e.keyCode===p.a.ESC&&S&&B(!1,e)}(e)}}))})),E=n(932),P=n(510),T=n(930),I=n(62),S=n(943),F=n.n(S),B=n(27),D=n(948),V=n(1);t.default=function(){var e=Object(b.useState)(!1),t=Object(c.a)(e,2),n=t[0],l=t[1],s=Object(b.useState)(!1),u=Object(c.a)(s,2),d=u[0],m=u[1],p=Object(b.useState)(""),f=Object(c.a)(p,2),j=f[0],v=f[1],x=Object(b.useState)([]),h=Object(c.a)(x,2),g=h[0],y=h[1],C=r.a.useForm(),k=Object(c.a)(C,1)[0],w=Object(b.useState)(!1),N=Object(c.a)(w,2),S=N[0],z=N[1],A=Object(I.g)(),L=i.b.useMessage(),q=Object(c.a)(L,2),J=q[0];q[1];Object(b.useEffect)((function(){K({numero_doc:"",nombre:""})}),[]);var K=function(){var e=Object(a.a)(Object(o.a)().mark((function e(t){var a;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.next=3,Object(B.mc)(n.name,t);case 3:if(0!==(a=e.sent).length){e.next=9;break}return e.next=7,F.a.fire({title:"No existen registros",text:"\xbfDesea integrar un profesional?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"No",confirmButtonText:"Si, crear"});case 7:e.sent.isConfirmed&&z(!0);case 9:m(!1),y(a);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(e){var t=e.target;t.value?("numero_doc"===t.name&&v(t.value),l({name:t.name})):l(!1)},M=[{title:"Nombres",dataIndex:"nombres",key:"nombres",render:function(e){return Object(V.jsx)("a",{children:e})}},{title:"Apellidos",dataIndex:"apellidos",key:"apellidos"},{title:"Tipo de documento",dataIndex:"tipo_documento",key:"tipo_documento"},{title:"N\xfamero de documento",dataIndex:"numero_documento",key:"numero_documento"},{title:"Profesi\xf3n",dataIndex:"profesion",key:"profesion"},{title:"Acciones",key:"action",align:"center",children:[{title:"Ver",key:"ver",render:function(e){var t=function(){var t=Object(a.a)(Object(o.a)().mark((function t(){var n,a;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(B.h)(null===e||void 0===e?void 0:e.numero_documento);case 3:J.open({type:"success",content:"Actualizado correctamente"}),A.push("/detail-professional/".concat(null===e||void 0===e?void 0:e.id_professional)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),J.open({type:"error",content:(null===(n=t.t0.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message)||"error"});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();return Object(V.jsx)(_,{title:"\xbfActualizar profesional? ",onConfirm:t,onCancel:function(){A.push("/detail-professional/".concat(null===e||void 0===e?void 0:e.id_professional))},okText:"Si, actualizar",cancelText:"No",children:Object(V.jsx)("i",{style:{cursor:"pointer"},className:"icon icon-view"})})}},{title:"Editar",key:"editar",dataIndex:"id_professional",render:function(e){return Object(V.jsx)("i",{style:{cursor:"pointer"},className:"icon icon-edit",onClick:function(){A.push("/edit-professional/".concat(e))}})}}]}];return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(D.a,{open:S,setOpen:z,numero_doc:j}),Object(V.jsx)(E.a,{title:"Buscar profesional",extra:Object(V.jsx)("span",{style:{cursor:"pointer",color:"#038fde"},onClick:function(){return z(!0)},children:"Integrar"}),actions:[Object(V.jsxs)("div",{className:"d-flex justify-content-end me-4",children:[Object(V.jsx)(O.a,{type:"primary",htmlType:"submit",onClick:function(){k.resetFields(),l(!1),K({numero_doc:"",nombre:""})},children:"Limpiar Filtros"}),Object(V.jsx)(O.a,{type:"primary",htmlType:"submit",onClick:function(){return k.submit()},disabled:!n,loading:d,children:"Consultar"})]},"button-actions")],children:Object(V.jsx)(r.a,{name:"wrap",layout:"vertical",colon:!1,onFinish:K,form:k,autoComplete:"off",children:Object(V.jsxs)("div",{className:"row align-items-center",children:[Object(V.jsx)("div",{className:"col-12 col-md-6 col-lg-6",children:Object(V.jsx)(r.a.Item,{label:"Nombre",name:"nombre",children:Object(V.jsx)(P.a,{onChange:R,name:"nombre",disabled:"numero_doc"===(null===n||void 0===n?void 0:n.name)})})}),Object(V.jsx)("div",{className:"col-12 col-md-6 col-lg-6",children:Object(V.jsx)(r.a.Item,{label:"N\xfamero de documento",name:"numero_doc",children:Object(V.jsx)(P.a,{onChange:R,name:"numero_doc",disabled:"nombre"===(null===n||void 0===n?void 0:n.name)})})})]})})}),Object(V.jsx)(E.a,{children:Object(V.jsx)(T.a,{columns:M,loading:d,dataSource:g,scroll:{x:1300}})})]})}}}]);
//# sourceMappingURL=9.473171a4.chunk.js.map
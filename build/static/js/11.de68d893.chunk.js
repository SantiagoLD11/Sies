(this["webpackJsonpwieldy-hook"]=this["webpackJsonpwieldy-hook"]||[]).push([[11],{943:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(175);function r(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Object(a.a)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,c=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw c}}}}},957:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(6),r=n(11),o=n(5),c=n(145),i=n(508),l=n(926),u=n(80),s=n(507),d=n(160),b=n(0),j=n(19),m=n(1),p=function(e){var t=e.setIsActualizar,n=e.open,p=e.setOpen,v=e.idPaciente,O=Object(b.useState)(""),f=Object(o.a)(O,2),x=(f[0],f[1],Object(b.useState)("")),h=Object(o.a)(x,2),g=(h[0],h[1],Object(b.useState)(!1)),k=Object(o.a)(g,2),y=k[0],C=k[1],w=c.a.useForm(),_=Object(o.a)(w,1)[0],S=i.b.useMessage(),I=Object(o.a)(S,2),F=I[0],N=I[1],D=Object(b.useState)([]),T=Object(o.a)(D,2),P=T[0],A=T[1],q=Object(b.useState)({Direccion:"",Celular:"",Tel:"",Ciudad:"",idCiudad:"",Email:""}),E=Object(o.a)(q,2),B=E[0],V=E[1],z=function(){return p(!1)};Object(b.useEffect)((function(){v&&n&&L()}),[n]);var L=function(){var e=Object(r.a)(Object(a.a)().mark((function e(){var t,n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.oc)();case 2:return t=e.sent,A(t),e.next=6,Object(j.Q)(v);case 6:n=e.sent,V(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(r.a)(Object(a.a)().mark((function e(n){var r,o;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n),C(!0),e.prev=2,e.next=5,Object(j.Sc)(v,n);case 5:return e.next=7,F.open({type:"success",content:"Se ha actualizado el paciente correctamente."});case 7:z(),e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(2),e.next=14,F.open({type:"error",content:null===(r=e.t0.response)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.message});case 14:C(!1),t(!0),p(!1);case 17:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)(m.Fragment,{children:[N,Object(m.jsx)(l.a,{title:"Editar Paciente",open:n,onCancel:z,onOk:$,footer:[Object(m.jsx)(u.a,{onClick:z,children:"Cancelar"},"button-cancel"),Object(m.jsx)(u.a,{htmlType:"submit",form:"basic",loading:y,style:{backgroundColor:"#00ABC8",color:"#FFF"},children:"Guardar"},"button-actualizar")],children:Object(m.jsx)(c.a,{form:_,id:"basic",name:"basic",onFinish:$,autoComplete:"off",layout:"vertical",fields:[{name:["direccion"],value:(null===B||void 0===B?void 0:B.Direccion)||""},{name:["celular"],value:(null===B||void 0===B?void 0:B.Celular)||""},{name:["tel"],value:(null===B||void 0===B?void 0:B.Tel)||""},{name:["ciudad"],value:(null===B||void 0===B?void 0:B.idCiudad)||""},{name:["email"],value:(null===B||void 0===B?void 0:B.Email)||""}],children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-12 col-md-6",children:Object(m.jsx)(c.a.Item,{label:"Direcci\xf3n",name:"direccion",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(m.jsx)(s.a,{})})}),Object(m.jsx)("div",{className:"col-12 col-md-6",children:Object(m.jsx)(c.a.Item,{label:"Celular",name:"celular",rules:[{required:!0,message:"Por favor, ingresa solo n\xfameros",pattern:/^[0-9]*$/}],children:Object(m.jsx)(s.a,{type:"text"})})}),Object(m.jsx)("div",{className:"col-12 col-md-6",children:Object(m.jsx)(c.a.Item,{label:"Tel\xe9fono",name:"tel",rules:[{required:!0,message:"Por favor, ingresa solo n\xfameros",pattern:/^[0-9]*$/}],children:Object(m.jsx)(s.a,{type:"text"})})}),Object(m.jsx)("div",{className:"col-12 col-md-6",children:Object(m.jsx)(c.a.Item,{label:"Ciudad",name:"ciudad",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(m.jsx)(d.a,{showSearch:!0,name:"ciudad",optionFilterProp:"children",filterOption:function(e,t){var n;return(null!==(n=null===t||void 0===t?void 0:t.label)&&void 0!==n?n:"").toLowerCase().includes(e.toLowerCase())},options:P})})}),Object(m.jsx)("div",{className:"col-12 col-md-6",children:Object(m.jsx)(c.a.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Por favor, ingresa un correo electr\xf3nico v\xe1lido",type:"email"}],children:Object(m.jsx)(s.a,{type:"email"})})})]})})})]})}},986:function(e,t,n){"use strict";n.r(t);var a=n(943),r=n(6),o=n(11),c=n(5),i=n(0),l=n(19),u=n(145),s=n(352),d=n(154),b=n(80),j=n(399),m=n(936),p=n(507),v=n(509),O=n(160),f=n(934),x=n(72),h=n.n(x),g=n(2),k=n(4),y=n(926),C=n(63),w=n(1),_=function(e){var t=e.open,n=e.setOpen,d=(e.numero_doc,e.dataIntegrarPaciente),j=e.getDatagrid,m=e.cargando,v=s.a.useNotification(),f=Object(c.a)(v,2),x=f[0],h=f[1],_=Object(C.g)(),S=Object(i.useState)([]),I=Object(c.a)(S,2),F=I[0],N=I[1],D=function(){return n(!1)},T=u.a.useForm(),P=Object(c.a)(T,1)[0],A=Object(i.useState)(!1),q=Object(c.a)(A,2),E=q[0],B=q[1],V=Object(i.useState)({tipo_documento:"",numero_documento:""}),z=Object(c.a)(V,2),L=z[0],$=z[1],J=function(){var e=Object(o.a)(Object(r.a)().mark((function e(t){var n,a;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B(!0),e.prev=1,e.next=4,Object(l.v)(t);case 4:return e.next=6,x.open({type:"success",description:"Paciente integrado correctamente"});case 6:_.push({pathname:"/detail-patient/".concat(null===t||void 0===t?void 0:t.numero_documento),state:{type:"numero_document"}}),D(),e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,x.open({type:"error",description:null===(n=e.t0.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message});case 14:B(!1);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(o.a)(Object(r.a)().mark((function e(){var t;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.zc)();case 2:t=e.sent,N(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)(Object(o.a)(Object(r.a)().mark((function e(){var t,n,o,c,i,u,s;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d.Integrar){e.next=33;break}n=Object(a.a)(F),e.prev=2,n.s();case 4:if((o=n.n()).done){e.next=11;break}if((c=o.value).label!==(null===d||void 0===d?void 0:d.Tipo_Documento)){e.next=9;break}return t=c.value,e.abrupt("break",11);case 9:e.next=4;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),n.e(e.t0);case 16:return e.prev=16,n.f(),e.finish(16);case 19:return i={tipo_documento:t,numero_documento:null===d||void 0===d?void 0:d.Numero_Documento},e.prev=20,e.next=23,Object(l.v)(i);case 23:return e.next=25,x.open({type:"success",description:"Paciente integrado correctamente"});case 25:j(null===d||void 0===d?void 0:d.filtros),e.next=33;break;case 28:return e.prev=28,e.t1=e.catch(20),e.next=32,x.open({type:"error",description:null===(u=e.t1.response)||void 0===u||null===(s=u.data)||void 0===s?void 0:s.message});case 32:m(!1);case 33:case"end":return e.stop()}}),e,null,[[2,13,16,19],[20,28]])}))),[d]),Object(i.useEffect)((function(){G()}),[]),Object(w.jsxs)(w.Fragment,{children:[h,Object(w.jsx)(y.a,{title:"Crear Paciente",open:t,onCancel:D,footer:[Object(w.jsx)(b.a,{onClick:D,children:"Cancelar"},"button-cancel"),Object(w.jsx)(b.a,{loading:E,onClick:function(){return P.submit()},children:"Integrar"},"button-integrar")],children:Object(w.jsx)(u.a,{name:"wrap",layout:"vertical",colon:!1,onFinish:J,form:P,autoComplete:"off",children:Object(w.jsxs)("div",{className:"row align-items-center",children:[Object(w.jsx)("div",{className:"col-12 col-md-6 col-lg-6",children:Object(w.jsx)(u.a.Item,{label:"Tipo de documento",name:"tipo_documento",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(w.jsx)(O.a,{className:"w-100",showSearch:!0,placeholder:"Selecciona tipo de documento",optionFilterProp:"children",filterOption:function(e,t){var n;return(null!==(n=null===t||void 0===t?void 0:t.label)&&void 0!==n?n:"").toLowerCase().includes(e.toLowerCase())},options:F})})}),Object(w.jsx)("div",{className:"col-12 col-md-6 col-lg-6",children:Object(w.jsx)(u.a.Item,{label:"N\xfamero de documento",name:"numero_documento",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(w.jsx)(p.a,{onChange:function(e){var t=e.target;console.log("target",t),$(Object(k.a)(Object(k.a)({},L),{},Object(g.a)({},t.name,t.value)))},name:"numero_documento"})})})]})})})]})},S=n(957),I=n(511),F=n(929);t.default=function(){var e=u.a.useForm(),t=Object(c.a)(e,1)[0],n=s.a.useNotification(),x=Object(c.a)(n,2),g=x[0],k=x[1],y=Object(i.useState)(!1),N=Object(c.a)(y,2),D=N[0],T=N[1],P=Object(i.useState)(!0),A=Object(c.a)(P,2),q=A[0],E=A[1],B=Object(i.useState)(!1),V=Object(c.a)(B,2),z=V[0],L=V[1],$=Object(i.useState)(""),J=Object(c.a)($,2),G=J[0],H=J[1],M=Object(i.useState)(""),Q=Object(c.a)(M,2),W=Q[0],K=Q[1],R=Object(i.useState)(void 0),U=Object(c.a)(R,2),X=U[0],Y=U[1],Z=Object(i.useState)([]),ee=Object(c.a)(Z,2),te=ee[0],ne=ee[1],ae=Object(i.useState)(!1),re=Object(c.a)(ae,2),oe=re[0],ce=re[1],ie=Object(i.useState)(null),le=Object(c.a)(ie,2),ue=le[0],se=le[1],de=Object(i.useState)(!1),be=Object(c.a)(de,2),je=be[0],me=be[1],pe=Object(i.useState)([]),ve=Object(c.a)(pe,2),Oe=ve[0],fe=ve[1],xe=Object(i.useState)({Integrar:!1,Tipo_Documento:null,Numero_Documento:null,filtros:null}),he=Object(c.a)(xe,2),ge=he[0],ke=he[1],ye=Object(C.g)(),Ce=function(){var e=Object(o.a)(Object(r.a)().mark((function e(t){var n,a,o,c,i;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.tipo_doc||0!=(null===t||void 0===t||null===(n=t.nombre)||void 0===n?void 0:n.length)){e.next=3;break}return h.a.fire({icon:"error",title:"Oops...",text:"El campo tipo de documento es requerido"}),e.abrupt("return");case 3:if(t.numero_doc||0!=(null===t||void 0===t||null===(a=t.nombre)||void 0===a?void 0:a.length)){e.next=6;break}return h.a.fire({icon:"error",title:"Oops...",text:"El campo n\xfamero de documento es requerido"}),e.abrupt("return");case 6:if(!((null===t||void 0===t||null===(o=t.nombre)||void 0===o?void 0:o.length)>=3)||X){e.next=22;break}return L(!0),console.log("que saca: ",t),e.next=11,Object(l.Bc)(X,t);case 11:if(0!==(c=e.sent).length){e.next=17;break}return e.next=15,we(t);case 15:e.next=19;break;case 17:L(!1),ne(c);case 19:ke({Integrar:!1,Tipo_Documento:null,Numero_Documento:null,filtros:null}),e.next=36;break;case 22:if(void 0===X||""!==G){e.next=36;break}return L(!0),console.log("que saca: ",t),e.next=27,Object(l.Bc)(X,t);case 27:if(0!==(i=e.sent).length){e.next=33;break}return e.next=31,we(t);case 31:e.next=35;break;case 33:L(!1),ne(i);case 35:ke({Integrar:!1,Tipo_Documento:null,Numero_Documento:null,filtros:null});case 36:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),we=function(){var e=Object(o.a)(Object(r.a)().mark((function e(t){var n,o,c,i;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(null===t||void 0===t?void 0:t.nombre)&&""!==(null===t||void 0===t?void 0:t.nombre)&&null!==(null===t||void 0===t?void 0:t.nombre)){e.next=22;break}o=Object(a.a)(Oe),e.prev=2,o.s();case 4:if((c=o.n()).done){e.next=11;break}if((i=c.value).value!==t.tipo_doc){e.next=9;break}return n=i.label,e.abrupt("break",11);case 9:e.next=4;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),o.e(e.t0);case 16:return e.prev=16,o.f(),e.finish(16);case 19:ke({Integrar:!0,Tipo_Documento:n,Numero_Documento:X,filtros:t}),e.next=26;break;case 22:return e.next=24,h.a.fire({title:"No existen registros",text:"\xbfDesea integrar un paciente?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"No",confirmButtonText:"Si, integrar"});case 24:e.sent.isConfirmed?(ce(!0),L(!1),Object(l.jc)()):(L(!1),Object(l.jc)());case 26:case"end":return e.stop()}}),e,null,[[2,13,16,19]])})));return function(t){return e.apply(this,arguments)}}(),_e=function(e){var n=e.target;if(E(!1),console.log("Valores: ".concat(G,", ").concat(W,", ").concat(X)),void 0!==(null===n||void 0===n?void 0:n.value)&&""!==(null===n||void 0===n?void 0:n.value)){if("numero_doc"===n.name){var a=n.value;Y(a),H("")}if("nombre"===n.name){var r=n.value;Ce({nombre:r}),H(r),Y(""),K("")}if("tipo_doc"===n.name){n.value;K(t.getFieldValue("tipo_doc")),H(""),Y(t.getFieldValue("numero_doc"))}T({name:n.name}),E(!(""!==W&&void 0!==X&&""===G||""===W&&void 0===X&&""!==G))}else Y(""),T(!1),E(!0)},Se=function(){var e=Object(o.a)(Object(r.a)().mark((function e(){var t;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.sc)();case 2:t=e.sent,fe(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){Se()}),[]);var Ie=[{title:"Nombres",dataIndex:"nombres",key:"nombres",render:function(e){return Object(w.jsx)("strong",{children:e})}},{title:"Apellidos",dataIndex:"apellidos",key:"apellidos",render:function(e){return Object(w.jsx)("strong",{children:e})}},{title:"Tipo de documento",dataIndex:"tipo_documento",key:"tipo_documento"},{title:"N\xfamero de documento",dataIndex:"numero_documento",key:"numero_documento",render:function(e){return Object(w.jsx)("strong",{children:e})}},{title:"Celular",key:"celular",dataIndex:"celular"},{title:"Tipo Afiliaci\xf3n",dataIndex:"tipoAfiliacion",key:"tipoAfiliacion"},{title:"Nivel Afiliaci\xf3n",dataIndex:"nivelAfiliacion",key:"nivelAfiliacion"},{title:"Acciones",key:"action",align:"center",children:[{title:"Ver",key:"ver",fixed:"right",width:"5%",render:function(e){var t=function(){var t=Object(o.a)(Object(r.a)().mark((function t(){var n,a,o;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Object(l.Hc)(),L(!0),t.prev=2,t.next=5,Object(l.i)(null===e||void 0===e?void 0:e.numero_documento);case 5:return g.open({type:"success",content:"Actualizado correctamente"}),t.next=8,Object(l.F)(null===e||void 0===e?void 0:e.numero_documento);case 8:n=t.sent,L(!1),Object(l.jc)(),ye.push({pathname:"/detail-patient/".concat(null===e||void 0===e?void 0:e.id),state:{detail:n}}),t.next=20;break;case 14:t.prev=14,t.t0=t.catch(2),g.open({type:"error",content:(null===(a=t.t0.response)||void 0===a||null===(o=a.data)||void 0===o?void 0:o.message)||"error"}),L(!1),Object(l.jc)(),ye.push("/detail-patient/".concat(null===e||void 0===e?void 0:e.id));case 20:case"end":return t.stop()}}),t,null,[[2,14]])})));return function(){return t.apply(this,arguments)}}();return Object(w.jsx)(d.a,{title:"Ver",children:Object(w.jsx)(b.a,{onClick:t,children:Object(w.jsx)(I.a,{})})})}},{title:"Editar",key:"editar",dataIndex:"id",fixed:"right",width:"6%",render:function(e){return Object(w.jsx)(d.a,{title:"Editar",children:Object(w.jsx)(b.a,{onClick:function(){me(!0),se(e)},children:Object(w.jsx)(F.a,{})})})}}]}],Fe=function(e){var t=e.clipboardData.getData("text");setTimeout((function(){null==t&&""==t&&void 0==t||E(!1)}),0)};return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)(j.a,{spinning:z,children:[k,Object(w.jsx)(_,{open:oe,setOpen:ce,numero_doc:X,getDatagrid:Ce,dataIntegrarPaciente:ge,cargando:L}),Object(w.jsx)(S.a,{open:je,setOpen:me,idPaciente:ue}),Object(w.jsx)(m.a,{headStyle:{background:"#184F9D"},style:{boxShadow:"1px 4px 8px 0 rgba(0,0,0,0.2)"},title:Object(w.jsx)("span",{style:{fontWeight:"bold",fontSize:"18px",color:"#FFF"},children:"Buscar Paciente"}),actions:[Object(w.jsx)(b.a,{type:"default",htmlType:"submit",onClick:function(){t.resetFields(),T(!1),Y(null),ne([]),E(!0),K("")},children:"Limpiar Filtros"},"Limpiar"),Object(w.jsx)(b.a,{style:{backgroundColor:"#00ABC8",color:"#FFF"},type:"primary",htmlType:"submit",onClick:function(){return t.submit()},disabled:q,loading:z,children:"Consultar"},"Consultar")],children:Object(w.jsx)(u.a,{name:"wrap",layout:"vertical",colon:!1,onFinish:Ce,form:t,autoComplete:"off",children:Object(w.jsxs)("div",{className:"row align-items-center",children:[Object(w.jsx)("div",{className:"col-12 col-md-6 col-lg-6",children:Object(w.jsx)(u.a.Item,{label:"Nombre completo",name:"nombre",children:Object(w.jsx)(p.a,{onChange:_e,name:"nombre",disabled:"numero_doc"===(null===D||void 0===D?void 0:D.name)||"tipo_doc"===(null===D||void 0===D?void 0:D.name),onPaste:function(e){Fe(e)}})})}),Object(w.jsx)("div",{className:"col-12 col-md-6 col-lg-6",children:Object(w.jsxs)(v.b.Compact,{block:!0,children:[Object(w.jsx)(u.a.Item,{label:"Tipo",name:"tipo_doc",style:{width:"15%"},rules:[{required:!t.getFieldValue("numero_doc"),message:"\xa1Por favor, selecciona el tipo de documento!"}],children:Object(w.jsx)(O.a,{onChange:function(e){_e({target:{name:"tipo_doc",value:e}})},name:"tipo_doc",disabled:"nombre"===(null===D||void 0===D?void 0:D.name),options:Oe,value:W})}),Object(w.jsxs)(u.a.Item,{label:"N\xfamero de documento",name:"numero_doc",style:{width:"85%"},rules:[{required:!t.getFieldValue("tipo_doc"),message:"\xa1Por favor, ingresa el n\xfamero de documento!"}],children:[Object(w.jsx)(p.a,{onChange:function(e){/^[0-9]{0,20}$|^$/.test(e.target.value)&&_e(e)},name:"numero_doc",disabled:"nombre"===(null===D||void 0===D?void 0:D.name),value:X,onPaste:function(e){Fe(e)}}),Object(w.jsx)("input",{hidden:!0,name:"numero_doc",value:X})]})]})})]})})}),te.length>0&&Object(w.jsx)(m.a,{children:Object(w.jsx)(f.a,{columns:Ie,loading:z,dataSource:te,scroll:{x:1300}})})]})})}}}]);
//# sourceMappingURL=11.de68d893.chunk.js.map
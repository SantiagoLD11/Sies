(this["webpackJsonpwieldy-hook"]=this["webpackJsonpwieldy-hook"]||[]).push([[7],{945:function(e,t,n){},950:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var a=n(6),c=n(11),i=n(5),o=n(0),l=n(980),s=n(508),r=n(510),d=n(926),u=n(80),j=n(934),b=n(19),x=n(68),O=n.n(x),v=n(507),A=n(145),m=n(160),f=n(1),p=v.a.TextArea,h=function(e){var t=e.isModalCancel,n=e.setIsModalCancel,l=e.dataRow,r=e.getInfo,j=e.isCancel,x=(e.setListInfoPlans,e.setDataTable,e.detailPlan),O=e.idPmPlan,v=A.a.useForm(),h=Object(i.a)(v,1)[0],g=Object(o.useState)(!1),y=Object(i.a)(g,2),C=y[0],E=y[1],k=Object(o.useState)(null),w=Object(i.a)(k,2),S=w[0],_=w[1],P=s.b.useMessage(),I=Object(i.a)(P,2),D=I[0],N=I[1];Object(o.useEffect)(Object(c.a)(Object(a.a)().mark((function e(){var t;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.xb)();case 2:t=e.sent,_(t);case 4:case"end":return e.stop()}}),e)}))),[]);var F=function(){n(!1),h.resetFields()},M=function(){var e=Object(c.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.validateFields();case 3:if(!e.sent){e.next=7;break}return e.abrupt("return",!0);case 7:return e.abrupt("return",!1);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(0),console.log("Form validation failed: ".concat(e.t0)),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(c.a)(Object(a.a)().mark((function e(){var t,c;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!M()){e.next=30;break}return t=h.getFieldsValue(),c={idCita:null===l||void 0===l?void 0:l.id,Motivo:null===t||void 0===t?void 0:t.motivo,TexA:null===t||void 0===t?void 0:t.observacion},E(!0),e.next=7,Object(b.q)(c);case 7:if("ok"!=e.sent.status){e.next=13;break}return e.next=11,D.open({type:"success",content:j?"Cita cancelada exitosamente":"Cita reagendada exitosamente"});case 11:e.next=15;break;case 13:return e.next=15,D.open({type:"error",content:"error"});case 15:if(!j){e.next=20;break}return e.next=18,Object(b.Ic)(c.idCita);case 18:e.next=22;break;case 20:return e.next=22,Object(b.Lc)(c.idCita);case 22:if(!O){e.next=27;break}return console.log(O),e.next=26,Object(b.M)(x);case 26:e.sent;case 27:E(!1),n(!1),r();case 30:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)(d.a,{title:j?"Cancelar Cita":"Reagendar Cita",open:t,onCancel:F,footer:[Object(f.jsx)(u.a,{onClick:F,children:"Cancelar"},"button-cancel"),Object(f.jsx)(u.a,{loading:C,onClick:h.submit,children:"Confirmar"},"button-integrar")],children:[N,Object(f.jsxs)(A.a,{colon:!1,onFinish:B,form:h,autoComplete:"off",layout:"vertical",children:[Object(f.jsx)(A.a.Item,{label:"Motivo cancelaci\xf3n",name:"motivo",rules:[{required:!0,message:"Campo obligatorio"}],style:{marginBottom:"20px"},children:Object(f.jsx)(m.a,{className:"w-100",placeholder:"Selecciona un motivo cancelaci\xf3n",options:S})}),Object(f.jsx)(A.a.Item,{label:"Observaci\xf3n",name:"observacion",rules:[{required:!0,message:"Campo obligatorio"}],style:{marginBottom:"20px"},children:Object(f.jsx)(p,{className:"w-100",rows:4})})]})]})},g=n(306),y=l.a.Text,C=function(e){var t=e.open,n=e.setOpen,l=e.dataRow,x=e.idPaciente,v=e.setDataTablePm,A=e.setListInfoPlans,m=e.detailPlan,p=e.idPm,C=e.setOpenPopover,E=e.viewButton,k=Object(o.useState)([]),w=Object(i.a)(k,2),S=w[0],_=w[1],P=Object(o.useState)({}),I=Object(i.a)(P,2),D=I[0],N=I[1],F=s.b.useMessage(),M=Object(i.a)(F,2),B=M[0],Y=M[1],q=Object(o.useState)(!1),R=Object(i.a)(q,2),T=R[0],z=R[1],Q=Object(o.useState)(!1),H=Object(i.a)(Q,2),J=H[0],L=H[1];Object(o.useEffect)((function(){x&&!0===t&&W()}),[t]);var W=function(){var e=Object(c.a)(Object(a.a)().mark((function e(){var t,n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.T)(l.id);case 2:return t=e.sent,N(t),console.log(l),console.log("Llego: ",t),e.next=8,Object(b.Vb)(x,l.id);case 8:n=e.sent,console.log("Datatable: ",n),_(n);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){return n(!1)},G=[{title:"Fecha Cita",dataIndex:"Fecha_Cita",key:"Fecha_Cita",render:function(e){return Object(f.jsx)("strong",{children:O()(e).format("DD/MM/YYYY")})}},{title:"Mes Remision",dataIndex:"MesRemision",key:"MesRemision"},{title:"Estado",dataIndex:"Estado_txt",render:function(e){var t;return Object(f.jsx)(r.a,{style:{width:"100%"},color:null===(t=g.f[e])||void 0===t?void 0:t.color,children:e})}},{title:"Especialidad",dataIndex:"Especialidad_txt",key:"Especialidad_txt"},{title:"Canal Remision",dataIndex:"CanalRemision",key:"CanalRemision"},{title:"Resultado",dataIndex:"Resultado",key:"Resultado"}];return Object(f.jsxs)(f.Fragment,{children:[Y,Object(f.jsxs)(d.a,{width:null!=S?"70%":"52%",title:"Cita: ".concat(null===l||void 0===l?void 0:l.name),open:t,onCancel:K,footer:[Object(f.jsx)(f.Fragment,{children:E?Object(f.jsx)(u.a,{onClick:function(){C(!0),K()},children:"Atras"},"button-cancel"):null}),Object(f.jsx)(u.a,{onClick:K,children:"Cerrar"},"button-cancel")],children:[Object(f.jsxs)("div",{className:"row",children:[Object(f.jsxs)("div",{className:"col-12 col-md-12 row",children:[Object(f.jsx)("h4",{style:{fontWeight:"bold",textAlign:"left",width:"40%"},children:"INFORMACI\xd3N CITA"}),Object(f.jsxs)("div",{style:{display:"flex",flexDirection:"row",width:"40%"},children:[Object(f.jsx)("label",{style:{fontWeight:"bold",textAlign:"left",width:"72px",fontSize:"18px"},children:"Estado:"}),Object(f.jsx)("div",{style:{display:"flex",width:"220px",fontSize:"18px"},children:Object(f.jsx)(y,{children:null===D||void 0===D?void 0:D.Estado_Txt})})]})]}),Object(f.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"75%"},children:[Object(f.jsx)("div",{className:"col-12 col-md-6",children:Object(f.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(f.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Ciudad:"}),Object(f.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(f.jsx)(y,{children:null===D||void 0===D?void 0:D.Ciudad_Txt})})]})}),Object(f.jsx)("div",{className:"col-12 col-md-6",children:Object(f.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(f.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Sede Sies"}),Object(f.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(f.jsx)(y,{children:null===D||void 0===D?void 0:D.Sedetxt})})]})}),Object(f.jsx)("div",{className:"col-12 col-md-6",children:Object(f.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(f.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Tipo Cita:"}),Object(f.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(f.jsx)(y,{children:null===D||void 0===D?void 0:D.Codigo_Tipo})})]})}),Object(f.jsx)("div",{className:"col-12 col-md-6",children:Object(f.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(f.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Plan Mensual:"}),Object(f.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(f.jsx)(y,{children:null===D||void 0===D?void 0:D.Plan_Mensual_txt})})]})}),Object(f.jsx)("div",{className:"col-12 col-md-6",children:Object(f.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(f.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Especialidad:"}),Object(f.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(f.jsx)(y,{children:null===D||void 0===D?void 0:D.Especialidad_txt})})]})}),Object(f.jsx)("div",{className:"col-12 col-md-6",children:Object(f.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(f.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Profesional:"}),Object(f.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(f.jsx)(y,{children:null===D||void 0===D?void 0:D.Profesional_txt})})]})}),Object(f.jsx)("div",{className:"col-12 col-md-6",children:Object(f.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(f.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Tipo Examen:"}),Object(f.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(f.jsx)(y,{children:null===D||void 0===D?void 0:D.nameExam})})]})})]}),Object(f.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"25%"},children:[Object(f.jsx)(u.a,{style:{backgroundColor:"#00ABC8",width:"130px",color:"#FFF"},onClick:Object(c.a)(Object(a.a)().mark((function e(){var t;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Sirve Agendar",l),e.next=3,Object(b.Gc)(l.id);case 3:if("fail"!==(null===(t=e.sent)||void 0===t?void 0:t.status)){e.next=9;break}return e.next=7,B.open({type:"error",content:(null===t||void 0===t?void 0:t.message)||"error"});case 7:e.next=12;break;case 9:if("ok"!==(null===t||void 0===t?void 0:t.status)){e.next=12;break}return e.next=12,B.open({type:"success",content:"Agendada exitosamente"});case 12:case"end":return e.stop()}}),e)}))),disabled:"Cancelado"==(null===l||void 0===l?void 0:l.Estado_Txt)||"Asistida"==(null===l||void 0===l?void 0:l.Estado_Txt)||"Finalizada"==(null===l||void 0===l?void 0:l.Estado_Txt)||"Solicitada"==(null===l||void 0===l?void 0:l.Estado_Txt)||"No Asistida"==(null===l||void 0===l?void 0:l.Estado_Txt),children:"Agendar"}),Object(f.jsx)(u.a,{style:{width:"130px"},onClick:Object(c.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:z(!0),L(!0);case 2:case"end":return e.stop()}}),e)}))),disabled:"Cancelado"==(null===l||void 0===l?void 0:l.Estado_Txt)||"Asistida"==(null===l||void 0===l?void 0:l.Estado_Txt)||"Finalizada"==(null===l||void 0===l?void 0:l.Estado_Txt)||"No Asistida"==(null===l||void 0===l?void 0:l.Estado_Txt),children:"Cancelar"}),Object(f.jsx)(h,{isModalCancel:T,setIsModalCancel:z,dataRow:l,getInfo:W,isCancel:J,setListInfoPlans:A,setDataTable:v,detailPlan:m,idPmPlan:p}),Object(f.jsx)(u.a,{style:{width:"130px"},onClick:Object(c.a)(Object(a.a)().mark((function e(){var t;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.z)(l.id);case 2:if(t=e.sent,console.log("eliminado: ",t),"fail"!==(null===t||void 0===t?void 0:t.status)){e.next=9;break}return e.next=7,B.open({type:"error",content:(null===t||void 0===t?void 0:t.message)||"error"});case 7:e.next=12;break;case 9:if("ok"!==(null===t||void 0===t?void 0:t.status)){e.next=12;break}return e.next=12,B.open({type:"success",content:"Eliminada correctamente"});case 12:n(!1);case 13:case"end":return e.stop()}}),e)}))),disabled:"Cancelado"==(null===l||void 0===l?void 0:l.Estado_Txt)||"Asistida"==(null===l||void 0===l?void 0:l.Estado_Txt)||"Finalizada"==(null===l||void 0===l?void 0:l.Estado_Txt)||"Solicitada"==(null===l||void 0===l?void 0:l.Estado_Txt)||"No Asistida"==(null===l||void 0===l?void 0:l.Estado_Txt),children:"Eliminar"}),"No Asistida"==(null===D||void 0===D?void 0:D.Estado_Txt)?Object(f.jsx)(u.a,{style:{width:"130px"},onClick:Object(c.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:z(!0),L(!1);case 2:case"end":return e.stop()}}),e)}))),children:"Reagendar"}):null]})]}),"Cancelado"==(null===D||void 0===D?void 0:D.Estado_Txt)||"Reprogramada"==(null===D||void 0===D?void 0:D.Estado_Txt)?Object(f.jsx)("div",{className:"row",children:Object(f.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(f.jsx)("div",{className:"col-12 col-md-12",children:Object(f.jsx)("h4",{style:{fontWeight:"bold",textAlign:"left"},children:"CANCELACI\xd3N CITA"})}),Object(f.jsx)("div",{className:"col-12 col-md-12",children:Object(f.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(f.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Motivo Cancelaci\xf3n:"}),Object(f.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(f.jsx)(y,{children:null===D||void 0===D?void 0:D.Motivo_Cancelacin_txt})})]})}),Object(f.jsx)("div",{className:"col-12 col-md-12",children:Object(f.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(f.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Observaci\xf3n Cancelaci\xf3n:"}),Object(f.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(f.jsx)(y,{children:null===D||void 0===D?void 0:D.Observacin_Cancelacin})})]})})]})}):null,null!=S?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:Object(f.jsx)("div",{className:"col-12 col-md-12",children:Object(f.jsx)("h4",{style:{fontWeight:"bold",textAlign:"left",marginTop:"10px"},children:"REMISIONES"})})})}),Object(f.jsx)(j.a,{style:{marginTop:"20px"},columns:G,loading:!1,dataSource:S})]}):null]})]})}},956:function(e,t,n){},957:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var a=n(6),c=n(11),i=n(5),o=n(145),l=n(508),s=n(926),r=n(80),d=n(507),u=n(160),j=n(0),b=n(19),x=n(1),O=function(e){var t=e.setIsActualizar,n=e.open,O=e.setOpen,v=e.idPaciente,A=Object(j.useState)(""),m=Object(i.a)(A,2),f=(m[0],m[1],Object(j.useState)("")),p=Object(i.a)(f,2),h=(p[0],p[1],Object(j.useState)(!1)),g=Object(i.a)(h,2),y=g[0],C=g[1],E=o.a.useForm(),k=Object(i.a)(E,1)[0],w=l.b.useMessage(),S=Object(i.a)(w,2),_=S[0],P=S[1],I=Object(j.useState)([]),D=Object(i.a)(I,2),N=D[0],F=D[1],M=Object(j.useState)({Direccion:"",Celular:"",Tel:"",Ciudad:"",idCiudad:"",Email:""}),B=Object(i.a)(M,2),Y=B[0],q=B[1],R=function(){return O(!1)};Object(j.useEffect)((function(){v&&n&&T()}),[n]);var T=function(){var e=Object(c.a)(Object(a.a)().mark((function e(){var t,n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.oc)();case 2:return t=e.sent,F(t),e.next=6,Object(b.Q)(v);case 6:n=e.sent,q(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(c.a)(Object(a.a)().mark((function e(n){var c,i;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n),C(!0),e.prev=2,e.next=5,Object(b.Sc)(v,n);case 5:return e.next=7,_.open({type:"success",content:"Se ha actualizado el paciente correctamente."});case 7:R(),e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(2),e.next=14,_.open({type:"error",content:null===(c=e.t0.response)||void 0===c||null===(i=c.data)||void 0===i?void 0:i.message});case 14:C(!1),t(!0),O(!1);case 17:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)(x.Fragment,{children:[P,Object(x.jsx)(s.a,{title:"Editar Paciente",open:n,onCancel:R,onOk:z,footer:[Object(x.jsx)(r.a,{onClick:R,children:"Cancelar"},"button-cancel"),Object(x.jsx)(r.a,{htmlType:"submit",form:"basic",loading:y,style:{backgroundColor:"#00ABC8",color:"#FFF"},children:"Guardar"},"button-actualizar")],children:Object(x.jsx)(o.a,{form:k,id:"basic",name:"basic",onFinish:z,autoComplete:"off",layout:"vertical",fields:[{name:["direccion"],value:(null===Y||void 0===Y?void 0:Y.Direccion)||""},{name:["celular"],value:(null===Y||void 0===Y?void 0:Y.Celular)||""},{name:["tel"],value:(null===Y||void 0===Y?void 0:Y.Tel)||""},{name:["ciudad"],value:(null===Y||void 0===Y?void 0:Y.idCiudad)||""},{name:["email"],value:(null===Y||void 0===Y?void 0:Y.Email)||""}],children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-12 col-md-6",children:Object(x.jsx)(o.a.Item,{label:"Direcci\xf3n",name:"direccion",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(x.jsx)(d.a,{})})}),Object(x.jsx)("div",{className:"col-12 col-md-6",children:Object(x.jsx)(o.a.Item,{label:"Celular",name:"celular",rules:[{required:!0,message:"Por favor, ingresa solo n\xfameros",pattern:/^[0-9]*$/}],children:Object(x.jsx)(d.a,{type:"text"})})}),Object(x.jsx)("div",{className:"col-12 col-md-6",children:Object(x.jsx)(o.a.Item,{label:"Tel\xe9fono",name:"tel",rules:[{required:!0,message:"Por favor, ingresa solo n\xfameros",pattern:/^[0-9]*$/}],children:Object(x.jsx)(d.a,{type:"text"})})}),Object(x.jsx)("div",{className:"col-12 col-md-6",children:Object(x.jsx)(o.a.Item,{label:"Ciudad",name:"ciudad",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(x.jsx)(u.a,{showSearch:!0,name:"ciudad",optionFilterProp:"children",filterOption:function(e,t){var n;return(null!==(n=null===t||void 0===t?void 0:t.label)&&void 0!==n?n:"").toLowerCase().includes(e.toLowerCase())},options:N})})}),Object(x.jsx)("div",{className:"col-12 col-md-6",children:Object(x.jsx)(o.a.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Por favor, ingresa un correo electr\xf3nico v\xe1lido",type:"email"}],children:Object(x.jsx)(d.a,{type:"email"})})})]})})})]})}},979:function(e,t,n){"use strict";n.r(t);var a=n(943),c=n(6),i=n(11),o=n(5),l=n(352),s=n(936),r=n(503),d=n(0),u=n(63),j=(n(514),n(80)),b=n(932),x=n(972),O=n(933),v=n(991),A=n(992),m=n(993),f=n(303),p=n(994),h=n(995),g=n(996),y=n(997),C=n(68),E=n.n(C),k=n(19),w=(n(945),n(508)),S=n(926),_=n(145),P=n(507),I=n(160),D=n(1),N=function(e){var t=e.open,n=e.setOpen,l=e.idPaciente,s=e.getData,r=Object(d.useState)(!1),u=Object(o.a)(r,2),b=u[0],x=u[1],O=w.b.useMessage(),v=Object(o.a)(O,2),A=v[0],m=v[1],f=Object(d.useState)([]),p=Object(o.a)(f,2),h=p[0],g=p[1],y=Object(d.useState)([]),C=Object(o.a)(y,2),E=C[0],N=C[1],F=Object(d.useState)([]),M=Object(o.a)(F,2),B=M[0],Y=M[1],q=Object(d.useState)([]),R=Object(o.a)(q,2),T=R[0],z=R[1],Q=Object(d.useState)([]),H=Object(o.a)(Q,2),J=H[0],L=H[1],W={dispositivo:null,canal:null,conexion:null,profesionales:null,horarios:null},K=Object(d.useState)({personaAuth:null,dispositivo:null,llamar:null,canal:null,HorarioSugeridoContacto:null,conexion:null,profesionales:void 0,horarios:void 0}),G=Object(o.a)(K,2),V=G[0],X=G[1];Object(d.useEffect)((function(){l&&!0===t&&U()}),[t]);var U=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var t,n,a,i,o,s;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.S)(l);case 2:return t=e.sent,console.log(t),X(t),e.next=7,Object(k.rc)();case 7:return n=e.sent,g(n),e.next=11,Object(k.nc)();case 11:return a=e.sent,N(a),e.next=15,Object(k.wc)();case 15:return i=e.sent,Y(i),e.next=19,Object(k.vc)();case 19:return o=e.sent,z(o),e.next=23,Object(k.pc)();case 23:s=e.sent,L(s);case 25:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(i.a)(Object(c.a)().mark((function e(t){var n,i,o,l,s,r,d,u,j,b;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Object(a.a)(h),e.prev=1,i.s();case 3:if((o=i.n()).done){e.next=10;break}if((l=o.value).value!==t.dispositivo){e.next=8;break}return W.dispositivo=l.code,e.abrupt("break",10);case 8:e.next=3;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),i.e(e.t0);case 15:return e.prev=15,i.f(),e.finish(15);case 18:s=Object(a.a)(E),e.prev=19,s.s();case 21:if((r=s.n()).done){e.next=28;break}if((d=r.value).value!==t.canal){e.next=26;break}return W.canal=d.code,e.abrupt("break",28);case 26:e.next=21;break;case 28:e.next=33;break;case 30:e.prev=30,e.t1=e.catch(19),s.e(e.t1);case 33:return e.prev=33,s.f(),e.finish(33);case 36:u=Object(a.a)(J),e.prev=37,u.s();case 39:if((j=u.n()).done){e.next=46;break}if((b=j.value).value!==t.conexion){e.next=44;break}return W.conexion=b.code,e.abrupt("break",46);case 44:e.next=39;break;case 46:e.next=51;break;case 48:e.prev=48,e.t2=e.catch(37),u.e(e.t2);case 51:return e.prev=51,u.f(),e.finish(51);case 54:W.profesionales=null===(n=t.profesionales)||void 0===n?void 0:n.join("|");case 55:case"end":return e.stop()}}),e,null,[[1,12,15,18],[19,30,33,36],[37,48,51,54]])})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(i.a)(Object(c.a)().mark((function e(t){var a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z(t);case 2:return console.log(W),x(!0),e.next=6,Object(k.Pc)(l,t,W);case 6:return e.next=8,Object(k.Uc)(l,t,W);case 8:if(a=e.sent,console.log("actualizar preferencias: ",a),"fail"!==(null===a||void 0===a?void 0:a.status)){e.next=14;break}return console.log("Actualizar: ",a),e.next=14,A.open({type:"error",content:(null===a||void 0===a?void 0:a.message)||"error"});case 14:if("ok"!==(null===a||void 0===a?void 0:a.status)){e.next=17;break}return e.next=17,A.open({type:"success",content:"Se ha editado correctamente las preferencias del paciente"});case 17:s(l),x(!1),n(!1);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){return n(!1)},te=function(e){console.log("selected ".concat(e))};return Object(D.jsxs)(D.Fragment,{children:[m,Object(D.jsx)(S.a,{title:"Edici\xf3n preferencias",width:"720px",open:t,onCancel:ee,footer:[Object(D.jsx)(j.a,{onClick:ee,children:"Cerrar"},"button-cancel"),Object(D.jsx)(j.a,{htmlType:"submit",form:"basic2",loading:b,style:{backgroundColor:"#00ABC8",color:"#FFF"},children:"Guardar"},"button-actualizar")],children:Object(D.jsx)(_.a,{id:"basic2",name:"basic2",onFinish:$,autoComplete:"off",layout:"vertical",fields:[{name:["personaAuth"],value:(null===V||void 0===V?void 0:V.personaAuth)||""},{name:["dispositivo"],value:(null===V||void 0===V?void 0:V.dispositivo)||""},{name:["llamar"],value:(null===V||void 0===V?void 0:V.llamar)||""},{name:["canal"],value:(null===V||void 0===V?void 0:V.canal)||""},{name:["horario_contacto"],value:(null===V||void 0===V?void 0:V.HorarioSugeridoContacto)||""},{name:["conexion"],value:(null===V||void 0===V?void 0:V.conexion)||""},{name:["profesionales"],value:(null===V||void 0===V?void 0:V.profesionales)||void 0},{name:["horarios"],value:(null===V||void 0===V?void 0:V.horarios)||null}],children:Object(D.jsxs)("div",{className:"row",children:[Object(D.jsx)("div",{className:"col-12 col-md-6",children:Object(D.jsx)(_.a.Item,{label:"Persona autorizada contacto",name:"personaAuth",children:Object(D.jsx)(P.a,{})})}),Object(D.jsx)("div",{className:"col-12 col-md-6",children:Object(D.jsx)(_.a.Item,{label:"Dispositivo para Telemedicina",name:"dispositivo",children:Object(D.jsx)(I.a,{onChange:te,options:h})})}),Object(D.jsx)("div",{className:"col-12 col-md-6",children:Object(D.jsx)(_.a.Item,{label:"Llamar como",name:"llamar",children:Object(D.jsx)(P.a,{})})}),Object(D.jsx)("div",{className:"col-12 col-md-6",children:Object(D.jsx)(_.a.Item,{label:"Canal env\xedo confirmaci\xf3n",name:"canal",children:Object(D.jsx)(I.a,{onChange:te,name:"ciudad",options:E})})}),Object(D.jsx)("div",{className:"col-12 col-md-6",children:Object(D.jsx)(_.a.Item,{label:"Horario contacto",name:"horario_contacto",children:Object(D.jsx)(P.a,{})})}),Object(D.jsx)("div",{className:"col-12 col-md-6",children:Object(D.jsx)(_.a.Item,{label:"Conexi\xf3n a internet",name:"conexion",children:Object(D.jsx)(I.a,{options:J,onChange:te})})}),Object(D.jsx)("div",{className:"col-12 col-md-6",children:Object(D.jsx)(_.a.Item,{label:"Profesionales no deseados",name:"profesionales",children:Object(D.jsx)(I.a,{showSearch:!0,onChange:te,options:B,placeholder:"Seleccione profesionales",mode:"multiple",filterOption:function(e,t){var n;return(null!==(n=null===t||void 0===t?void 0:t.label)&&void 0!==n?n:"").toLowerCase().includes(e.toLowerCase())}})})}),Object(D.jsx)("div",{className:"col-12 col-md-6",children:Object(D.jsx)(_.a.Item,{label:"Horarios agendamiento",name:"horarios",children:Object(D.jsx)(I.a,{options:T,onChange:te})})})]})})})]})},F=function(e){var t=e.id,n=e.activeKey,a=Object(d.useState)([]),l=Object(o.a)(a,2),s=l[0],r=l[1],u=Object(d.useState)(!1),x=Object(o.a)(u,2),C=(x[0],x[1]),w=Object(d.useState)(null),S=Object(o.a)(w,2),_=S[0],P=S[1],I=Object(d.useState)(!1),F=Object(o.a)(I,2),M=F[0],B=F[1],Y=Object(d.useState)(null),q=Object(o.a)(Y,2),R=q[0],T=q[1],z=Object(d.useState)(null),Q=Object(o.a)(z,2),H=Q[0],J=Q[1],L=function(){var e=Object(i.a)(Object(c.a)().mark((function e(t){var n,a,i;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.next=3,Object(k.Rb)(t);case 3:i=e.sent,r(i),T(null===(n=i.FranjasHorarias)||void 0===n?void 0:n.split(",")),J(null===(a=i.ProfesionalesNoDeseados)||void 0===a?void 0:a.split(",")),console.log("data preferencias",i),C(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.useEffect)((function(){t&&"1"===n&&L(t)}),[t,n]),Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("div",{style:{float:"right"},children:Object(D.jsx)(j.a,{type:"primary",onClick:function(){P(t),B(!0)},children:"Editar"})}),Object(D.jsx)(N,{open:M,setOpen:B,idPaciente:_,getData:L}),Object(D.jsxs)(b.a,{gutter:[16,16],children:[Object(D.jsx)(O.a,{span:6,children:Object(D.jsxs)("div",{className:"d-flex align-items-center ",children:[Object(D.jsx)(v.a,{style:{fontSize:"40px",margin:"10px"}}),Object(D.jsxs)("div",{children:[Object(D.jsx)("div",{style:{color:"#8c8c8c",fontWeight:"bold"},children:"Persona Autorizada Contacto:"}),(null===s||void 0===s?void 0:s.PersonaAutorizadaContacto)||"Sin informaci\xf3n"]})]})}),Object(D.jsx)(O.a,{span:6,children:Object(D.jsxs)("div",{className:"d-flex align-items-center ",children:[Object(D.jsx)(A.a,{style:{fontSize:"40px",margin:"10px"}}),Object(D.jsxs)("div",{children:[Object(D.jsx)("div",{style:{color:"#8c8c8c",fontWeight:"bold"},children:"Ultima Actualizaci\xf3n:"}),E()(null===s||void 0===s?void 0:s.UltimaActualizacion,"ddd MMM DD YYYY").format("YYYY-MM-DD HH:mm")||"Sin informaci\xf3n"]})]})}),Object(D.jsx)(O.a,{span:6,children:Object(D.jsxs)("div",{className:"d-flex align-items-center ",children:[Object(D.jsx)(m.a,{style:{fontSize:"40px",margin:"10px"}}),Object(D.jsxs)("div",{children:[Object(D.jsx)("div",{style:{color:"#8c8c8c",fontWeight:"bold"},children:"Llamar Como:"}),(null===s||void 0===s?void 0:s.LlamarComo)||"Sin informaci\xf3n"]})]})}),Object(D.jsx)(O.a,{span:6,children:Object(D.jsxs)("div",{className:"d-flex align-items-center ",children:[Object(D.jsx)(f.a,{style:{fontSize:"40px",margin:"10px"}}),Object(D.jsxs)("div",{children:[Object(D.jsx)("div",{style:{color:"#8c8c8c",fontWeight:"bold"},children:"Horarios Agendamiento:"}),Object(D.jsx)("ul",{children:null===R||void 0===R?void 0:R.map((function(e){return Object(D.jsx)("li",{children:e||"Sin informaci\xf3n"},e)}))})]})]})}),Object(D.jsx)(O.a,{span:6,children:Object(D.jsxs)("div",{className:"d-flex align-items-center ",children:[Object(D.jsx)(p.a,{style:{fontSize:"40px",margin:"10px"}}),Object(D.jsxs)("div",{children:[Object(D.jsx)("div",{style:{color:"#8c8c8c",fontWeight:"bold"},children:"Dispositivo para telemedicina:"}),(null===s||void 0===s?void 0:s.DispositivoTelemedicina)||"Sin informaci\xf3n"]})]})}),Object(D.jsx)(O.a,{span:6,children:Object(D.jsxs)("div",{className:"d-flex align-items-center ",children:[Object(D.jsx)(h.a,{style:{fontSize:"40px",margin:"10px"}}),Object(D.jsxs)("div",{children:[Object(D.jsx)("div",{style:{color:"#8c8c8c",fontWeight:"bold"},children:"Conexi\xf3n a internet:"}),(null===s||void 0===s?void 0:s.ConexionInternet)||"Sin informaci\xf3n"]})]})}),Object(D.jsx)(O.a,{span:6,children:Object(D.jsxs)("div",{className:"d-flex align-items-center ",children:[Object(D.jsx)(g.a,{style:{fontSize:"40px",margin:"10px"}}),Object(D.jsxs)("div",{children:[Object(D.jsx)("div",{style:{color:"#8c8c8c",fontWeight:"bold"},children:"Canal Envio confirmaci\xf3n:"}),(null===s||void 0===s?void 0:s.CanalEnviConfirmacion)||"Sin informaci\xf3n"]})]})}),Object(D.jsx)(O.a,{span:6,children:Object(D.jsxs)("div",{className:"d-flex align-items-center ",children:[Object(D.jsx)(y.a,{style:{fontSize:"40px",margin:"10px"}}),Object(D.jsxs)("div",{children:[Object(D.jsx)("div",{style:{color:"#8c8c8c",fontWeight:"bold"},children:"Profesionales no Deseados:"}),Object(D.jsx)("ul",{children:null===H||void 0===H?void 0:H.map((function(e){return Object(D.jsx)("li",{children:e||"Sin informaci\xf3n"},e)}))})]})]})}),Object(D.jsx)(O.a,{span:6,children:Object(D.jsxs)("div",{className:"d-flex align-items-center ",children:[Object(D.jsx)(f.a,{style:{fontSize:"40px",margin:"10px"}}),Object(D.jsxs)("div",{children:[Object(D.jsx)("div",{style:{color:"#8c8c8c",fontWeight:"bold"},children:"Horario Contacto:"}),(null===s||void 0===s?void 0:s.HorarioSugeridoContacto)||"Sin informaci\xf3n"]})]})})]})]})},M=n.p+"static/media/nivel.557b1f12.png",B=n.p+"static/media/comportamiento-del-cliente.694d8b76.png",Y=n.p+"static/media/estatus-social.e9db055a.png",q=n.p+"static/media/informe-medico.013fea0c.png",R=function(e){var t=e.id,n=e.activeKey,a=Object(d.useState)([]),l=Object(o.a)(a,2),s=l[0],r=l[1],u=function(){var e=Object(i.a)(Object(c.a)().mark((function e(t){var n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.C)(t);case 2:n=e.sent,r(n),console.log("data preferencias",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.useEffect)((function(){t&&"1"===n&&u(t)}),[t,n]),Object(D.jsx)(D.Fragment,{children:Object(D.jsxs)(b.a,{gutter:[16,16],children:[Object(D.jsx)(O.a,{span:8,children:Object(D.jsxs)("div",{className:"d-flex align-items-center ",children:[Object(D.jsx)("img",{src:M,className:"icons",alt:"Descripci\xf3n del icono"}),Object(D.jsxs)("div",{children:[Object(D.jsx)("div",{style:{color:"#8c8c8c",fontWeight:"bold"},children:"Nivel afiliaci\xf3n:"}),(null===s||void 0===s?void 0:s.NivelAfiliacion)||"Sin informaci\xf3n"]})]})}),Object(D.jsx)(O.a,{span:8,children:Object(D.jsxs)("div",{className:"d-flex align-items-center ",children:[Object(D.jsx)("img",{src:B,className:"icons",alt:"Descripci\xf3n del icono"}),Object(D.jsxs)("div",{children:[Object(D.jsx)("div",{style:{color:"#8c8c8c",fontWeight:"bold"},children:"Tipo afiliaci\xf3n:"}),(null===s||void 0===s?void 0:s.TipoAfiliacion)||"Sin informaci\xf3n"]})]})}),Object(D.jsx)(O.a,{span:8,children:Object(D.jsxs)("div",{className:"d-flex align-items-center ",children:[Object(D.jsx)("img",{src:Y,className:"icons",alt:"Descripci\xf3n del icono"}),Object(D.jsxs)("div",{children:[Object(D.jsx)("div",{style:{color:"#8c8c8c",fontWeight:"bold"},children:"Regimen afiliaci\xf3n:"}),(null===s||void 0===s?void 0:s.RegimenAfiliacion)||"Sin informaci\xf3n"]})]})}),Object(D.jsx)(O.a,{span:8,children:Object(D.jsxs)("div",{className:"d-flex align-items-center ",children:[Object(D.jsx)("img",{src:q,className:"icons",alt:"Descripci\xf3n del icono"}),Object(D.jsxs)("div",{children:[Object(D.jsx)("div",{style:{color:"#8c8c8c",fontWeight:"bold"},children:"Tipo Ingreso:"}),(null===s||void 0===s?void 0:s.tipoIngreso)||"Sin informaci\xf3n"]})]})})]})})},T=n(957),z=n(998),Q=n(999),H=n(1e3),J=n(1001),L=n(304),W=function(e){var t=e.idPaciente,n=e.type,a=e.id,l=e.activeKey,s=Object(d.useState)(null),r=Object(o.a)(s,2),u=r[0],A=r[1],m=Object(d.useState)(!1),f=Object(o.a)(m,2),p=f[0],h=f[1],g=Object(d.useState)(!1),y=Object(o.a)(g,2),C=y[0],w=y[1],S=function(){var e=Object(i.a)(Object(c.a)().mark((function e(t){var a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.fc)(t,n);case 2:a=e.sent,console.log("Trae info actualizada: ",a),A(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.useEffect)(Object(i.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Entro a actualizar"),a&&"1"===l&&S(a);case 2:case"end":return e.stop()}}),e)}))),[a,C,l]),Object(d.useEffect)(Object(i.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Entro a actualizar por editar"),C&&(S(a),w(!1));case 2:case"end":return e.stop()}}),e)}))),[C]),Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("div",{style:{float:"right"},children:Object(D.jsx)(j.a,{type:"primary",onClick:function(){return h(!0)},style:{zIndex:"1",float:"right",marginBottom:"2px",marginTop:"60px",flex:"right"},children:"Editar"})}),Object(D.jsx)(T.a,{setIsActualizar:w,open:p,setOpen:h,idPaciente:t}),Object(D.jsxs)(b.a,{gutter:[16,16],children:[Object(D.jsx)(x.a,{plain:!0,style:{fontWeight:"bold",marginTop:"20px",marginBottom:"10px",zIndex:"2"},children:"Informacion Basica"}),Object(D.jsx)(O.a,{span:6,children:Object(D.jsxs)("div",{className:"d-flex align-items-center ",children:[Object(D.jsx)(z.a,{style:{fontSize:"40px",margin:"10px"}}),Object(D.jsxs)("div",{children:[Object(D.jsx)("div",{style:{color:"#8c8c8c",fontWeight:"bold"},children:"Celular:"}),(null===u||void 0===u?void 0:u.celular)||"Sin informaci\xf3n"]})]})}),Object(D.jsx)(O.a,{span:6,children:Object(D.jsxs)("div",{className:"d-flex align-items-center ",children:[Object(D.jsx)(Q.a,{style:{fontSize:"40px",margin:"10px"}}),Object(D.jsxs)("div",{children:[Object(D.jsx)("div",{style:{color:"#8c8c8c",fontWeight:"bold"},children:"Email:"}),(null===u||void 0===u?void 0:u.email)||"Sin informaci\xf3n"]})]})}),Object(D.jsx)(O.a,{span:6,children:Object(D.jsxs)("div",{className:"d-flex align-items-center ",children:[Object(D.jsx)(H.a,{style:{fontSize:"40px",margin:"10px"}}),Object(D.jsxs)("div",{children:[Object(D.jsx)("div",{style:{color:"#8c8c8c",fontWeight:"bold"},children:"Edad:"}),(null===u||void 0===u?void 0:u.edad)||"Sin informaci\xf3n"]})]})}),Object(D.jsx)(O.a,{span:6,children:Object(D.jsxs)("div",{className:"d-flex align-items-center ",children:[Object(D.jsx)(J.a,{style:{fontSize:"40px",margin:"10px"}}),Object(D.jsxs)("div",{children:[Object(D.jsx)("div",{style:{color:"#8c8c8c",fontWeight:"bold"},children:"Direcci\xf3n:"}),(null===u||void 0===u?void 0:u.direccion)||"Sin informaci\xf3n"]})]})}),Object(D.jsx)(O.a,{span:6,children:Object(D.jsxs)("div",{className:"d-flex align-items-center ",children:[Object(D.jsx)(J.a,{style:{fontSize:"40px",margin:"10px"}}),Object(D.jsxs)("div",{children:[Object(D.jsx)("div",{style:{color:"#8c8c8c",fontWeight:"bold"},children:"Ciudad:"}),(null===u||void 0===u?void 0:u.ciudad)||"Sin informaci\xf3n"]})]})}),Object(D.jsx)(O.a,{span:6,children:Object(D.jsxs)("div",{className:"d-flex align-items-center ",children:[Object(D.jsx)(v.a,{style:{fontSize:"40px",margin:"10px"}}),Object(D.jsxs)("div",{children:[Object(D.jsx)("div",{style:{color:"#8c8c8c",fontWeight:"bold"},children:"Genero:"}),(null===u||void 0===u?void 0:u.genero)||"Sin informaci\xf3n"]})]})}),Object(D.jsx)(O.a,{span:6,children:Object(D.jsxs)("div",{className:"d-flex align-items-center ",children:[Object(D.jsx)(L.a,{style:{fontSize:"40px",margin:"10px"}}),Object(D.jsxs)("div",{children:[Object(D.jsx)("div",{style:{color:"#8c8c8c",fontWeight:"bold"},children:"Fecha Nacimiento:"}),E()(null===u||void 0===u?void 0:u.fechaNacimiento,"ddd MMM DD YYYY").format("YYYY-MM-DD HH:mm")||"Sin informaci\xf3n"]})]})}),Object(D.jsx)(O.a,{span:6,children:Object(D.jsxs)("div",{className:"d-flex align-items-center ",children:[Object(D.jsx)("img",{src:"data:image/png;base64,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",className:"icons",alt:"Descripci\xf3n del icono"}),Object(D.jsxs)("div",{children:[Object(D.jsx)("div",{style:{color:"#8c8c8c",fontWeight:"bold"},children:"Asegurador:"}),(null===u||void 0===u?void 0:u.asegurador)||"Sin informaci\xf3n"]})]})})]}),Object(D.jsx)(x.a,{plain:!0,style:{fontWeight:"bold"},children:"Preferencias Paciente"}),Object(D.jsx)(F,{id:null===u||void 0===u?void 0:u.id,activeKey:l}),Object(D.jsx)(x.a,{plain:!0,style:{fontWeight:"bold"},children:"Datos de Afiliaci\xf3n"}),Object(D.jsx)(R,{id:null===u||void 0===u?void 0:u.id,activeKey:l})]})},K=n(939),G=n(154),V=n(235),X=n(934),U=n(980),Z={40262997:{ResultadoContacto:!0,"PlanRutaAtenci\xf3n":!1,Servicio:!1,EtiquetaAdministrativa:!1,MotivoInasistencia:!0,ObservacionSeguimiento:!0,NotaCambioEtiquetaAdministrativa:!1},40262988:{ResultadoContacto:!0,"PlanRutaAtenci\xf3n":!1,Servicio:!1,EtiquetaAdministrativa:!1,MotivoInasistencia:!1,ObservacionSeguimiento:!0,NotaCambioEtiquetaAdministrativa:!1},40262982:{ResultadoContacto:!0,"PlanRutaAtenci\xf3n":!1,Servicio:!1,EtiquetaAdministrativa:!0,MotivoInasistencia:!1,ObservacionSeguimiento:!0,NotaCambioEtiquetaAdministrativa:!0},40262957:{ResultadoContacto:!0,"PlanRutaAtenci\xf3n":!1,Servicio:!1,EtiquetaAdministrativa:!1,MotivoInasistencia:!1,ObservacionSeguimiento:!0,NotaCambioEtiquetaAdministrativa:!1},40414474:{ResultadoContacto:!0,"PlanRutaAtenci\xf3n":!0,Servicio:!0,EtiquetaAdministrativa:!1,MotivoInasistencia:!1,ObservacionSeguimiento:!0,NotaCambioEtiquetaAdministrativa:!1},45323546:{ResultadoContacto:!0,"PlanRutaAtenci\xf3n":!1,Servicio:!1,EtiquetaAdministrativa:!1,MotivoInasistencia:!1,ObservacionSeguimiento:!0,NotaCambioEtiquetaAdministrativa:!1},45323551:{ResultadoContacto:!0,"PlanRutaAtenci\xf3n":!1,Servicio:!1,EtiquetaAdministrativa:!1,MotivoInasistencia:!1,ObservacionSeguimiento:!0,NotaCambioEtiquetaAdministrativa:!1},null:{ResultadoContacto:!1,"PlanRutaAtenci\xf3n":!1,Servicio:!1,EtiquetaAdministrativa:!1,MotivoInasistencia:!1,ObservacionSeguimiento:!1,NotaCambioEtiquetaAdministrativa:!1},undefined:{ResultadoContacto:!1,"PlanRutaAtenci\xf3n":!1,Servicio:!1,EtiquetaAdministrativa:!1,MotivoInasistencia:!1,ObservacionSeguimiento:!1,NotaCambioEtiquetaAdministrativa:!1}},$=U.a.Text,ee=function(e){var t,n,a,l,s=e.open,r=e.setOpen,u=e.dataNote,b=e.idPaciente,x=_.a.useForm(),O=Object(o.a)(x,1)[0],v=Object(d.useState)(null),A=Object(o.a)(v,2),m=A[0],f=A[1],p=Object(d.useState)({Fecha_Etiqueta:null,Etiqueta_Seguimiento_txt:null,Resultado_de_Contacto_txt:null,Motivo_Inasistencia_txt:null,Etiqueta_Administrativa_txt:null,Plan_Ruta_txt:null,Plan_Mensual_txt:null,Nota_Cambio:null,Observacion_Seguimiento:null,Tabla_Resultados:null}),h=Object(o.a)(p,2),g=h[0],y=h[1];Object(d.useEffect)((function(){b&&!0===s&&C()}),[s]);var C=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var t;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.R)(u.Id);case 2:t=e.sent,y(t),console.log(u),console.log("Llego: ",t),t.Plan_Mensual_txt&&(f(E(null===t||void 0===t?void 0:t.Tabla_Resultados)),console.log("convirtio: ",m));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(e){for(var t=e.split(","),n=[],a=0;a<t.length;a+=2){var c={servicio:t[a],resultado:t[a+1]};n.push(c)}return n},w=function(){return r(!1)},P=[{title:"Servicio",dataIndex:"servicio",key:"servicio",render:function(e){return Object(D.jsx)("strong",{children:e})}},{title:"Resultado contacto",dataIndex:"resultado",key:"resultado"}];return Object(D.jsx)(D.Fragment,{children:Object(D.jsxs)(S.a,{title:"Ver Notas Administrativas",open:s,onCancel:w,footer:[Object(D.jsx)(j.a,{onClick:w,children:"Cerrar"},"button-cancel")],children:[Object(D.jsx)(_.a,{id:"form",form:O,name:"form",autoComplete:"off",layout:"vertical",children:Object(D.jsxs)("div",{className:"row",children:[Object(D.jsx)("div",{className:"col-12 col-md-6",children:Object(D.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(D.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Etiqueta Seguimiento"}),Object(D.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(D.jsx)($,{children:null===g||void 0===g?void 0:g.Etiqueta_Seguimiento_txt})})]})}),null==m?Object(D.jsx)("div",{className:"col-12 col-md-6",children:Object(D.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(D.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Resultado Contacto"}),Object(D.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(D.jsx)($,{children:null===g||void 0===g?void 0:g.Resultado_de_Contacto_txt})})]})}):null,null!==(t=Z[u.Etiqueta_Seguimiento_id])&&void 0!==t&&t.MotivoInasistencia?Object(D.jsx)("div",{className:"col-12 col-md-6",children:Object(D.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(D.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Motivo de inasistencia"}),Object(D.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(D.jsx)($,{children:null===g||void 0===g?void 0:g.Motivo_Inasistencia_txt})})]})}):null,Object(D.jsx)("div",{className:"col-12 col-md-6",children:Object(D.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(D.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Etiqueta Administrativa"}),Object(D.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(D.jsx)($,{children:null===g||void 0===g?void 0:g.Etiqueta_Administrativa_txt})})]})}),Object(D.jsx)("div",{className:"col-12 col-md-12",children:Object(D.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(D.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Nota Cambio Etiqueta Administrativa"}),Object(D.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(D.jsx)($,{children:null===g||void 0===g?void 0:g.Nota_Cambio})})]})}),null!==(n=Z[u.Etiqueta_Seguimiento_id])&&void 0!==n&&n.PlanRutaAtenci\u00f3n?Object(D.jsx)("div",{className:"col-12 col-md-6",children:Object(D.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(D.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Plan/Ruta Atenci\xf3n"}),Object(D.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(D.jsx)($,{children:null===g||void 0===g?void 0:g.Plan_Ruta_txt})})]})}):null,null!==(a=Z[u.Etiqueta_Seguimiento_id])&&void 0!==a&&a.Servicio?Object(D.jsx)("div",{className:"col-12 col-md-6",children:Object(D.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(D.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Servicio"}),Object(D.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(D.jsx)($,{children:null===g||void 0===g?void 0:g.Plan_Mensual_txt})})]})}):null,null!==(l=Z[u.Etiqueta_Seguimiento_id])&&void 0!==l&&l.ObservacionSeguimiento?Object(D.jsx)("div",{className:"col-12 col-md-12",children:Object(D.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(D.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Observaci\xf3n de Seguimiento"}),Object(D.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(D.jsx)($,{children:null===g||void 0===g?void 0:g.Observacion_Seguimiento})})]})}):null]})}),null!=m?Object(D.jsx)(X.a,{style:{marginTop:"20px"},columns:P,loading:!1,dataSource:m}):null]})})},te=n(511),ne=K.a.Panel,ae=function(e){var t=e.id,n=(e.activeKey,_.a.useForm()),a=Object(o.a)(n,1)[0],l=Object(d.useState)([]),s=Object(o.a)(l,2),r=s[0],u=s[1],x=Object(d.useState)({Fecha_Etiqueta:null,Etiqueta_Seguimiento_txt:null,Resultado_de_Contacto_txt:null,Observacion_Seguimiento:null,Id:null,Etiqueta_Seguimiento_id:null}),O=Object(o.a)(x,2),v=O[0],A=O[1],m=Object(d.useState)(!1),f=Object(o.a)(m,2),p=f[0],h=f[1],g=Object(d.useState)([]),y=Object(o.a)(g,2),C=y[0],w=y[1],S=Object(d.useState)([]),P=Object(o.a)(S,2),N=P[0],F=P[1],M=Object(d.useState)(!1),B=Object(o.a)(M,2),Y=B[0],q=B[1],R=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.P)("Nada",{fecha_etiqueta:null,Etiqueta_seguimiento:null,Resultado_contacto:null},t);case 2:n=e.sent,u(n),console.log("data preferencias",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var t,n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.qb)();case 2:return t=e.sent,w(t),e.next=6,Object(k.U)();case 6:n=e.sent,F(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function z(e){var t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0"),c=String(e.getHours()).padStart(2,"0"),i=String(e.getMinutes()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(a," ").concat(c,":").concat(i)}var Q=function(){var e=Object(i.a)(Object(c.a)().mark((function e(n){var a,i,o,l;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h(!0),(a=new Date(null===n||void 0===n?void 0:n.fecha_etiqueta)).setHours(0,0,0,0),(i=new Date(null===n||void 0===n?void 0:n.fecha_etiqueta)).setHours(23,59,59,999),l={fecha_etiqueta:z(a),second_fecha:z(i),Etiqueta_seguimiento:null===n||void 0===n?void 0:n.Etiqueta_seguimiento,Resultado_contacto:null===n||void 0===n?void 0:n.Resultado_contacto},void 0===n.fecha_etiqueta||void 0===n.Etiqueta_seguimiento||void 0===n.Resultado_contacto){e.next=13;break}return e.next=9,Object(k.P)("Todo",l,t);case 9:o=e.sent,u(o),e.next=56;break;case 13:if(void 0===n.fecha_etiqueta||void 0!==n.Etiqueta_seguimiento||void 0!==n.Resultado_contacto){e.next=20;break}return e.next=16,Object(k.P)("Fecha",l,t);case 16:o=e.sent,u(o),e.next=56;break;case 20:if(void 0!==n.fecha_etiqueta||void 0===n.Etiqueta_seguimiento||void 0!==n.Resultado_contacto){e.next=27;break}return e.next=23,Object(k.P)("Seguimiento",l,t);case 23:o=e.sent,u(o),e.next=56;break;case 27:if(void 0!==n.fecha_etiqueta||void 0!==n.Etiqueta_seguimiento||void 0===n.Resultado_contacto){e.next=34;break}return e.next=30,Object(k.P)("Contacto",l,t);case 30:o=e.sent,u(o),e.next=56;break;case 34:if(void 0===n.fecha_etiqueta||void 0===n.Etiqueta_seguimiento||void 0!==n.Resultado_contacto){e.next=41;break}return e.next=37,Object(k.P)("Fecha_Seguimiento",l,t);case 37:o=e.sent,u(o),e.next=56;break;case 41:if(void 0===n.fecha_etiqueta||void 0!==n.Etiqueta_seguimiento||void 0===n.Resultado_contacto){e.next=48;break}return e.next=44,Object(k.P)("Fecha_Contacto",l,t);case 44:o=e.sent,u(o),e.next=56;break;case 48:if(void 0!==n.fecha_etiqueta||void 0===n.Etiqueta_seguimiento||void 0===n.Resultado_contacto){e.next=55;break}return e.next=51,Object(k.P)("Seguimiento_Contacto",l,t);case 51:o=e.sent,u(o),e.next=56;break;case 55:void 0===n.fecha_etiqueta&&void 0===n.Etiqueta_seguimiento&&void 0===n.Resultado_contacto&&R();case 56:h(!1);case 57:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(d.useEffect)((function(){t&&(R(),T())}),[]);var H=[{title:"Fecha Etiqueta",dataIndex:"Fecha_Etiqueta",key:"Fecha_Etiqueta",render:function(e){return Object(D.jsx)("strong",{children:E()(e).format("DD/MM/YYYY")})}},{title:"Etiqueta Seguimiento",dataIndex:"Etiqueta_Seguimiento_txt",key:"Etiqueta_Seguimiento_txt",render:function(e){return Object(D.jsx)("strong",{children:e})}},{title:"Resultado de Contacto",dataIndex:"Resultado_de_Contacto_txt",key:"Resultado_de_Contacto_txt",render:function(e){return Object(D.jsx)(D.Fragment,{children:e})}},{title:"Observaci\xf3n Seguimiento",dataIndex:"Observacion_Seguimiento",key:"Observacion_Seguimiento"},{title:"Acciones",key:"action",align:"center",render:function(e){return Object(D.jsx)(G.a,{title:"Ver",children:Object(D.jsx)(j.a,{onClick:Object(i.a)(Object(c.a)().mark((function t(){return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("Sirve ver",e),q(!0),A(e);case 3:case"end":return t.stop()}}),t)}))),children:Object(D.jsx)(te.a,{})})})}}];return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(ee,{open:Y,setOpen:q,dataNote:v,idPaciente:t}),Object(D.jsx)(K.a,{children:Object(D.jsx)(ne,{header:Object(D.jsx)("strong",{children:"Filtros Notas"}),children:Object(D.jsx)(_.a,{colon:!1,onFinish:Q,form:a,autoComplete:"off",layout:"vertical",children:Object(D.jsxs)(b.a,{style:{flexDirection:"row",justifyContent:"space-between"},children:[Object(D.jsx)(_.a.Item,{label:"Fecha Etiqueta",name:"fecha_etiqueta",children:Object(D.jsx)(V.a,{})}),Object(D.jsx)(_.a.Item,{label:"Etiqueta Seguimiento",name:"Etiqueta_seguimiento",style:{width:"20%"},children:Object(D.jsx)(I.a,{options:C})}),Object(D.jsx)(_.a.Item,{label:"Resultado Contacto",name:"Resultado_contacto",style:{width:"20%"},children:Object(D.jsx)(I.a,{options:N})}),Object(D.jsxs)("div",{className:"d-flex justify-content-end me-4",children:[Object(D.jsx)(j.a,{type:"primary",onClick:a.submit,children:"Filtrar"}),Object(D.jsx)(j.a,{htmlType:"submit",onClick:function(){a.resetFields(),u([])},children:"Limpiar Filtros"})]},"button-actions")]})})},"1")}),Object(D.jsx)(X.a,{columns:H,loading:p,dataSource:r,scroll:{x:1300}})]})},ce=n(199),ie=n(510),oe=n(232),le={Creado:{Programar:!0,Renovar:!1,Generar:!1,Nota:!0},Programado:{Programar:!1,Renovar:!0,Generar:!0,Nota:!0},"Generado Citas":{Programar:!1,Renovar:!0,Generar:!0,Nota:!0},Inactivo:{Programar:!1,Renovar:!1,Generar:!1,Nota:!0}},se=[{value:null,label:"Seleccione"},{value:0,label:"Desactivo"},{value:1,label:"Activo"}],re=n(504),de=n(982),ue=n(118),je=n(1002),be=n(1003),xe=n(929),Oe=n(306),ve=n(950),Ae=n(72),me=n.n(Ae),fe=function(e){var t=e.isModalPertinencia,n=e.setIsModalPertinencia,a=e.mes,l=e.ano,s=e.duracion,r=e.detailPlan,u=e.getData,x=e.idPrograma,O=_.a.useForm(),v=Object(o.a)(O,1)[0],A=Object(d.useState)(!1),m=Object(o.a)(A,2),f=m[0],p=m[1],h=Object(d.useState)([]),g=Object(o.a)(h,2),y=g[0],C=g[1],N=Object(d.useState)(null),F=Object(o.a)(N,2),M=F[0],B=F[1],Y=Object(d.useState)([]),q=Object(o.a)(Y,2),R=q[0],T=q[1],z=w.b.useMessage(),Q=Object(o.a)(z,2),H=Q[0],J=Q[1];Object(d.useEffect)(Object(i.a)(Object(c.a)().mark((function e(){var n,i;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=12;break}return v.setFieldValue("duracion",s),e.next=4,Object(k.lb)(x);case 4:return n=e.sent,C(n),e.next=8,Object(k.Y)();case 8:i=e.sent,T(i),v.setFieldValue("ano",E()("".concat(l,"-01-01"),"YYYY-MM-DD")),v.setFieldValue("mes",a);case 12:case"end":return e.stop()}}),e)}))),[t]);var L=function(){n(!1)},W=function(){var e=Object(i.a)(Object(c.a)().mark((function e(t){var n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.eb)(t,x);case 2:n=e.sent,B(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var t,n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=v.getFieldsValue(),e.next=3,Object(k.c)(x,t);case 3:null!==(n=e.sent)&&void 0!==n&&n.Duracion?v.setFieldValue("duracion",n.Duracion):me.a.fire({icon:"error",title:"Oops...",text:"No existe duraci\xf3n para los canales seleccionados"});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var t,n,a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),t=v.getFieldsValue(),e.prev=2,e.next=5,Object(k.w)(r,t);case 5:return e.sent,e.next=8,H.open({type:"success",content:"Se ha creado correctamente la nota"});case 8:e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(2),console.log(e.t0.response),e.next=15,H.open({type:"error",content:(null===(n=e.t0.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message)||"error"});case 15:p(!1),L(),v.resetFields(),u();case 19:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}();return Object(D.jsxs)(D.Fragment,{children:[J,Object(D.jsx)(S.a,{title:"Agregar Pertinencia",open:t,onCancel:L,footer:[Object(D.jsx)(j.a,{onClick:L,children:"Cerrar"},"button-cancel"),Object(D.jsx)(j.a,{loading:f,onClick:v.submit,children:"Agregar"},"add")],children:Object(D.jsx)(_.a,{colon:!1,onFinish:G,form:v,autoComplete:"off",layout:"vertical",children:Object(D.jsxs)(b.a,{style:{flexDirection:"column",justifyContent:"space-between"},children:[Object(D.jsx)(_.a.Item,{label:"Profesi\xf3n",name:"profesion",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(D.jsx)(I.a,{placeholder:"Seleccione una profesi\xf3n",style:{width:"100%"},options:y,onChange:function(e){W(e)}})}),Object(D.jsx)(_.a.Item,{label:"Clase Examen",name:"claseExamen",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(D.jsx)(I.a,{placeholder:"Seleccione un examen",style:{width:"100%"},options:M})}),Object(D.jsx)(_.a.Item,{label:"Canal Atenci\xf3n",name:"canales",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(D.jsx)(I.a,{mode:"multiple",placeholder:"Seleccione canales",style:{width:"100%"},options:R,onChange:K})}),Object(D.jsx)(_.a.Item,{label:"Mes Calendario",name:"mes",children:Object(D.jsx)(I.a,{disabled:!0,placeholder:"Seleccione un mes",style:{width:"100%"},options:ue.b})}),Object(D.jsx)(_.a.Item,{label:"A\xf1o",name:"ano",children:Object(D.jsx)(V.a,{disabled:!0,style:{width:"100%"},onChange:function(e,t){console.log(e.getFullYear,t)},picker:"year"})}),Object(D.jsx)(_.a.Item,{label:"Duraci\xf3n",name:"duracion",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(D.jsx)(P.a,{type:"text",disabled:!0,style:{width:"100%"}})})]})})})]})},pe=function(e){var t,n,a,l,s,r,u=e.styleName,b=e.timeLine,O=e.idPaciente,v=e.getData,A=e.setListInfoPlans,m=e.viewButton,f=e.detailPlan,p=e.idPrograma,h=b.Cita,g=Object(d.useState)(!1),y=Object(o.a)(g,2),C=y[0],_=y[1],P=Object(d.useState)(null),N=Object(o.a)(P,2),F=N[0],M=N[1],B=Object(d.useState)(!1),Y=Object(o.a)(B,2),q=Y[0],R=Y[1],T=w.b.useMessage(),z=Object(o.a)(T,2),Q=z[0],H=z[1],J=Object(d.useState)(null),L=Object(o.a)(J,2),W=L[0],K=L[1],V=Object(d.useState)(null),U=Object(o.a)(V,2),Z=U[0],$=U[1],ee=Object(d.useState)(null),ne=Object(o.a)(ee,2),ae=ne[0],oe=ne[1],le=Object(d.useState)(null),se=Object(o.a)(le,2),re=se[0],de=se[1],Ae=Object(d.useState)(!1),me=Object(o.a)(Ae,2),pe=me[0],he=me[1],ge=Object(d.useState)(!1),ye=Object(o.a)(ge,2),Ce=ye[0],Ee=ye[1],ke=Object(d.useState)(!1),we=Object(o.a)(ke,2),Se=we[0],_e=we[1],Pe=Object(d.useState)(!1),Ie=Object(o.a)(Pe,2),De=Ie[0],Ne=Ie[1],Fe=Object(d.useState)(),Me=Object(o.a)(Fe,2),Be=Me[0],Ye=Me[1],qe=Object(d.useState)(""),Re=Object(o.a)(qe,2),Te=Re[0],ze=Re[1],Qe=Object(d.useState)(!1),He=Object(o.a)(Qe,2),Je=He[0],Le=He[1],We=new Date,Ke=We.getMonth()+1,Ge=We.getFullYear(),Ve=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var t,n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={Ruta:W.Id,Canal:null===Z||void 0===Z?void 0:Z.join("|")},n={Ruta:W.Id,Canal:""},R(!0),e.next=5,Object(k.Qc)(n);case 5:return e.sent,e.next=8,Object(k.Qc)(t);case 8:if("ok"!=e.sent.status){e.next=14;break}return e.next=12,Q.open({type:"success",content:"Se ha editado correctamente el canal de atenci\xf3n"});case 12:e.next=16;break;case 14:return e.next=16,Q.open({type:"error",content:"error"});case 16:R(!1),_(!1),$(null),v();case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Xe=function(){_(!1),console.log(F),$(null)},Ue=[{title:"Nro.Cita",key:"name",render:function(e){return Object(D.jsx)("div",{onClick:function(){$e(),Ye(e),Ne(!0)},children:Object(D.jsx)("strong",{children:e.name})})}},{title:"Estado",key:"Estado_Txt",render:function(e){var t;return Object(D.jsx)("div",{onClick:function(){$e(),console.log("Sirve",e),Ye(e),Ne(!0)},children:Object(D.jsx)(ie.a,{color:null===(t=Oe.c[e.Estado_Txt])||void 0===t?void 0:t.color,children:e.Estado_Txt})})}}],Ze=[{title:"Fecha Registro",key:"Fecha_Etiqueta",render:function(e){return Object(D.jsx)("strong",{children:E()(e.Fecha_Etiqueta).format("DD/MM/YYYY HH:mm")})}},{title:"Nro. Nota",key:"Secuencia",render:function(e){return e}},{title:"Responsable",key:"CreadoPor",render:function(e){return e}},{title:"Resultado",key:"Tabla_Resultados",render:function(e){var t,n=null===(t=e.Tabla_Resultados)||void 0===t?void 0:t.split(","),a=null===n||void 0===n?void 0:n.indexOf(Te);return Object(D.jsx)("div",{children:n[a+1]})}}],$e=function(){he(!1)},et=function(){Ee(!1)};return Object(d.useState)(!1),Object(D.jsxs)("div",{className:"gx-timeline-item ".concat(u),style:"gx-timeline-inverted"==u?{textAlign:"left"}:null,children:[Object(D.jsx)("div",{className:"gx-timeline-badge gx-timeline-img",children:Object(D.jsx)("img",{src:"/assets/images/pentagon.png",alt:"Pentagon",title:"Pentagon"})}),Object(D.jsxs)("div",{className:"gx-timeline-panel",style:{boxShadow:"0 3px 6px -4px rgba(0,0,0,.12), 0 6px 16px 0 rgba(0,0,0,.08), 0 9px 28px 8px rgba(0,0,0,.05)",backgroundColor:"#f5f5f5"},children:[Object(D.jsx)("div",{className:"gx-timeline-panel-header",children:Object(D.jsx)("div",{className:"gx-timeline-heading",children:Object(D.jsxs)("h4",{children:[Object(D.jsxs)("span",{style:{fontWeight:"bold",fontSize:"22px"},children:[ue.a[null===(t=b[0])||void 0===t?void 0:t.Mes],", ",null===(n=b[0])||void 0===n?void 0:n.Year]}),Object(D.jsx)(G.a,{title:"Agregar Pertinencia",children:Object(D.jsx)(j.a,{onClick:function(){Le(!0)},disabled:(null===(a=b[0])||void 0===a?void 0:a.Mes)<Ke&&(null===(l=b[0])||void 0===l?void 0:l.Year)<=Ge,style:{marginLeft:"20px"},children:Object(D.jsx)(je.a,{})})}),Object(D.jsx)(fe,{isModalPertinencia:Je,setIsModalPertinencia:Le,mes:null===(s=b[0])||void 0===s?void 0:s.Mes,ano:null===(r=b[0])||void 0===r?void 0:r.Year,detailPlan:f,getData:v,idPrograma:p})]})})}),null===b||void 0===b?void 0:b.map((function(e,t){var n,a;return Object(D.jsxs)("div",{className:"gx-timeline-body",style:{display:"flex",flexWrap:"wrap"},children:[Object(D.jsxs)("p",{style:{width:"100%",fontWeight:"bold",fontSize:"19px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.Examen_txt,Object(D.jsxs)("span",{style:{display:"flex",flexDirection:"column"},children:[Object(D.jsx)(G.a,{title:"Ver Resultados",children:Object(D.jsx)(j.a,{onClick:Object(i.a)(Object(c.a)().mark((function t(){var n;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Ee(!0),t.next=3,Object(k.Qb)(e.Id);case 3:n=t.sent,de(n),ze(e.Name);case 6:case"end":return t.stop()}}),t)}))),disabled:0==e.Notas_Administrativas_txt,style:{backgroundColor:"#00ABC8",color:"#FFF",marginRight:"0px",marginBottom:"0px"},children:Object(D.jsx)(be.a,{})})}),Object(D.jsx)(G.a,{title:"Editar",children:Object(D.jsx)(j.a,{onClick:Object(i.a)(Object(c.a)().mark((function t(){var n,a,i;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return K(e),_(!0),t.next=4,Object(k.Z)(null===e||void 0===e?void 0:e.Canales_Iniciales);case 4:n=t.sent,M(n),a=null===e||void 0===e?void 0:e.Canal_Atencion_IdString.split(","),i=a.map((function(e){return Number(e)})),$(i),console.log(i);case 10:case"end":return t.stop()}}),t)}))),type:"primary",style:{marginBottom:"0px"},children:Object(D.jsx)(xe.a,{})})})]})]}),Object(D.jsxs)("p",{style:{width:"50%"},children:[Object(D.jsx)("span",{style:{fontWeight:"bold"},children:"Canal Atenci\xf3n: "}),e.Canal_Atencion_txt]}),Object(D.jsxs)("p",{style:{width:"50%"},children:[Object(D.jsx)("span",{style:{fontWeight:"bold"},children:"Origen: "}),e.Origen]}),Object(D.jsxs)("p",{style:{width:"50%"},children:[Object(D.jsx)("span",{style:{fontWeight:"bold"},children:"Duraci\xf3n: "}),e.Duracion_Min]}),Object(D.jsxs)("p",{style:{width:"50%"},children:[Object(D.jsx)("span",{style:{fontWeight:"bold"},children:"Tercerizado: "}),Object(D.jsx)(ce.a,{checked:Number(e.Tercerizado),disabled:!0})]}),Object(D.jsxs)("p",{style:{width:"50%"},children:[Object(D.jsx)("span",{style:{fontWeight:"bold"},children:"Predecesor: "}),Object(D.jsx)(ce.a,{checked:Number(e.Prerrequisito),disabled:!0})]}),Object(D.jsxs)("p",{style:{width:"50%"},children:[Object(D.jsx)("span",{style:{fontWeight:"bold"},children:"Estado: "}),Object(D.jsx)(G.a,{title:"Ver Historico Citas",children:Object(D.jsx)(ie.a,{color:null===(n=Oe.b[e.Pendiente][e.Disentido])||void 0===n?void 0:n.color,onClick:Object(i.a)(Object(c.a)().mark((function t(){var n;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return he(!0),t.next=3,Object(k.K)(e.Id);case 3:n=t.sent,_e(e.Id),oe(n);case 6:case"end":return t.stop()}}),t)}))),children:null===(a=Oe.b[e.Pendiente][e.Disentido])||void 0===a?void 0:a.text})})]}),Object(D.jsx)(x.a,{})]},t)})),Object(D.jsx)(S.a,{title:"Notas Administrativas",open:Ce,onCancel:et,footer:[Object(D.jsx)(j.a,{onClick:et,children:"Cerrar"},"button-cancel")],children:Object(D.jsx)(X.a,{dataSource:re,columns:Ze})}),Object(D.jsx)(S.a,{title:"Citas Relacionadas",open:pe,onCancel:$e,footer:[Object(D.jsx)(j.a,{onClick:$e,children:"Cerrar"},"button-cancel")],children:Object(D.jsx)(X.a,{dataSource:ae,columns:Ue})}),Object(D.jsx)(S.a,{title:"Editar canal de atenci\xf3n",open:C,onCancel:Xe,footer:[Object(D.jsx)(j.a,{onClick:Xe,children:"Cancelar"},"button-cancel"),Object(D.jsx)(j.a,{loading:q,onClick:Ve,children:"Confirmar"},"button-integrar")],children:Object(D.jsx)("div",{label:"Canal de atenci\xf3n",name:"canal",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(D.jsx)(I.a,{mode:"multiple",className:"w-100",placeholder:"Selecciona un canal de atenci\xf3n",onChange:function(e){console.log(e),$(e)},options:F,value:Z})})}),Object(D.jsx)(ve.a,{open:De,setOpen:Ne,dataRow:Be,idPaciente:O,setDataTable:oe,setListInfoPlans:A,detailPlan:f,idPm:Se,setOpenPopover:he,viewButton:m}),H,null!=h?Object(D.jsxs)(j.a,{children:[Object(D.jsx)(te.a,{})," Cita"]}):null]})]})},he=n(14),ge=n(940),ye=n(984),Ce=(n(516),P.a.TextArea),Ee=K.a.Panel,ke=function(e){var t=e.detailPlan,n=e.openModalGenerateQuotes,s=e.setOpenModalGenerateQuotes,r=e.idPaciente,u=e.setListInfoPlans,x=_.a.useForm(),O=Object(o.a)(x,1)[0],v=_.a.useForm(),A=Object(o.a)(v,1)[0],m=w.b.useMessage(),f=Object(o.a)(m,2),p=f[0],h=f[1],g=l.a.useNotification(),y=Object(o.a)(g,2),C=y[0],P=y[1],N=Object(d.useState)(0),F=Object(o.a)(N,2),M=F[0],B=F[1],Y=Object(d.useState)([]),q=Object(o.a)(Y,2),R=q[0],T=q[1],z=Object(d.useState)(!1),Q=Object(o.a)(z,2),H=Q[0],J=Q[1],L=Object(d.useState)(!1),W=Object(o.a)(L,2),G=W[0],X=W[1],U=Object(d.useState)([]),Z=Object(o.a)(U,2),$=Z[0],ee=Z[1],te=Object(d.useState)(null),ne=Object(o.a)(te,2),ae=ne[0],ie=ne[1],oe=Object(d.useState)([]),le=Object(o.a)(oe,2),se=le[0],re=le[1],de=Object(d.useState)([]),je=Object(o.a)(de,2),be=je[0],xe=je[1],Oe=Object(d.useState)(null),ve=Object(o.a)(Oe,2),Ae=ve[0],fe=ve[1],pe=Object(d.useState)(null),ke=Object(o.a)(pe,2),we=ke[0],Se=ke[1],_e=Object(d.useState)(null),Pe=Object(o.a)(_e,2),Ie=Pe[0],De=Pe[1],Ne=Object(d.useState)([]),Fe=Object(o.a)(Ne,2),Me=Fe[0],Be=Fe[1],Ye=Object(d.useState)(!1),qe=Object(o.a)(Ye,2),Re=qe[0],Te=qe[1],ze=Object(d.useState)(!1),Qe=Object(o.a)(ze,2),He=Qe[0],Je=Qe[1],Le=Object(d.useState)([]),We=Object(o.a)(Le,2),Ke=We[0],Ge=We[1],Ve=Object(d.useState)([]),Xe=Object(o.a)(Ve,2),Ue=Xe[0],Ze=Xe[1],$e=Object(d.useState)({id_Etiqueta_Amin_Actual:0,Etiqueta_Amin_Actual:"",id_Etiqueta_Asistencial_Actual:0,Etiqueta_Asistencial_Actual:""}),et=Object(o.a)($e,2),tt=et[0],nt=et[1],at=Object(d.useState)(null),ct=Object(o.a)(at,2),it=ct[0],ot=ct[1],lt=new Date,st=Object(d.useState)(null),rt=Object(o.a)(st,2),dt=rt[0],ut=rt[1],jt=function(e){return e&&e<lt};Object(d.useEffect)(Object(i.a)(Object(c.a)().mark((function e(){var t;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ee([]),O.resetFields(),A.resetFields(),e.next=5,Object(k.D)(r);case 5:t=e.sent,console.log(Number(t.id_Etiqueta_Amin_Actual)),nt(t);case 8:case"end":return e.stop()}}),e)}))),[]),Object(d.useEffect)(Object(i.a)(Object(c.a)().mark((function e(){var n,a,i;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(2!==M){e.next=15;break}return e.next=3,Object(k.qb)(2);case 3:return n=e.sent,re(n),e.next=7,Object(k.Jb)();case 7:return a=e.sent,xe(a),console.log(Ae),e.next=12,Object(k.kc)(t,Ae);case 12:i=e.sent,console.log("planes: ",i),ie(i);case 15:case"end":return e.stop()}}),e)}))),[M]),Object(d.useEffect)(Object(i.a)(Object(c.a)().mark((function e(){var t;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null!==ae&&(t={},ae.forEach((function(e,n){t["Plan_".concat(n+1)]=e.value,e.extra>0&&(t["Resultado_contacto_".concat(n+1)]=40263464)})),A.setFieldsValue(t));case 1:case"end":return e.stop()}}),e)}))),[ae]),Object(d.useEffect)(Object(i.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ke&&Ke.forEach((function(e,t){var n="Plan_".concat(t+1);O.setFieldValue(n,e.value)}));case 1:case"end":return e.stop()}}),e)}))),[Ke]),Object(d.useEffect)(Object(i.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n&&(O.setFieldValue("mes",lt.getMonth()+1),O.setFieldValue("ano",E()()),pt());case 1:case"end":return e.stop()}}),e)}))),[n]);var bt=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var n,a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return X(!0),Object(k.Hc)(),e.next=4,Object(k.m)(r,we);case 4:if(n=e.sent,console.log(n),"fail"!==(null===n||void 0===n?void 0:n.status)){e.next=11;break}return e.next=9,p.open({type:"error",content:(null===n||void 0===n?void 0:n.message)||"error"});case 9:e.next=15;break;case 11:if("ok"!==(null===n||void 0===n?void 0:n.status)){e.next=15;break}return e.next=14,p.open({type:"success",content:"Franja Actualizada correctamente"});case 14:vt(Ae);case 15:return e.next=17,Object(k.l)(t,Ie);case 17:if(a=e.sent,console.log(a),"fail"!==(null===a||void 0===a?void 0:a.status)){e.next=24;break}return e.next=22,p.open({type:"error",content:(null===n||void 0===n?void 0:n.message)||"error"});case 22:e.next=27;break;case 24:if("ok"!==(null===a||void 0===a?void 0:a.status)){e.next=27;break}return e.next=27,p.open({type:"success",content:"Franja Actualizada correctamente"});case 27:X(!1),Object(k.jc)(),Te(!1);case 30:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xt=function(){var e=Object(i.a)(Object(c.a)().mark((function e(t){var n,i,o,l,s,d,u,j,b,x,O;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.Hb)();case 2:if(n=e.sent,console.log("Termino 5 segundos"),null!==n){e.next=39;break}return e.next=7,Object(k.vb)();case 7:return i=e.sent,console.log(i),Be(i),e.next=12,Object(k.L)(r);case 12:return o=e.sent,console.log(o),Se(Number(null===o||void 0===o?void 0:o.R40686379_txt)),Te(!0),e.next=18,Object(k.b)(r,t);case 18:l=e.sent,s=Object(a.a)(l),e.prev=20,s.s();case 22:if((d=s.n()).done){e.next=29;break}return u=d.value,e.next=26,Object(k.n)(u.id);case 26:C.warning({message:"".concat(u.Plan_Mensual_txt),description:"".concat(u.Resultado),duration:2e4});case 27:e.next=22;break;case 29:e.next=34;break;case 31:e.prev=31,e.t0=e.catch(20),s.e(e.t0);case 34:return e.prev=34,s.f(),e.finish(34);case 37:e.next=62;break;case 39:return console.log(it),e.next=42,Object(k.b)(r,t);case 42:j=e.sent,b=Object(a.a)(j),e.prev=44,b.s();case 46:if((x=b.n()).done){e.next=53;break}return O=x.value,e.next=50,Object(k.n)(O.id);case 50:C.info({message:"".concat(O.Plan_Mensual_txt),description:"".concat(O.Resultado),duration:2e4});case 51:e.next=46;break;case 53:e.next=58;break;case 55:e.prev=55,e.t1=e.catch(44),b.e(e.t1);case 58:return e.prev=58,b.f(),e.finish(58);case 61:T(n);case 62:case"end":return e.stop()}}),e,null,[[20,31,34,37],[44,55,58,61]])})));return function(t){return e.apply(this,arguments)}}(),Ot=function(){0===M?(s(!1),O.resetFields()):1===M&&me.a.fire({title:"\xbfSeguro?",text:"Se liberaran los espacios ocupados para las opciones de citas \xbfEsta seguro de salir?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si",cancelButtonText:"No"}).then(function(){var e=Object(i.a)(Object(c.a)().mark((function e(t){var n,i,o,l,r,d;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isConfirmed){e.next=38;break}n=Object(a.a)(R),e.prev=2,n.s();case 4:if((i=n.n()).done){e.next=25;break}o=i.value,l=Object(a.a)(o),e.prev=7,l.s();case 9:if((r=l.n()).done){e.next=15;break}return d=r.value,e.next=13,Object(k.z)(d.id);case 13:e.next=9;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(7),l.e(e.t0);case 20:return e.prev=20,l.f(),e.finish(20);case 23:e.next=4;break;case 25:e.next=30;break;case 27:e.prev=27,e.t1=e.catch(2),n.e(e.t1);case 30:return e.prev=30,n.f(),e.finish(30);case 33:me.a.fire("Espacios liberados"),s(!1),B(0),O.resetFields(),T([]);case 38:case"end":return e.stop()}}),e,null,[[2,27,30,33],[7,17,20,23]])})));return function(t){return e.apply(this,arguments)}}())},vt=function(){var e=Object(i.a)(Object(c.a)().mark((function e(n){var a,i,o,l,s,r,d,u,j,b,x,v;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=O.getFieldsValue(),console.log(a),i=[],o=0;o<Object.keys(a).length;o++)l="Plan_".concat(o+1),s="Profesional_".concat(o+1),a.hasOwnProperty(l)&&(r=a[l],d=a[s],void 0!==r&&null!==r&&""!==r&&i.push({plan:r,profesional:d}));console.log(i),u=0,j=i;case 6:if(!(u<j.length)){e.next=15;break}if(b=j[u],console.log("items: ",b.plan,b.profesional),!b.plan||!b.profesional){e.next=12;break}return e.next=12,Object(k.o)(b);case 12:u++,e.next=6;break;case 15:return x=n,console.log(x),e.next=19,Object(k.A)(t,n);case 19:if("fail"!==(null===(v=e.sent)||void 0===v?void 0:v.status)){e.next=25;break}return e.next=23,p.open({type:"error",content:(null===v||void 0===v?void 0:v.message)||"error"});case 23:e.next=28;break;case 25:if("ok"!==(null===v||void 0===v?void 0:v.status)){e.next=28;break}return e.next=28,p.open({type:"success",content:"El proceso de crear citas se ha ejecutado correctamente"});case 28:console.log("5 segundos"),setTimeout(xt(x),3e3);case 30:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),At=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.validateFields();case 3:if(!e.sent){e.next=7;break}return e.abrupt("return",!0);case 7:return e.abrupt("return",!1);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(0),console.log("Form validation failed: ".concat(e.t0)),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),mt=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.validateFields();case 3:if(!e.sent){e.next=7;break}return e.abrupt("return",!0);case 7:return e.abrupt("return",!1);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(0),console.log("Form validation failed: ".concat(e.t0)),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),ft=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var n,i,o,l,d,j,b,x,v,m,f,h,g,y,C,w,S,_,P,I,D,N,F,Y,q,R,z;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,At();case 2:if(n=e.sent,0!==M||!n){e.next=20;break}return J(!0),Object(k.Hc)(),l=O.getFieldValue("mes"),d=null===(i=O.getFieldValue("ano"))||void 0===i?void 0:i.format("YYYY"),j=null===(o=O.getFieldValue("fecha"))||void 0===o?void 0:o.format("YYYY-MM-DD"),b={mes:l,ano:d,fecha:j},console.log("Dentro del callback de setFinal_values"),fe(b),e.next=14,vt(b);case 14:J(!1),Object(k.jc)(),ht(),console.log("final_values actualizado:",it),e.next=91;break;case 20:if(1!==M){e.next=50;break}J(!0),Object(k.Hc)(),x=[],v=Object(a.a)($),e.prev=25,v.s();case 27:if((m=v.n()).done){e.next=39;break}return f=m.value,e.next=31,Object(k.Kc)(f.id);case 31:return e.next=33,Object(k.Xc)(f.id);case 33:h=e.sent,g=JSON.parse(h),console.log(g),g.hasOwnProperty("error")&&(Object(k.jc)(),C=JSON.parse(null===g||void 0===g||null===(y=g.error)||void 0===y?void 0:y.message),400==(null===g||void 0===g?void 0:g.error.statusCode)&&x.push("Resp Gomedisys: "+C.DescError.toString()+" Cita: ".concat(E()(f.Fecha_Cita,"YYYY-MM-DD HH:mm:ss").format("DD/MM/YYYY HH:mm"))));case 37:e.next=27;break;case 39:e.next=44;break;case 41:e.prev=41,e.t0=e.catch(25),v.e(e.t0);case 44:return e.prev=44,v.f(),e.finish(44);case 47:x.length>0?(ut(x),Je(!0),Object(k.jc)(),console.log(x)):(J(!1),Object(k.jc)(),ht()),e.next=91;break;case 50:if(2!==M){e.next=91;break}return w=A.getFieldsValue(),e.next=54,mt();case 54:if(!e.sent){e.next=91;break}for(S={Etiqueta_seguimiento:null===w||void 0===w?void 0:w.tag,Resultado_contacto:void 0,Tabla_Resultados:void 0,Servicios:void 0,Etiqueta_administrativa:null===tt||void 0===tt?void 0:tt.id_Etiqueta_Amin_Actual},_=[],P=[],console.log(w),I=0;I<Object.keys(w).length;I++)D="Resultado_contacto_".concat(I+1),w.hasOwnProperty(D)&&void 0!==(N=w[D])&&null!==N&&""!==N&&(_.push(N),P.push(ae[I].value));for(S.Resultado_contacto=null===_||void 0===_?void 0:_.join("|"),F={Servicios:null===P||void 0===P?void 0:P.join("|"),Observacion_seguimiento:null===w||void 0===w?void 0:w.observacion},Y="",q=0;q<ae.length;q++)Y+="".concat(P[q],",").concat(_[q],",");return S.Tabla_Resultados=Y.slice(0,-1),J(!0),Object(k.Hc)(),e.next=70,Object(k.u)(r,S,F);case 70:if(R=e.sent,console.log("Crear Nota: ",R),"fail"!==(null===R||void 0===R?void 0:R.status)){e.next=76;break}return console.log("Actualizar: ",R),e.next=76,p.open({type:"error",content:(null===R||void 0===R?void 0:R.message)||"error"});case 76:if("ok"!==(null===R||void 0===R?void 0:R.status)){e.next=79;break}return e.next=79,p.open({type:"success",content:"Se ha creado correctamente la nota"});case 79:return J(!1),Object(k.jc)(),s(!1),e.next=84,Object(k.M)(t);case 84:z=e.sent,u(z),B(0),O.resetFields(),A.resetFields(),ee([]),T([]);case 91:case"end":return e.stop()}}),e,null,[[25,41,44,47]])})));return function(){return e.apply(this,arguments)}}(),pt=function(){var e=Object(i.a)(Object(c.a)().mark((function e(n,i){var o,l,s,r,d;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=O.getFieldsValue(),console.log(o),!o.mes||!o.ano){e.next=24;break}return e.next=5,Object(k.Db)(t,o);case 5:l=e.sent,Ge(l),s=Object(a.a)(l),e.prev=8,d=Object(c.a)().mark((function e(){var t,n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.value,e.next=3,Object(k.Eb)(null===t||void 0===t?void 0:t.idProfesion);case 3:n=e.sent,Ze((function(e){return[].concat(Object(he.a)(e),[n])}));case 5:case"end":return e.stop()}}),e)})),s.s();case 11:if((r=s.n()).done){e.next=15;break}return e.delegateYield(d(),"t0",13);case 13:e.next=11;break;case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(8),s.e(e.t1);case 20:return e.prev=20,s.f(),e.finish(20);case 23:console.log(l);case 24:case"end":return e.stop()}}),e,null,[[8,17,20,23]])})));return function(t,n){return e.apply(this,arguments)}}(),ht=function(){B(M+1)},gt=function(){J(!1),Object(k.jc)(),Je(!1),ht()},yt=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T([]),ee([]),e.next=4,xt(Ae);case 4:J(!1),Object(k.jc)(),Je(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ct=[{title:"1",content:"1"},{title:"2",content:"2"},{title:"3",content:"3"}].map((function(e){return{key:e.title}})),Et=function(){var e=Object(i.a)(Object(c.a)().mark((function e(t){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ee((function(e){return e.includes(t)?e.filter((function(e){return e!==t})):[].concat(Object(he.a)(e),[t])})),console.log($);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),kt=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T([]),ee([]),ot(Ae),e.next=5,Object(k.d)(t);case 5:xt(Ae);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(D.jsxs)(D.Fragment,{children:[h,P,Object(D.jsxs)(S.a,{width:1===M?"1415px":"550px",title:"Generar Citas",open:n,onCancel:Ot,maskClosable:!1,footer:[Object(D.jsx)(j.a,{onClick:Ot,children:"Cancelar"},"back"),Object(D.jsx)(j.a,{loading:H,onClick:ft,type:"primary",children:0==M?"Generar citas":"Confirmar"},"submit")],children:[Object(D.jsxs)(S.a,{width:"550px",title:"Alerta!!",open:Re,onOk:bt,footer:[Object(D.jsx)(j.a,{style:{background:"#DD3333",borderColor:"#DD3333",color:"#FFFFFF"},onClick:function(){B(0),Te(!1)},children:"Cancelar"},"back"),Object(D.jsx)(j.a,{style:{background:"#3085D6",borderColor:"#3085D6",color:"#FFFFFF"},loading:G,onClick:bt,children:"Confirmar"},"submit")],children:[Object(D.jsx)("p",{style:{marginBottom:"10px",fontWeight:"bold"},children:"Mensaje: No se encontr\xf3 disponibilidad para los planes mensuales."}),Object(D.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(D.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Horario Agendamiento:"}),Object(D.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(D.jsx)(I.a,{style:{width:"100%"},options:Me,placeholder:"Seleccione un horario",value:we,onChange:function(e){Se(e),console.log(e)}})}),Object(D.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginTop:"20px"},children:[Object(D.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Fecha Deseada:"}),Object(D.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(D.jsx)(V.a,{style:{width:"100%"},onChange:function(e){De(null===e||void 0===e?void 0:e.format("YYYY-MM-DD"))},placeholder:"Seleccione una fecha",disabledDate:jt})})]})]})]}),Object(D.jsx)(S.a,{width:"550px",title:"Error en  la Integracion!!",open:He,onOk:gt,footer:[Object(D.jsx)(j.a,{style:{background:"#d33",borderColor:"#DD3333",color:"#FFFFFF"},onClick:yt,children:"Cerrar"},"back"),Object(D.jsx)(j.a,{style:{background:"#3085d6",borderColor:"#3085D6",color:"#FFFFFF"},onClick:gt,children:"Continuar"},"submit")],children:Object(D.jsx)(D.Fragment,{children:Object(D.jsx)("ul",{children:null===dt||void 0===dt?void 0:dt.map((function(e,t){return Object(D.jsx)("li",{children:e},t)}))})})}),Object(D.jsx)(ge.a,{current:M,items:Ct,style:{marginBottom:"20px"}}),0===M?Object(D.jsx)(_.a,{colon:!1,form:O,autoComplete:"off",layout:"vertical",children:Object(D.jsxs)(b.a,{style:{flexDirection:"column",justifyContent:"space-between"},children:[Object(D.jsx)(_.a.Item,{label:"Mes a generar",name:"mes",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(D.jsx)(I.a,{placeholder:"Seleccione un mes",style:{width:"100%"},options:ue.b,onChange:pt})}),Object(D.jsx)(_.a.Item,{label:"A\xf1o a generar",name:"ano",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(D.jsx)(V.a,{style:{width:"100%"},onChange:pt,picker:"year"})}),Object(D.jsx)(_.a.Item,{label:"Fecha deseada",name:"fecha",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(D.jsx)(V.a,{format:"YYYY-MM-DD",style:{width:"100%"},disabledDate:jt})}),Object(D.jsx)(K.a,{children:Object(D.jsx)(Ee,{header:"Filtros Profesionales",children:Array.from({length:Ke.length},(function(e,t){var n;return Object(D.jsx)(d.Fragment,{children:Object(D.jsxs)("div",{className:"row",children:[Object(D.jsx)("div",{className:"col-12 col-md-6",children:Object(D.jsx)(_.a.Item,{label:"Plan Mensual ".concat(t+1),name:"Plan_".concat(t+1),children:Object(D.jsx)(I.a,{disabled:!0,options:Ke,placeholder:"Plan",value:Number(null===(n=Ke[t])||void 0===n?void 0:n.value)})})}),Object(D.jsx)("div",{className:"col-12 col-md-6",children:Object(D.jsx)(_.a.Item,{label:"Profesional ".concat(t+1),name:"Profesional_".concat(t+1),children:Object(D.jsx)(I.a,{options:Ue?Ue[t]:[]})})})]})},t)}))})})]})}):null,1===M?Object(D.jsx)(D.Fragment,{children:Object(D.jsx)(b.a,{style:{display:"flex",justifyContent:"center"},children:null===R||void 0===R?void 0:R.map((function(e,t){return Object(D.jsx)(ye.b,{header:Object(D.jsx)("h3",{style:{fontWeight:"bold",color:"white"},children:e[0].Fecha_txt}),bordered:!0,itemLayout:"horizontal",dataSource:e,renderItem:function(e,n){console.log("".concat(t," = ").concat(null===e||void 0===e?void 0:e.nameExam));var a=null===$||void 0===$?void 0:$.some((function(t){return t.nameExam===e.nameExam&&t.id!==e.id}));return Object(D.jsx)(ye.b.Item,{children:Object(D.jsxs)(b.a,{children:[Object(D.jsx)("div",{style:{display:"flex",alignContent:"center",flexWrap:"wrap",marginRight:"20px"},children:Object(D.jsx)(ce.a,{onChange:function(t){Et(e),console.log(e)},disabled:a})}),Object(D.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(D.jsx)("strong",{children:Object(D.jsx)("p",{children:null===e||void 0===e?void 0:e.nameExam})}),Object(D.jsx)("p",{children:null===e||void 0===e?void 0:e.Canal_Atencion_txt}),Object(D.jsx)("strong",{children:Object(D.jsx)("p",{children:null===e||void 0===e?void 0:e.Profesional_txt})}),Object(D.jsxs)("div",{style:{textAlign:"right",fontSize:"14px"},children:[" ",Object(D.jsxs)("p",{children:["Hora:",E()(null===e||void 0===e?void 0:e.Fecha_Cita,"YYYY-MM-DD HH:mm:ss").format("hh:mm A")]})]})]})]})})},style:{margin:"20px 20px 20px 20px",width:"425px"}},t)}))})}):null,2===M?Object(D.jsx)(D.Fragment,{children:Object(D.jsx)(_.a,{colon:!1,form:A,autoComplete:"off",layout:"vertical",children:Object(D.jsxs)(b.a,{style:{flexDirection:"column",justifyContent:"space-between"},children:[Object(D.jsx)(_.a.Item,{label:"Etiqueta Seguimiento",name:"tag",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(D.jsx)(I.a,{placeholder:"Seleccione una etiqueta",style:{width:"100%"},options:se})}),Object(D.jsx)(_.a.Item,{label:"Observaci\xf3n Seguimiento",name:"observacion",children:Object(D.jsx)(Ce,{style:{width:"100%"},rows:4})}),Array.from({length:null===ae||void 0===ae?void 0:ae.length},(function(e,t){return Object(D.jsx)(d.Fragment,{children:Object(D.jsxs)("div",{className:"row",children:[Object(D.jsx)("div",{className:"col-12 col-md-6",children:Object(D.jsx)(_.a.Item,{label:"Plan mensual ".concat(t+1),name:"Plan_".concat(t+1),children:Object(D.jsx)(I.a,{options:ae,disabled:!0,placeholder:"Plan"})})}),Object(D.jsx)("div",{className:"col-12 col-md-6",children:Object(D.jsx)(_.a.Item,{label:"Resultado Contacto ".concat(t+1),name:"Resultado_contacto_".concat(t+1),rules:[{required:!0,message:"Campo obligatorio"}],children:Object(D.jsx)(I.a,{options:be,placeholder:"Seleccione un resultado contacto"})})})]})},t)}))]})})}):null,1==M&&Object(D.jsx)(j.a,{type:"primary",onClick:kt,children:"Nuevas Opciones"})]})]})},we=n(294),Se=P.a.TextArea,_e={1:{0:!1,1:!1},2:{0:!0,1:!1}},Pe=function(e){var t,n,a,l,s,r=e.open,u=e.setOpen,b=e.idPaciente,x=e.detailPlan,O=e.getInfo,v=e.getDataPlains,A=e.idPrograma,m=_.a.useForm(),f=Object(o.a)(m,1)[0],p=_.a.useForm(),h=Object(o.a)(p,1)[0],g=_.a.useForm(),y=Object(o.a)(g,1)[0],C=w.b.useMessage(),P=Object(o.a)(C,2),N=P[0],F=P[1],M=Object(d.useState)(!1),B=Object(o.a)(M,2),Y=B[0],q=B[1],R=Object(d.useState)([]),T=Object(o.a)(R,2),z=T[0],Q=T[1],H=Object(d.useState)({id_Etiqueta_Amin_Actual:0,Etiqueta_Amin_Actual:"",id_Etiqueta_Asistencial_Actual:0,Etiqueta_Asistencial_Actual:""}),J=Object(o.a)(H,2),L=J[0],W=J[1],K=Object(d.useState)([]),G=Object(o.a)(K,2),X=G[0],U=G[1],$=Object(d.useState)([]),ee=Object(o.a)($,2),te=ee[0],ne=ee[1],ae=Object(d.useState)([]),ce=Object(o.a)(ae,2),ie=ce[0],oe=ce[1],le=Object(d.useState)([]),se=Object(o.a)(le,2),re=se[0],de=se[1],je=Object(d.useState)(null),be=Object(o.a)(je,2),xe=be[0],Oe=be[1],ve=Object(d.useState)(null),Ae=Object(o.a)(ve,2),me=Ae[0],fe=Ae[1],pe=Object(d.useState)(0),he=Object(o.a)(pe,2),ye=he[0],Ce=he[1],Ee=Object(d.useState)(0),ke=Object(o.a)(Ee,2),Pe=ke[0],Ie=ke[1],De=Object(d.useState)(1),Ne=Object(o.a)(De,2),Fe=Ne[0],Me=Ne[1],Be=Object(d.useState)(null),Ye=Object(o.a)(Be,2),qe=Ye[0],Re=Ye[1],Te={anoActual:(new Date).getFullYear(),anoActualPicker:E()(),mesActual:(new Date).getMonth()+1},ze=[{title:"1",content:"1"},{title:"2",content:"2"}],Qe=ze.map((function(e){return{key:e.title}})),He=function(){var e=Object(i.a)(Object(c.a)().mark((function e(t){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.validateFields();case 3:if(!e.sent){e.next=7;break}return e.abrupt("return",!0);case 7:return e.abrupt("return",!1);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(0),console.log("Form validation failed: ".concat(e.t0)),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();Object(d.useEffect)((function(){!0===r&&Le()}),[r,Fe]);var Je=function(){h.validateFields().then(function(){var e=Object(i.a)(Object(c.a)().mark((function e(t){var n,a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.Mb)(x,t.month,null===(n=t.ano)||void 0===n?void 0:n.format("YYYY"));case 2:a=e.sent,de(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=Object(i.a)(Object(c.a)().mark((function e(t){var n,a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Error en el formulario 2:",t),e.next=3,Object(k.Mb)(x,t.values.month,null===(n=t.values.ano)||void 0===n?void 0:n.format("YYYY"));case 3:a=e.sent,de(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},Le=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var t,n,a,i;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.rb)(A);case 2:return t=e.sent,U(t),e.next=6,Object(k.pb)(A);case 6:return n=e.sent,oe(n),e.next=10,Object(k.D)(b);case 10:if(a=e.sent,console.log(Number(a.id_Etiqueta_Amin_Actual)),W(a),2!==Fe){e.next=21;break}return h.setFieldsValue({ano:Te.anoActualPicker}),h.setFieldsValue({month:Te.mesActual}),h.setFieldsValue({Etiqueta_administrativa:Number(null===L||void 0===L?void 0:L.id_Etiqueta_Amin_Actual)}),e.next=19,Object(k.Mb)(x,Te.mesActual,Te.anoActual);case 19:i=e.sent,de(i);case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(d.useEffect)((function(){var e=ie.find((function(e){return e.value===Number(null===L||void 0===L?void 0:L.id_Etiqueta_Amin_Actual)}));console.log(e),e&&f.setFieldsValue({Etiqueta_administrativa:e.value})}),[f,L,ie]),Object(d.useEffect)(Object(i.a)(Object(c.a)().mark((function e(){var t,n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===xe){e.next=10;break}return console.log(xe),e.next=4,Object(k.yb)(xe,A);case 4:return t=e.sent,Q(t),e.next=8,Object(k.Ib)(xe,A);case 8:n=e.sent,ne(n);case 10:case"end":return e.stop()}}),e)}))),[xe]),Object(d.useEffect)(Object(i.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null!==me&&Ce(me.length);case 1:case"end":return e.stop()}}),e)}))),[me]),Object(d.useEffect)(Object(i.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:1==Pe&&me.forEach((function(e,t){var n="Servicio_".concat(t+1);y.setFieldValue(n,me[t])}));case 1:case"end":return e.stop()}}),e)}))),[Pe]);var We=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var t,n,a,i,o,l,s,r,d,u,j,A,m,p,g,C,E,w,S,_,P,I;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He(f);case 2:if(t=e.sent,1!==Fe||!t){e.next=28;break}return a=f.getFieldsValue(),i=new Date,o={mes:i.getMonth()+1,ano:i.getFullYear()},e.next=9,Object(k.kc)(x,o);case 9:return l=e.sent,s="",l.forEach((function(e){s+="".concat(e.value,",").concat(a.Resultado_contacto,",")})),r=l.map((function(e){return e.value})),d={Etiqueta_seguimiento:null===a||void 0===a?void 0:a.Etiqueta_seguimiento,Resultado_contacto:null===a||void 0===a?void 0:a.Resultado_contacto,Tabla_Resultados:null===(n=s)||void 0===n?void 0:n.slice(0,-1),Motivo_inasistencia:null===a||void 0===a?void 0:a.Motivo_inasistencia,Etiqueta_administrativa:null===a||void 0===a?void 0:a.Etiqueta_administrativa,"Observaci\xf3n_seguimiento":null===a||void 0===a?void 0:a.Observaci\u00f3n_seguimiento},u={Etiqueta_seguimiento:null===a||void 0===a?void 0:a.Etiqueta_seguimiento,Motivo_inasistencia:null===a||void 0===a?void 0:a.Motivo_inasistencia,Etiqueta_administrativa:null===a||void 0===a?void 0:a.Etiqueta_administrativa,Servicios:null===r||void 0===r?void 0:r.join("|"),Observacion_seguimiento:void 0==a.Observaci\u00f3n_seguimiento?"":a.Observaci\u00f3n_seguimiento,Nota_cambio_etiqueta_administrativa:void 0==a.Nota_cambio_etiqueta_administrativa?"":a.Nota_cambio_etiqueta_administrativa,Plan_Ruta_txt:x},q(!0),e.next=18,Object(k.u)(b,d,u);case 18:if(j=e.sent,console.log("actualizar preferencias: ",j),"fail"!==(null===j||void 0===j?void 0:j.status)){e.next=24;break}return console.log("Actualizar: ",j),e.next=24,N.open({type:"error",content:(null===j||void 0===j?void 0:j.message)||"error"});case 24:if("ok"!==(null===j||void 0===j?void 0:j.status)){e.next=27;break}return e.next=27,N.open({type:"success",content:"Se ha creado correctamente la nota"});case 27:Ke();case 28:return e.next=30,He(y);case 30:if(A=e.sent,2!==Fe||!A){e.next=55;break}for(m=y.getFieldsValue(),p={Etiqueta_seguimiento:null===qe||void 0===qe?void 0:qe.Etiqueta_seguimiento,Resultado_contacto:void 0,Tabla_Resultados:void 0,Motivo_inasistencia:null===qe||void 0===qe?void 0:qe.Motivo_inasistencia,Etiqueta_administrativa:null===qe||void 0===qe?void 0:qe.Etiqueta_administrativa,"Observaci\xf3n_seguimiento":null===qe||void 0===qe?void 0:qe.Observaci\u00f3n_seguimiento},g=[],console.log(m),C=0;C<Object.keys(m).length;C++)E="Resultado_contacto_".concat(C+1),m.hasOwnProperty(E)&&void 0!==(w=m[E])&&null!==w&&""!==w&&g.push(w);for(p.Resultado_contacto=null===g||void 0===g?void 0:g.join("|"),S="",_=qe.Servicios.split("|"),console.log(_),P=0;P<_.length;P++)S+="".concat(_[P],",").concat(g[P],",");return p.Tabla_Resultados=S.slice(0,-1),q(!0),e.next=46,Object(k.u)(b,p,qe);case 46:if(I=e.sent,console.log("actualizar preferencias: ",I),"fail"!==(null===I||void 0===I?void 0:I.status)){e.next=52;break}return console.log("Actualizar: ",I),e.next=52,N.open({type:"error",content:(null===I||void 0===I?void 0:I.message)||"error"});case 52:if("ok"!==(null===I||void 0===I?void 0:I.status)){e.next=55;break}return e.next=55,N.open({type:"success",content:"Se ha creado correctamente la nota"});case 55:q(!1),f.resetFields(),h.resetFields(),y.resetFields(),Oe(null),O(),v(),Ke();case 63:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ke=function(){Oe(null),f.resetFields(),h.resetFields(),y.resetFields(),q(!1),u(!1)},Ge=function(e){console.log("selected ".concat(e)),Oe(e)},Ve=function(e){console.log("selected ".concat(e))};return Object(D.jsxs)(D.Fragment,{children:[F,Object(D.jsxs)(S.a,{width:"700px",title:"Crear Notas Administrativas",open:r,onCancel:Ke,footer:[Object(D.jsx)(j.a,{onClick:Ke,children:"Cerrar"},"button-cancel"),Object(D.jsx)(j.a,{style:{backgroundColor:"#00ABC8",color:"#FFF"},onClick:We,loading:Y,disabled:_e[Fe][Pe],children:"Guardar"},"button-actualizar")],children:[Object(D.jsxs)(we.a.Group,{onChange:function(e){console.log("radio checked",e.target.value),Me(e.target.value),f.resetFields(),h.resetFields(),y.resetFields(),Oe(null)},value:Fe,style:{marginBottom:"20px"},children:[Object(D.jsx)(we.a,{value:1,children:"General"}),Object(D.jsx)(we.a,{value:2,children:"Planes Mensuales"})]}),1===Fe?Object(D.jsx)(_.a,{id:"form",form:f,name:"form",onFinish:We,autoComplete:"off",layout:"vertical",fields:[{name:["Etiqueta_seguimiento"]},{name:["Resultado_contacto"]},{name:["Motivo_inasistencia"]},{name:["Etiqueta_administrativa"]},{name:["servicio"]},{name:["Observaci\xf3n_seguimiento"]},{name:["Nota_cambio_etiqueta_administrativa"]}],children:Object(D.jsxs)("div",{className:"row",children:[Object(D.jsx)("div",{className:"col-12 col-md-6",children:Object(D.jsx)(_.a.Item,{label:"Etiqueta Seguimiento",name:"Etiqueta_seguimiento",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(D.jsx)(I.a,{onChange:Ge,options:X})})}),Z[xe].ObservacionSeguimiento?Object(D.jsx)("div",{className:"col-12 col-md-12",children:Object(D.jsx)(_.a.Item,{label:"Observaci\xf3n de Seguimiento",name:"Observaci\xf3n_seguimiento",children:Object(D.jsx)(Se,{placeholder:"Escriba observaci\xf3n...",rows:4})})}):null,null!==(t=Z[xe])&&void 0!==t&&t.ResultadoContacto?Object(D.jsx)("div",{className:"col-12 col-md-6",children:Object(D.jsx)(_.a.Item,{label:"Resultado Contacto",name:"Resultado_contacto",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(D.jsx)(I.a,{options:te})})}):null,null!==(n=Z[xe])&&void 0!==n&&n.MotivoInasistencia?Object(D.jsx)("div",{className:"col-12 col-md-6",children:Object(D.jsx)(_.a.Item,{label:"Motivo de inasistencia",name:"Motivo_inasistencia",children:Object(D.jsx)(I.a,{options:z})})}):null,Object(D.jsx)("div",{className:"col-12 col-md-6",children:Object(D.jsx)(_.a.Item,{label:"Etiqueta Administrativa",name:"Etiqueta_administrativa",children:Object(D.jsx)(I.a,{options:ie})})}),Object(D.jsx)("div",{className:"col-12 col-md-12",children:Object(D.jsx)(_.a.Item,{label:"Nota Cambio Etiqueta Administrativa",name:"Nota_cambio_etiqueta_administrativa",children:Object(D.jsx)(Se,{placeholder:"Escriba nota...",rows:4})})}),null!==(a=Z[xe])&&void 0!==a&&a.Servicio?Object(D.jsx)("div",{className:"col-12 col-md-6",children:Object(D.jsx)(_.a.Item,{label:"Servicio",name:"servicio",children:Object(D.jsx)(I.a,{showSearch:!0,mode:"multiple",placeholder:"Seleccione servicios",options:re,filterOption:function(e,t){var n;return(null!==(n=null===t||void 0===t?void 0:t.label)&&void 0!==n?n:"").toLowerCase().includes(e.toLowerCase())}})})}):null]})}):null,2===Fe?Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(ge.a,{current:Pe,items:Qe,style:{marginBottom:"20px"}}),0===Pe?Object(D.jsx)(_.a,{id:"form2",form:h,name:"form2",onFinish:We,autoComplete:"off",layout:"vertical",fields:[{name:["Etiqueta_seguimiento"]},{name:["Motivo_inasistencia"]},{name:["Etiqueta_administrativa"]},{name:["month"]},{name:["ano"]},{name:["servicio"]},{name:["Observaci\xf3n_seguimiento"]},{name:["Nota_cambio_etiqueta_administrativa"]}],children:Object(D.jsxs)("div",{className:"row",children:[Object(D.jsx)("div",{className:"col-12 col-md-6",children:Object(D.jsx)(_.a.Item,{label:"Etiqueta Seguimiento",name:"Etiqueta_seguimiento",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(D.jsx)(I.a,{onChange:Ge,options:X})})}),null!==(l=Z[xe])&&void 0!==l&&l.ObservacionSeguimiento?Object(D.jsx)("div",{className:"col-12 col-md-12",children:Object(D.jsx)(_.a.Item,{label:"Observaci\xf3n de Seguimiento",name:"Observaci\xf3n_seguimiento",children:Object(D.jsx)(Se,{placeholder:"Escriba observaci\xf3n...",rows:4})})}):null,null!==(s=Z[xe])&&void 0!==s&&s.MotivoInasistencia?Object(D.jsx)("div",{className:"col-12 col-md-6",children:Object(D.jsx)(_.a.Item,{label:"Motivo de inasistencia",name:"Motivo_inasistencia",children:Object(D.jsx)(I.a,{options:z})})}):null,Object(D.jsx)("div",{className:"col-12 col-md-6",children:Object(D.jsx)(_.a.Item,{label:"A\xf1o",name:"ano",children:Object(D.jsx)(V.a,{style:{width:"100%"},onChange:Je,placeholder:"Seleccione un a\xf1o",picker:"year"})})}),Object(D.jsx)("div",{className:"col-12 col-md-6",children:Object(D.jsx)(_.a.Item,{label:"Mes",name:"month",children:Object(D.jsx)(I.a,{style:{width:"100%"},options:ue.b,placeholder:"Seleccione un mes",onChange:Je})})}),Object(D.jsx)("div",{className:"col-12 col-md-6",children:Object(D.jsx)(_.a.Item,{label:"Servicios/Planes Mensuales",name:"servicio",children:Object(D.jsx)(I.a,{showSearch:!0,allowClear:!0,onChange:function(e){console.log("selected ".concat(e)),fe(e)},mode:"multiple",placeholder:"Seleccione servicios",options:re,filterOption:function(e,t){var n;return(null!==(n=null===t||void 0===t?void 0:t.label)&&void 0!==n?n:"").toLowerCase().includes(e.toLowerCase())}})})}),Object(D.jsx)("div",{hidden:!0,className:"col-12 col-md-6",children:Object(D.jsx)(_.a.Item,{label:"Etiqueta Administrativa",name:"Etiqueta_administrativa",children:Object(D.jsx)(I.a,{options:ie})})})]})}):null,1===Pe?Object(D.jsx)(_.a,{id:"form3",form:y,name:"form3",onFinish:We,autoComplete:"off",layout:"vertical",children:Array.from({length:ye},(function(e,t){return Object(D.jsx)(d.Fragment,{children:Object(D.jsxs)("div",{className:"row",children:[Object(D.jsx)("div",{className:"col-12 col-md-6",children:Object(D.jsx)(_.a.Item,{label:"Servicio ".concat(t+1),name:"Servicio_".concat(t+1),children:Object(D.jsx)(I.a,{disabled:!0,value:me?me[t]:"",placeholder:"Servicio",options:re})})}),Object(D.jsx)("div",{className:"col-12 col-md-6",children:Object(D.jsx)(_.a.Item,{label:"Resultado Contacto ".concat(t+1),name:"Resultado_contacto_".concat(t+1),rules:[{required:!0,message:"Campo obligatorio"}],children:Object(D.jsx)(I.a,{onChange:Ve,options:te})})})]})},t)}))}):null,Pe<ze.length-1&&Object(D.jsx)(j.a,{type:"primary",onClick:function(){return Ie(Pe+1),void h.validateFields().then((function(e){var t;console.log("Valores del formulario 2:",e);var n={Etiqueta_seguimiento:null===e||void 0===e?void 0:e.Etiqueta_seguimiento,Motivo_inasistencia:null===e||void 0===e?void 0:e.Motivo_inasistencia,Etiqueta_administrativa:null===e||void 0===e?void 0:e.Etiqueta_administrativa,Servicios:null===(t=e.servicio)||void 0===t?void 0:t.join("|"),Observacion_seguimiento:void 0==e.Observaci\u00f3n_seguimiento?"":e.Observaci\u00f3n_seguimiento,Nota_cambio_etiqueta_administrativa:void 0==e.Nota_cambio_etiqueta_administrativa?"":e.Nota_cambio_etiqueta_administrativa,Plan_Ruta_txt:x};Re(n)})).catch((function(e){console.log("Error en el formulario 2:",e)}))},children:"Siguiente"}),Pe>0&&Object(D.jsx)(j.a,{style:{margin:"0 8px"},onClick:function(){Ie(Pe-1)},children:"Atr\xe1s"})]}):null]})]})},Ie=n.p+"static/media/votacion.67d82fcd.png",De=n.p+"static/media/historial-medico.bb9047dc.png",Ne=n.p+"static/media/necesitar.7773f3e3.png",Fe=n.p+"static/media/obituario.118473d5.png",Me=n.p+"static/media/examen.2dd7dcc3.png",Be=n.p+"static/media/receta.80fc34c8.png",Ye=n.p+"static/media/prueba-de-sangre.437d463c.png",qe=n.p+"static/media/lista.74f1da7f.png",Re=n.p+"static/media/rechazado.5a99c303.png",Te={40380799:{url:Fe,text:"Fallecido Pendiente Soportar"},40380798:{url:De,text:"Entrega al Asegurador"},40380797:{url:qe,text:"Activo"},40380804:{url:Re,text:"Suspendido"},40380805:{url:Re,text:"Terminaci\xf3n Contrato"},40380801:{url:Re,text:"No ingreso"},40380803:{url:Re,text:"Retirado"},40380802:{url:n.p+"static/media/documento.f0ffb578.png",text:"No ingreso (Pendiente cumplir criterios)"},40380800:{url:Re,text:"No ingresa- No cumple criterios"},Abandonado:{url:Ie,text:"Abandonado"},"Menor Expuesto":{url:De,text:"Menor Expuesto"},Naive:{url:Ne,text:"Naive"},Fallecido:{url:Fe,text:"Fallecido"},Bimestralizado:{url:Me,text:"Bimestralizado"},"Paciente Gestante":{url:Be,text:"Paciente Gestante"},Novo:{url:Ye,text:"Novo"},Hospitalizado:{url:"data:image/png;base64,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",text:"Hospitalizado"},TBC:{url:De,text:"TBC"},"Alta del Programa":{url:Ye,text:"Alta del Programa"},Tuberculosis:{url:Be,text:"Tuberculosis"},null:{url:Ie,text:"Disponible"}},ze=K.a.Panel,Qe=U.a.Text,He=function(e){var t,n,a,s,r,u,v=e.detailPlan,A=e.idPaciente,m=e.listInfoPlans,f=e.setListInfoPlans,p=e.detailPlans,h=e.getData,g=e.getInfo,y=e.getDataPlains,C=e.setDataList,P=e.viewButton;console.log("detail");var N=_.a.useForm(),F=Object(o.a)(N,1)[0],M=_.a.useForm(),B=Object(o.a)(M,1)[0],Y=Object(d.useState)([]),q=Object(o.a)(Y,2),R=q[0],T=q[1],z=Object(d.useState)([]),Q=Object(o.a)(z,2),H=Q[0],J=Q[1],L=Object(d.useState)([]),W=Object(o.a)(L,2),G=W[0],X=W[1],U=Object(d.useState)(0),Z=Object(o.a)(U,2),$=Z[0],ee=Z[1],te=Object(d.useState)(!1),ne=Object(o.a)(te,2),ae=ne[0],ie=ne[1],je=Object(d.useState)(!1),be=Object(o.a)(je,2),xe=be[0],Oe=be[1],ve=w.b.useMessage(),Ae=Object(o.a)(ve,2),fe=Ae[0],he=Ae[1],ge=Object(d.useState)(null),ye=Object(o.a)(ge,2),Ce=ye[0],Ee=ye[1],we=Object(d.useState)(null),Se=Object(o.a)(we,2),_e=Se[0],Ie=Se[1],De=Object(d.useState)(null),Ne=Object(o.a)(De,2),Fe=Ne[0],Me=Ne[1],Be=Object(d.useState)(!1),Ye=Object(o.a)(Be,2),qe=Ye[0],Re=Ye[1],He=Object(d.useState)(!1),Je=Object(o.a)(He,2),Le=Je[0],We=Je[1],Ke=l.a.useNotification(),Ge=Object(o.a)(Ke,2),Ve=Ge[0],Xe=Ge[1],Ue=null,Ze=function(){me.a.fire({title:"Cargando...",text:"Por favor, espera un momento..",icon:"info",allowOutsideClick:!1,allowEscapeKey:!1,focusConfirm:!1,showConfirmButton:!1,showCloseButton:!1,didOpen:function(){me.a.showLoading()}})},$e=function(){me.a.close()},et=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var t;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.r)(v);case 2:if(0!=(t=e.sent)){e.next=8;break}return e.next=6,fe.open({type:"error",content:"No existen Contratos Planes que coincidan con las caracteristicas del paciente.!"});case 6:e.next=11;break;case 8:if(0==t){e.next=11;break}return e.next=11,fe.open({type:"success",content:"La ruta de atenci\xf3n ha sido programada correctamente"});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(d.useEffect)((function(){if(null!==p&&void 0!==p&&p.fecha_activacion){var e=E()(p.fecha_activacion,"ddd MMM DD YYYY");Ee(e);var t=e.startOf("day");Ie(t.valueOf())}}),[p]);var tt=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var t;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.e)(v);case 2:return e.next=4,Object(k.f)(v);case 4:return e.next=6,Object(k.a)(v);case 6:(t=e.sent)&&(console.log(t),1==t.Tomo_Laboratorios?Ve.open({type:"info",message:"Alerta",description:"El paciente tomo los laboratorios. ".concat(t.Resultado_Laboratorio)}):0==t.Tomo_Laboratorios&&Ve.open({type:"info",message:"Alerta",description:"El paciente no ha tomado los laboratorios!.",icon:Object(D.jsx)(oe.a,{style:{color:"#e0db03"}})}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),nt=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var t;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Re(!0),Ze(),e.next=4,Object(k.Yc)(A);case 4:if(!(e.sent>0)){e.next=14;break}return e.next=8,Object(k.Jc)(v);case 8:return e.next=10,et();case 10:h(),tt(),e.next=17;break;case 14:Re(!1),$e(),We(!0);case 17:return Re(!1),$e(),e.next=21,Object(k.E)(A);case 21:t=e.sent,C(t);case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),at=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var t;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Re(!0),Ze(),e.next=4,Object(k.k)(v,_e);case 4:return e.next=6,Object(k.Jc)(v);case 6:if(t=e.sent,console.log(t),"fail"!==(null===t||void 0===t?void 0:t.status)){e.next=13;break}return e.next=11,fe.open({type:"error",content:(null===t||void 0===t?void 0:t.message)||"error"});case 11:e.next=16;break;case 13:if("ok"!==(null===t||void 0===t?void 0:t.status)){e.next=16;break}return e.next=16,et();case 16:tt(),h(),$e(),We(!1),Re(!1);case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ct=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var t;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.Mc)(v);case 2:if("fail"!==(null===(t=e.sent)||void 0===t?void 0:t.status)){e.next=8;break}return e.next=6,fe.open({type:"error",content:(null===t||void 0===t?void 0:t.message)||"error"});case 6:e.next=11;break;case 8:if("ok"!==(null===t||void 0===t?void 0:t.status)){e.next=11;break}return e.next=11,fe.open({type:"success",content:"La ruta de atenci\xf3n ha sido renovada correctamente"});case 11:h();case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(d.useEffect)((function(){v&&it()}),[v]);var it=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var t,n,a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.Bb)(v);case 2:return t=e.sent,T(t),e.next=6,Object(k.ub)(v);case 6:return n=e.sent,J(n),e.next=10,Object(k.Cb)(v);case 10:a=e.sent,X(a);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(d.useEffect)(Object(i.a)(Object(c.a)().mark((function e(){var t;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v){e.next=11;break}return e.prev=1,e.next=4,Object(k.Sb)(v,Fe);case 4:t=e.sent,ee(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error al obtener el porcentaje:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),[m,v]);var ot=function(){var e=Object(i.a)(Object(c.a)().mark((function e(t){var n,a,i;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null===t||void 0===t||null===(n=t.year)||void 0===n?void 0:n.format("YYYY"),Ue={month:null===t||void 0===t?void 0:t.month,year:a,origin:null===t||void 0===t?void 0:t.origin,exam:null===t||void 0===t?void 0:t.exam,pending:null===t||void 0===t?void 0:t.pending,dissent:null===t||void 0===t?void 0:t.dissent,plan:null===t||void 0===t?void 0:t.plan},Me(Ue),console.log(t),e.next=6,Object(k.wb)(Ue,v);case 6:i=e.sent,f(i);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(D.jsxs)(D.Fragment,{children:[he,Xe,Object(D.jsxs)(K.a,{children:[Object(D.jsxs)(ze,{header:Object(D.jsx)("strong",{children:"Informaci\xf3n Ruta Atencion"}),children:[Object(D.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[Object(D.jsx)("p",{style:{margin:"10px",fontWeight:"bold"},children:"Progreso:"}),Object(D.jsx)(re.a,{style:{margin:"10px"},type:"circle",percent:$}),Object(D.jsxs)("p",{style:{margin:"10px",fontWeight:"bold"},children:["Estado: ",null===p||void 0===p?void 0:p.Estado_txt]}),null!==(t=le[null===p||void 0===p?void 0:p.Estado_txt])&&void 0!==t&&t.Programar?Object(D.jsxs)(D.Fragment,{children:[Object(D.jsxs)(S.a,{title:"Confirmacion",open:Le,onCancel:function(){return We(!1)},footer:[Object(D.jsx)(j.a,{onClick:function(){return We(!1)},children:"Cancelar"},"back"),Object(D.jsx)(j.a,{loading:qe,disabled:qe,onClick:at,type:"primary",children:"Confirmar"},"submit")],children:[Object(D.jsxs)("p",{style:{marginBottom:"20px"},children:[Object(D.jsx)("strong",{children:"La fecha de activaci\xf3n es ".concat(E()(null===p||void 0===p?void 0:p.fecha_activacion,"ddd MMM DD YYYY").format("YYYY-MM-DD"),"\n                     ")}),", si es correcto oprime Confirmar."]}),Object(D.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(D.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Fecha Activaci\xf3n:"}),Object(D.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(D.jsx)(V.a,{format:"DD/MM/YYYY",style:{width:"100%"},value:Ce,onChange:function(e){Ee(e);var t=e.startOf("day");Ie(t.valueOf()),console.log(t.valueOf())}})})]})]}),Object(D.jsx)(j.a,{loading:qe,disabled:qe,style:{margin:"10px",backgroundColor:"#00ABC8",color:"#FFF"},onClick:nt,children:"Programar"})]}):null,null!==(n=le[null===p||void 0===p?void 0:p.Estado_txt])&&void 0!==n&&n.Renovar?Object(D.jsx)(j.a,{loading:qe,disabled:qe,style:{margin:"10px",backgroundColor:"#184F9D",color:"#fff"},onClick:ct,children:"Renovar plan"}):null,null!==(a=le[null===p||void 0===p?void 0:p.Estado_txt])&&void 0!==a&&a.Generar?Object(D.jsx)(j.a,{style:{margin:"10px",backgroundColor:"#55A537",color:"#fff"},onClick:function(){return ie(!0)},children:"Generar citas"}):null,Object(D.jsx)(ke,{openModalGenerateQuotes:ae,setOpenModalGenerateQuotes:ie,setListInfoPlans:f,detailPlan:v,idPaciente:A}),null!==(s=le[null===p||void 0===p?void 0:p.Estado_txt])&&void 0!==s&&s.Nota?Object(D.jsx)(j.a,{style:{margin:"10px",backgroundColor:"#87999b",color:"#FFF"},onClick:function(){return Oe(!0)},children:"Nota Administrativa"}):null,Object(D.jsx)(Pe,{open:xe,setOpen:Oe,idPaciente:A,detailPlan:v,getInfo:g,getDataPlains:y,idPrograma:p.idPrograma})]}),Object(D.jsx)(x.a,{}),Object(D.jsx)(_.a,{id:"form",form:F,name:"form",autoComplete:"off",layout:"vertical",children:Object(D.jsxs)("div",{className:"row",children:[Object(D.jsx)("div",{className:"col-12 col-md-2",children:Object(D.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(D.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Creado en:"}),Object(D.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(D.jsx)(Qe,{children:E()(p.creado,"ddd MMM DD YYYY HH:mm:ss (ZZ)").format("YYYY-MM-DD HH:mm")})})]})}),Object(D.jsx)("div",{className:"col-12 col-md-2",children:Object(D.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(D.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Fecha inscripci\xf3n:"}),Object(D.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(D.jsx)(Qe,{children:E()(p.fecha_inscripcion,"ddd MMM DD YYYY").format("YYYY-MM-DD")})})]})}),Object(D.jsx)("div",{className:"col-12 col-md-2",children:Object(D.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(D.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Fecha activaci\xf3n:"}),Object(D.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(D.jsx)(Qe,{children:E()(null===p||void 0===p?void 0:p.fecha_activacion,"ddd MMM DD YYYY").format("YYYY-MM-DD")})})]})}),Object(D.jsx)("div",{className:"col-12 col-md-2",children:Object(D.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(D.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Fecha renovaci\xf3n:"}),Object(D.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(D.jsx)(Qe,{children:E()(p.fecha_renovacion,"ddd MMM DD YYYY").format("YYYY-MM-DD")})})]})}),Object(D.jsx)("div",{className:"col-12 col-md-2",children:Object(D.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(D.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"SubPrograma:"}),Object(D.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(D.jsx)(Qe,{children:p.Sub_Programa_txt})})]})}),Object(D.jsx)("div",{className:"col-12 col-md-2",children:Object(D.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(D.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Renovaci\xf3n:"}),Object(D.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(D.jsx)(ce.a,{checked:p.renovacion,disabled:!0})})]})}),Object(D.jsx)("div",{className:"col-12 col-md-2",children:Object(D.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(D.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Programa:"}),Object(D.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(D.jsx)(Qe,{children:p.programa})})]})}),Object(D.jsx)("div",{className:"col-12 col-md-2",children:Object(D.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(D.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Sede:"}),Object(D.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(D.jsx)(Qe,{children:p.Sede_txt})})]})}),Object(D.jsx)("div",{className:"col-12 col-md-2",children:Object(D.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(D.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Ciudad:"}),Object(D.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(D.jsx)(Qe,{children:p.ciudad})})]})}),Object(D.jsx)("div",{className:"col-12 col-md-2",children:Object(D.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(D.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Estadio:"}),Object(D.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(D.jsx)(Qe,{children:p.estadio})})]})}),Object(D.jsx)("div",{className:"col-12 col-md-2",children:Object(D.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(D.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Clasificacion Bim/Trim:"}),Object(D.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(D.jsx)(Qe,{children:p.csBT})})]})}),Object(D.jsx)("div",{className:"col-12 col-md-2",children:Object(D.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(D.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"1era vez:"}),Object(D.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(D.jsx)(ce.a,{checked:p.primera_vez,disabled:!0})})]})}),Object(D.jsx)("div",{className:"col-12 col-md-2",children:Object(D.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(D.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Contrato Gomedisys:"}),Object(D.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(D.jsx)(Qe,{children:p.contratoGomedisys})})]})}),Object(D.jsx)("div",{className:"col-12 col-md-2",children:Object(D.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(D.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Contrato Plan Gomedisys:"}),Object(D.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(D.jsx)(Qe,{children:p.contrato_plan})})]})}),Object(D.jsx)("div",{className:"col-12 col-md-2",children:Object(D.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(D.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Clasificacion Bomba:"}),Object(D.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(D.jsx)(Qe,{children:p.csBomba})})]})})]})}),Object(D.jsx)(x.a,{}),Object(D.jsxs)(b.a,{children:[null!=p.idEtAsistencial?Object(D.jsx)(O.a,{span:p.idEtAdmin?12:24,children:Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("div",{style:{fontSize:"15px",color:"#2d3d7d",fontWeight:"bold"},children:"Etiqueta Asistencial"}),Object(D.jsx)(x.a,{}),Object(D.jsxs)("div",{className:"d-flex align-items-center ",style:{margin:"10px"},children:[Object(D.jsx)("img",{src:(null===(r=Te[p.idEtAsistencial])||void 0===r?void 0:r.url)||Te.null.url,style:{height:"50px"},alt:"Descripci\xf3n del icono"}),Object(D.jsxs)("div",{children:[Object(D.jsxs)("div",{style:{color:"#3d3434",fontWeight:"bold"},children:[p.nameEtAsistencial,":"]}),Object(D.jsx)(de.a,{disabled:!0,checked:!0})]})]})]})}):null,null!=p.idEtAdmin?Object(D.jsx)(O.a,{span:p.idEtAsistencial?12:24,children:Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("div",{style:{fontSize:"15px",color:"#2d3d7d",fontWeight:"bold"},children:"Etiqueta Administrativa"}),Object(D.jsx)(x.a,{}),Object(D.jsxs)("div",{className:"d-flex align-items-center ",style:{margin:"10px"},children:[Object(D.jsx)("img",{src:(null===(u=Te[p.idEtAdmin])||void 0===u?void 0:u.url)||Te.null.url,style:{height:"50px"},alt:"Descripci\xf3n del icono"}),Object(D.jsxs)("div",{children:[Object(D.jsxs)("div",{style:{color:"#3d3434",fontWeight:"bold"},children:[p.nameEtAdmin,":"]}),Object(D.jsx)(de.a,{className:"my-element",disabled:!0,checked:!0})]})]})]})}):null]})]}),Object(D.jsx)(ze,{header:Object(D.jsx)("strong",{children:"Filtros"}),children:Object(D.jsx)(_.a,{onFinish:ot,form:B,autoComplete:"off",layout:"vertical",name:"form2",id:"form2",children:Object(D.jsxs)(b.a,{style:{flexDirection:"row"},gutter:[16,16],children:[Object(D.jsx)(O.a,{span:8,children:Object(D.jsx)(_.a.Item,{label:"Mes",name:"month",children:Object(D.jsx)(I.a,{style:{width:"100%"},options:ue.b,placeholder:"Seleccione un mes"})})}),Object(D.jsx)(O.a,{span:8,children:Object(D.jsx)(_.a.Item,{label:"A\xf1o",name:"year",children:Object(D.jsx)(V.a,{style:{width:"100%"},onChange:function(e,t){console.log(e.getFullYear,t)},picker:"year",placeholder:"Seleccione un a\xf1o"})})}),Object(D.jsx)(O.a,{span:8,children:Object(D.jsx)(_.a.Item,{label:"Origen",name:"origin",children:Object(D.jsx)(I.a,{style:{width:"100%"},options:R,placeholder:"Seleccione un origen"})})}),Object(D.jsx)(O.a,{span:8,children:Object(D.jsx)(_.a.Item,{label:"Examen",name:"exam",children:Object(D.jsx)(I.a,{style:{width:"100%"},options:H,placeholder:"Seleccione un examen"})})}),Object(D.jsx)(O.a,{span:8,children:Object(D.jsx)(_.a.Item,{label:"Pendiente",name:"pending",children:Object(D.jsx)(I.a,{style:{width:"100%"},options:se,placeholder:"Seleccione una opci\xf3n",defaultValue:void 0})})}),Object(D.jsx)(O.a,{span:8,children:Object(D.jsx)(_.a.Item,{label:"Disentido",name:"dissent",children:Object(D.jsx)(I.a,{style:{width:"100%"},options:se,placeholder:"Seleccione una opci\xf3n",defaultValue:void 0})})}),Object(D.jsx)(O.a,{span:8,children:Object(D.jsx)(_.a.Item,{label:"Contrato Plan",name:"plan",children:Object(D.jsx)(I.a,{style:{width:"100%"},options:G,placeholder:"Seleccione"})})}),Object(D.jsxs)(O.a,{style:{display:"flex",justifyContent:"flex-end",alignItems:"flex-end"},span:24,children:[Object(D.jsx)(j.a,{htmlType:"submit",type:"primary",children:"Filtrar"}),Object(D.jsx)(j.a,{onClick:function(){B.resetFields(),ot(void 0)},children:"Limpiar Filtros"})]})]})})})]}),Object(D.jsx)(x.a,{}),Object(D.jsx)("div",{className:"gx-timeline-section gx-timeline-center",children:null===m||void 0===m?void 0:m.map((function(e,t){return Object(D.jsx)(pe,{styleName:t%2===0?"":"gx-timeline-inverted",timeLine:e,idPaciente:A,getData:h,setListInfoPlans:f,viewButton:P,detailPlan:v,idPrograma:p.idPrograma},t)}))})]})},Je=function(e){var t=e.id,n=e.getInfo,a=Object(d.useState)([]),s=Object(o.a)(a,2),r=s[0],u=s[1],b=Object(d.useState)(null),x=Object(o.a)(b,2),O=x[0],v=x[1],A=Object(d.useState)(!1),m=Object(o.a)(A,2),f=m[0],p=m[1],h=Object(d.useState)(!1),g=Object(o.a)(h,2),y=g[0],C=g[1],w=Object(d.useState)(!1),_=Object(o.a)(w,2),P=_[0],I=_[1],N=Object(d.useState)({creado:"",fecha_inscripcion:"",fecha_activacion:"",fecha_renovacion:"",Sub_Programa_txt:"",renovacion:!1,programa:"",contrato_sede:"",ciudad:"",estadio:"",contrato_plan:"",primera_vez:!1}),F=Object(o.a)(N,2),M=F[0],B=F[1],Y=Object(d.useState)(null),q=Object(o.a)(Y,2),R=q[0],T=q[1],z=l.a.useNotification(),Q=Object(o.a)(z,2),H=Q[0],J=Q[1],L=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(!0),W(),e.next=4,Object(k.E)(t);case 4:n=e.sent,u(n),console.log("data rutas atencion",n),I(!1),K();case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){me.a.fire({title:"Cargando...",text:"Por favor, espera un momento..",icon:"info",allowOutsideClick:!1,allowEscapeKey:!1,focusConfirm:!1,showConfirmButton:!1,showCloseButton:!1,didOpen:function(){me.a.showLoading()}})},K=function(){me.a.close()};Object(d.useEffect)((function(){t&&L()}),[]);var V=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var t,n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(!0),W(),e.next=4,Object(k.dc)(O);case 4:return t=e.sent,B(t),e.next=8,Object(k.M)(O);case 8:n=e.sent,T(n),console.log("Array de arrays pro: ",n),I(!1),K();case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(d.useEffect)((function(){f&&O&&(console.log(O),V())}),[f,O]);var U=[{title:"Plan",dataIndex:"contrato_sede",key:"contrato_sede",render:function(e){return Object(D.jsx)("strong",{children:e})}},{title:"Ciudad",dataIndex:"ciudad",key:"ciudad",render:function(e){return Object(D.jsx)(D.Fragment,{children:e})}},{title:"Estadio",dataIndex:"estadio",key:"estadio",render:function(e){return Object(D.jsx)(D.Fragment,{children:e})}},{title:"Fecha activaci\xf3n",dataIndex:"fecha_activacion",render:function(e){return E()(e).format("DD/MM/YYYY")}},{title:"Renovaci\xf3n",dataIndex:"renovacion",key:"Observacion_Seguimiento",render:function(e){return Object(D.jsx)(ce.a,{disabled:!0,checked:e})}},{title:"1ra vez",dataIndex:"primera_vez",key:"Observacion_Seguimiento",render:function(e){return Object(D.jsx)(ce.a,{disabled:!0,checked:e})}},{title:"Programa",dataIndex:"programa",key:"programa",render:function(e){return Object(D.jsx)("strong",{children:e})}},{title:"Sub programa",dataIndex:"Sub_Programa_txt",key:"Sub_Programa_txt"},{title:"Estado",dataIndex:"estado",key:"estado",render:function(e){var t,n;return Object(D.jsx)(ie.a,{style:{width:"100%"},color:null===(t=Oe.d[e])||void 0===t?void 0:t.color,children:null===(n=Oe.d[e])||void 0===n?void 0:n.text})}},{title:"Acciones",key:"action",align:"center",render:function(e){return Object(D.jsx)(G.a,{title:"Ver",children:Object(D.jsx)(j.a,{onClick:Object(i.a)(Object(c.a)().mark((function t(){var n;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(I(!0),W(),"Creado"===e.estado){t.next=12;break}return console.log("Sirve ver",e),t.next=6,Object(k.e)(e.id);case 6:return t.next=8,Object(k.f)(e.id);case 8:return t.next=10,Object(k.a)(e.id);case 10:(n=t.sent)&&(console.log(n),1==n.Tomo_Laboratorios?H.open({type:"info",message:"Alerta",description:"El paciente tomo los laboratorios. ".concat(n.Resultado_Laboratorio)}):0==n.Tomo_Laboratorios&&H.open({type:"info",message:"Alerta",description:"El paciente no ha tomado los laboratorios!.",icon:Object(D.jsx)(oe.a,{style:{color:"#e0db03"}})}));case 12:C(!0),v(e.id),p(!0),I(!1),K();case 17:case"end":return t.stop()}}),t)}))),children:Object(D.jsx)(te.a,{})})})}}];return Object(D.jsxs)(D.Fragment,{children:[J,Object(D.jsx)(S.a,{width:"1200px",title:"Ruta Atenci\xf3n",open:f,onCancel:function(){p(!1),C(!1)},children:Object(D.jsx)(He,{detailPlan:O,idPaciente:t,listInfoPlans:R,setListInfoPlans:T,detailPlans:M,getData:V,getInfo:n,getDataPlains:V,setDataList:u,viewButton:y})}),Object(D.jsx)(X.a,{columns:U,loading:P,dataSource:r,scroll:{x:1300}})]})},Le=n(988),We=n(989),Ke=n(987),Ge=function(e){var t=e.id,n=e.activeKey,a=Object(d.useState)([]),l=Object(o.a)(a,2),s=l[0],r=l[1],u=Object(d.useState)(),b=Object(o.a)(u,2),x=b[0],O=b[1],v=w.b.useMessage(),A=Object(o.a)(v,2),m=A[0],f=A[1],p=Object(d.useState)(!1),h=Object(o.a)(p,2),g=h[0],y=h[1],C=Object(d.useState)(!1),S=Object(o.a)(C,2),_=S[0],P=(S[1],function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.Tb)(t);case 2:n=e.sent,r(n),console.log("data rutas atencion",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());Object(d.useEffect)((function(){t&&"1"===n&&P()}),[t,n]);var I=function(){var e=Object(i.a)(Object(c.a)().mark((function e(t){var n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.z)(t);case 2:if(n=e.sent,console.log("eliminado: ",n),"fail"!==(null===n||void 0===n?void 0:n.status)){e.next=9;break}return e.next=7,m.open({type:"error",content:(null===n||void 0===n?void 0:n.message)||"error"});case 7:e.next=12;break;case 9:if("ok"!==(null===n||void 0===n?void 0:n.status)){e.next=12;break}return e.next=12,m.open({type:"success",content:"Eliminada correctamente"});case 12:P();case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=[{title:"Cita",dataIndex:"name",key:"name",render:function(e){return Object(D.jsx)("strong",{children:e})}},{title:"Fecha Cita",dataIndex:"Fecha_Cita",key:"Fecha_Cita",render:function(e){return Object(D.jsx)("strong",{children:E()(e).format("DD/MM/YYYY HH:MM")})}},{title:"Duraci\xf3n",dataIndex:"duracion",key:"duracion"},{title:"Profesional",dataIndex:"Profesional_txt",key:"Profesional_txt",render:function(e){return Object(D.jsx)(D.Fragment,{children:e})}},{title:"Sede",dataIndex:"Sedetxt",key:"Sedetxt",render:function(e){return Object(D.jsx)(D.Fragment,{children:e})}},{title:"Canal Atenci\xf3n",dataIndex:"Canal_Atencion_txt",key:"Canal_Atencion_txt"},{title:"Plan Mensual",dataIndex:"Plan_Mensual_txt",key:"Plan_Mensual_txt"},{title:"Codigo Tipo",dataIndex:"Codigo_Tipo",key:"Codigo_Tipo"},{title:"Examen",dataIndex:"nameExam",key:"nameExam"},{title:"Estado",dataIndex:"Estado_Txt",render:function(e){var t;return Object(D.jsx)(ie.a,{style:{width:"100%"},color:null===(t=Oe.c[e])||void 0===t?void 0:t.color,children:e})}},{title:"Acciones",key:"action",align:"center",render:function(e){return Object(D.jsx)(G.a,{trigger:"click",placement:"top",color:"#ffff",title:Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(G.a,{title:"Ver",children:Object(D.jsx)(j.a,{onClick:Object(i.a)(Object(c.a)().mark((function t(){return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("Sirve ver",e),O(e),y(!0);case 3:case"end":return t.stop()}}),t)}))),children:Object(D.jsx)(te.a,{})})}),Object(D.jsx)(G.a,{title:"Agendar",children:Object(D.jsx)(j.a,{disabled:"Cancelado"==e.Estado_Txt||"Asistida"==e.Estado_Txt||"Finalizada"==e.Estado_Txt||"Solicitada"==e.Estado_Txt||"No Asistida"==e.Estado_Txt,onClick:Object(i.a)(Object(c.a)().mark((function t(){var n;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sirve Agendar",e),t.next=3,Object(k.Gc)(e.id);case 3:if("fail"!==(null===(n=t.sent)||void 0===n?void 0:n.status)){t.next=9;break}return t.next=7,m.open({type:"error",content:(null===n||void 0===n?void 0:n.message)||"error"});case 7:t.next=12;break;case 9:if("ok"!==(null===n||void 0===n?void 0:n.status)){t.next=12;break}return t.next=12,m.open({type:"success",content:"Agendada exitosamente"});case 12:case"end":return t.stop()}}),t)}))),children:Object(D.jsx)(Le.a,{})})}),Object(D.jsx)(G.a,{title:"Eliminar",children:Object(D.jsx)(j.a,{disabled:"Cancelado"==e.Estado_Txt||"Asistida"==e.Estado_Txt||"Finalizada"==e.Estado_Txt||"Solicitada"==e.Estado_Txt||"No Asistida"==e.Estado_Txt,onClick:Object(i.a)(Object(c.a)().mark((function t(){return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("Sirve eliminar",e),I(e.id);case 2:case"end":return t.stop()}}),t)}))),children:Object(D.jsx)(We.a,{})})})]}),children:Object(D.jsx)(j.a,{children:Object(D.jsx)(Ke.a,{})})})}}];return Object(D.jsxs)(D.Fragment,{children:[f,Object(D.jsx)(ve.a,{open:g,setOpen:y,dataRow:x,idPaciente:t,setDataTablePm:null,setListInfoPlans:null,detailPlan:null,idPm:null}),Object(D.jsx)(X.a,{columns:N,loading:_,dataSource:s,scroll:{x:1300}})]})},Ve=n(960),Xe=(n(959),n(515),n(956),n(378)),Ue=Object(Ve.b)(E.a);E.a.locale("es");var Ze={today:"Hoy",previous:"Anterior",next:"Siguiente",month:"Mes",week:"Semana",day:"D\xeda"},$e=function(e){var t=e.id,n=e.activeKey,a=Object(d.useState)(!1),l=Object(o.a)(a,2),s=l[0],r=l[1],u=Object(d.useState)(),b=Object(o.a)(u,2),x=b[0],O=b[1],v=Object(d.useState)([]),A=Object(o.a)(v,2),m=A[0],f=A[1],p=Object(d.useState)(!1),h=Object(o.a)(p,2),g=h[0],y=(h[1],w.b.useMessage()),C=Object(o.a)(y,2),S=C[0],_=C[1],P=new Date;P.setHours(6,0,0,0);var I=new Date;I.setHours(23,0,0,0);var N=function(){var e=document.querySelector(".popover-calendar");e&&(e.style.display="none")};Object(d.useEffect)((function(){t&&"2"===n&&F()}),[t,n]);var F=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var n,a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.Tb)(t);case 2:n=e.sent,console.log(n),a=null===n||void 0===n?void 0:n.map((function(e){var t,n,a;return{title:Object(D.jsx)(D.Fragment,{children:Object(D.jsx)(Xe.a,{trigger:"click",className:"popover-calendar",content:Object(D.jsx)(D.Fragment,{children:Object(D.jsxs)("div",{className:"row",style:{maxWidth:"400px"},children:[Object(D.jsx)("div",{className:"col-12 col-md-3",children:Object(D.jsx)("div",{className:"calendar-date-text",style:{backgroundColor:null===(t=Oe.c[null===e||void 0===e?void 0:e.Estado_Txt])||void 0===t?void 0:t.color},children:E()(new Date(null===e||void 0===e?void 0:e.Fecha_Cita)).format("DD MMM")})}),Object(D.jsxs)("div",{className:"col info-text-popover",children:[Object(D.jsxs)("h5",{className:"mb-3",children:["Cita ",(null===e||void 0===e?void 0:e.name)||"-"]}),Object(D.jsxs)("div",{className:"mb-3",children:["Profesional: ",(null===e||void 0===e?void 0:e.Profesional_txt)||"-"]}),Object(D.jsxs)("div",{children:["Estado: ",Object(D.jsx)("span",{children:(null===e||void 0===e?void 0:e.Estado_Txt)||"-"})]}),Object(D.jsxs)("div",{children:["Sede Sies: ",Object(D.jsx)("span",{children:(null===e||void 0===e?void 0:e.Sedetxt)||"-"})]}),Object(D.jsxs)("div",{children:["Ciudad: ",Object(D.jsx)("span",{children:(null===e||void 0===e?void 0:e.Ciudad_Txt)||"-"})]}),Object(D.jsxs)("div",{children:["Canal Atenci\xf3n:",Object(D.jsx)("span",{children:(null===e||void 0===e?void 0:e.Canal_Atencion_txt)||"-"})]}),Object(D.jsxs)("div",{children:["Plan Mensual:",Object(D.jsx)("span",{children:(null===e||void 0===e?void 0:e.Plan_Mensual_txt)||"-"})]}),Object(D.jsxs)("div",{children:["Codigo Tipo:",Object(D.jsx)("span",{children:(null===e||void 0===e?void 0:e.Codigo_Tipo)||"-"})]}),Object(D.jsxs)("div",{children:["Examen:",Object(D.jsx)("span",{children:(null===e||void 0===e?void 0:e.nameExam)||"-"})]}),Object(D.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-evenly"},children:[Object(D.jsx)(G.a,{title:"Ver",children:Object(D.jsx)(j.a,{onClick:Object(i.a)(Object(c.a)().mark((function t(){return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("Sirve",e),N(),r(!0),O(e);case 4:case"end":return t.stop()}}),t)}))),children:Object(D.jsx)(te.a,{})})}),Object(D.jsx)(G.a,{title:"Agendar",children:Object(D.jsx)(j.a,{disabled:"Cancelado"==(null===e||void 0===e?void 0:e.Estado_Txt)||"Asistida"==(null===e||void 0===e?void 0:e.Estado_Txt)||"Finalizada"==(null===e||void 0===e?void 0:e.Estado_Txt)||"Solicitada"==(null===e||void 0===e?void 0:e.Estado_Txt)||"No Asistida"==(null===e||void 0===e?void 0:e.Estado_Txt),onClick:Object(i.a)(Object(c.a)().mark((function t(){var n;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sirve Agendar",e),t.next=3,Object(k.Gc)(e.id);case 3:if("fail"!==(null===(n=t.sent)||void 0===n?void 0:n.status)){t.next=9;break}return t.next=7,S.open({type:"error",content:(null===n||void 0===n?void 0:n.message)||"error"});case 7:t.next=12;break;case 9:if("ok"!==(null===n||void 0===n?void 0:n.status)){t.next=12;break}return t.next=12,S.open({type:"success",content:"Agendada exitosamente"});case 12:case"end":return t.stop()}}),t)}))),children:Object(D.jsx)(Le.a,{})})}),Object(D.jsx)(G.a,{title:"Eliminar",children:Object(D.jsx)(j.a,{disabled:"Cancelado"==(null===e||void 0===e?void 0:e.Estado_Txt)||"Asistida"==(null===e||void 0===e?void 0:e.Estado_Txt)||"Finalizada"==(null===e||void 0===e?void 0:e.Estado_Txt)||"Solicitada"==(null===e||void 0===e?void 0:e.Estado_Txt)||"No Asistida"==(null===e||void 0===e?void 0:e.Estado_Txt),onClick:Object(i.a)(Object(c.a)().mark((function t(){var n;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sirve eliminar",e),t.next=3,Object(k.z)(e.id);case 3:if(n=t.sent,console.log("eliminado: ",n),"fail"!==(null===n||void 0===n?void 0:n.status)){t.next=10;break}return t.next=8,S.open({type:"error",content:(null===n||void 0===n?void 0:n.message)||"error"});case 8:t.next=13;break;case 10:if("ok"!==(null===n||void 0===n?void 0:n.status)){t.next=13;break}return t.next=13,S.open({type:"success",content:"Eliminada correctamente"});case 13:F();case 14:case"end":return t.stop()}}),t)}))),children:Object(D.jsx)(We.a,{})})})]})]})]})}),children:Object(D.jsx)("span",{className:"span-calendar-text",children:Object(D.jsx)(ie.a,{style:{width:"100%",height:"100%"},color:null===(n=Oe.c[null===e||void 0===e?void 0:e.Estado_Txt])||void 0===n?void 0:n.color,children:null===(a=Oe.c[null===e||void 0===e?void 0:e.Estado_Txt])||void 0===a?void 0:a.text})})})}),start:new Date(null===e||void 0===e?void 0:e.Fecha_Cita),end:new Date(null===e||void 0===e?void 0:e.Fecha_Cita_Fin)}})),f(a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(ve.a,{open:s,setOpen:r,dataRow:x,idPaciente:t}),Object(D.jsx)(Ve.a,{loading:g,localizer:Ue,events:m,startAccessor:"start",endAccessor:"end",defaultView:"week",messages:Ze,min:P,max:I}),_]})},et=function(e){var t=e.id,n=e.activeKey,a=Object(d.useState)([]),l=Object(o.a)(a,2),s=l[0],r=l[1],u=w.b.useMessage(),j=Object(o.a)(u,2),b=(j[0],j[1]),x=Object(d.useState)(!1),O=Object(o.a)(x,2),v=O[0],A=(O[1],function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.Vb)(t,null);case 2:n=e.sent,r(n),console.log("data Remisiones",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());Object(d.useEffect)((function(){t&&"3"==n&&A()}),[t,n]);var m=[{title:"Secuencia",dataIndex:"name",key:"name",render:function(e){return Object(D.jsx)("strong",{children:e})}},{title:"Fecha Cita",dataIndex:"Fecha_Cita",key:"Fecha_Cita",render:function(e){return Object(D.jsx)("strong",{children:E()(e).format("DD/MM/YYYY HH:MM")})}},{title:"Especialidad",dataIndex:"Especialidad_txt",key:"Especialidad_txt",render:function(e){return Object(D.jsx)("strong",{children:e})}},{title:"Mes Remision",dataIndex:"MesRemision",key:"MesRemision",render:function(e){return Object(D.jsx)(D.Fragment,{children:e})}},{title:"Canal Atenci\xf3n",dataIndex:"CanalRemision",key:"CanalRemision"},{title:"Remitente",dataIndex:"Remitente_txt",key:"Remitente_txt"},{title:"Resultado",dataIndex:"Resultado",key:"Resultado"},{title:"Estado",dataIndex:"Estado_txt",render:function(e){var t;return Object(D.jsx)(ie.a,{style:{width:"100%"},color:null===(t=Oe.f[e])||void 0===t?void 0:t.color,children:e})}}];return Object(D.jsxs)(D.Fragment,{children:[b,Object(D.jsx)(X.a,{columns:m,loading:v,dataSource:s,scroll:{x:1100}})]})};t.default=function(){var e=Object(u.i)().id,t=l.a.useNotification(),n=Object(o.a)(t,2),j=n[0],b=n[1],x=Object(u.h)(),O=Object(d.useState)("1"),v=Object(o.a)(O,2),A=v[0],m=v[1],f=Object(d.useState)(null),p=Object(o.a)(f,2),h=p[0],g=p[1],y=Object(d.useState)("paciente"),C=Object(o.a)(y,2),E=C[0],w=C[1],S=Object(d.useState)(void 0),_=Object(o.a)(S,2),P=_[0],I=_[1],N=Object(d.useState)(null),F=Object(o.a)(N,2),M=(F[0],F[1]),B=function(){var e=Object(i.a)(Object(c.a)().mark((function e(t){var n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.D)(t);case 2:n=e.sent,M(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(d.useEffect)(Object(i.a)(Object(c.a)().mark((function t(){var n,i,o,l,s,r,d;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return I("numero_document"===(null===x||void 0===x||null===(n=x.state)||void 0===n?void 0:n.type)),localStorage.setItem("idPaciente",e),t.next=4,Object(k.fc)(e,"numero_document"===(null===x||void 0===x||null===(i=x.state)||void 0===i?void 0:i.type));case 4:if(o=t.sent,g(o),B(e),!x.state){t.next=29;break}if(l=x.state.detail,console.log(l),!(l.length>0)){t.next=29;break}s=Object(a.a)(l),t.prev=12,s.s();case 14:if((r=s.n()).done){t.next=21;break}return d=r.value,j.open({type:"info",description:" ".concat(null===d||void 0===d?void 0:d.cambio)}),t.next=19,Object(k.p)(null===d||void 0===d?void 0:d.id);case 19:t.next=14;break;case 21:t.next=26;break;case 23:t.prev=23,t.t0=t.catch(12),s.e(t.t0);case 26:return t.prev=26,s.f(),t.finish(26);case 29:case"end":return t.stop()}}),t,null,[[12,23,26,29]])}))),[e]);var Y={paciente:[{key:"1",label:"Informacion Paciente",children:Object(D.jsx)(W,{type:P,id:null===h||void 0===h?void 0:h.id,activeKey:A,idPaciente:e})}],citas:[{key:"1",label:"Modo Lista",children:Object(D.jsx)(Ge,{id:e,activeKey:A})},{key:"2",label:"Modo Calendario",children:Object(D.jsx)($e,{id:e,activeKey:A})},{key:"3",label:"Citas Remisiones",children:Object(D.jsx)(et,{id:e,activeKey:A})}]},q={notas:Object(D.jsx)(ae,{id:null===h||void 0===h?void 0:h.id,activeKey:A}),rutas:Object(D.jsx)(Je,{id:null===h||void 0===h?void 0:h.id,activeKey:A,getInfo:B}),citas:Object(D.jsx)(Ge,{id:null===h||void 0===h?void 0:h.id,activeKey:A})};return Object(D.jsxs)(D.Fragment,{children:[b,Object(D.jsxs)("div",{className:"gx-profile-banner",style:{display:"flex",justifyContent:"space-between",padding:"32px 32px 70px"},children:[Object(D.jsxs)("div",{className:"gx-profile-container",children:[Object(D.jsx)("div",{className:"gx-profile-banner-top",style:{justifyContent:"space-between",marginBottom:"62px"},children:Object(D.jsx)("div",{className:"gx-profile-banner-top-left",children:Object(D.jsxs)("div",{className:"gx-profile-banner-avatar-info",children:[Object(D.jsxs)("h2",{className:"gx-mb-2 gx-mb-sm-3 gx-fs-xxl gx-font-weight-light",children:[null===h||void 0===h?void 0:h.nombre," ",null===h||void 0===h?void 0:h.apellido]}),Object(D.jsxs)("p",{className:"gx-mb-0 gx-fs-lg",children:[null===h||void 0===h?void 0:h.tipo_documento," ",null===h||void 0===h?void 0:h.numero_documento]})]})})}),Object(D.jsxs)("div",{className:"gx-profile-banner-bottom",children:[Object(D.jsx)("div",{className:"gx-tab-list",children:Object(D.jsxs)("ul",{className:"gx-navbar-nav",children:[Object(D.jsx)("li",{onClick:function(){return w("paciente")},children:Object(D.jsx)("span",{className:"gx-link",children:"Detalle del paciente"})}),Object(D.jsx)("li",{onClick:function(){return w("notas")},children:Object(D.jsx)("span",{className:"gx-link",children:"Notas Administrativas"})}),Object(D.jsx)("li",{onClick:function(){return w("rutas")},children:Object(D.jsx)("span",{className:"gx-link",children:"Rutas de Atenci\xf3n"})}),Object(D.jsx)("li",{onClick:function(){return w("citas")},children:Object(D.jsx)("span",{className:"gx-link",children:"Citas"})})]})}),Object(D.jsx)("span",{className:"gx-link gx-profile-setting"})]})]}),Object(D.jsx)("div",{style:{marginBottom:"0px",width:"440px"}})]}),Object(D.jsxs)(s.a,{style:{zIndex:2},children:["notas"===E?q[E]:null,"rutas"===E?q[E]:null,Object(D.jsx)(r.a,{defaultActiveKey:"1",items:Y[E],onChange:function(e){console.log("Key: "+e),m(e)}})]})]})}}}]);
//# sourceMappingURL=7.f152742d.chunk.js.map
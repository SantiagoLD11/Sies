(this["webpackJsonpwieldy-hook"]=this["webpackJsonpwieldy-hook"]||[]).push([[9],{945:function(e,t,n){},947:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var a=n(6),c=n(12),i=n(5),o=n(0),l=n(977),r=n(507),s=n(509),d=n(926),j=n(78),u=n(934),b=n(21),x=n(81),v=n.n(x),O=n(506),f=n(145),h=n(160),m=n(1),p=O.a.TextArea,g=function(e){var t=e.isModalCancel,n=e.setIsModalCancel,l=e.dataRow,s=e.getInfo,u=e.isCancel,x=f.a.useForm(),v=Object(i.a)(x,1)[0],O=Object(o.useState)(!1),g=Object(i.a)(O,2),y=g[0],k=g[1],w=Object(o.useState)(null),_=Object(i.a)(w,2),C=_[0],S=_[1],D=r.b.useMessage(),I=Object(i.a)(D,2),E=I[0],M=I[1];Object(o.useEffect)(Object(c.a)(Object(a.a)().mark((function e(){var t;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.vb)();case 2:t=e.sent,S(t);case 4:case"end":return e.stop()}}),e)}))),[]);var N=function(){n(!1),v.resetFields()},F=function(){var e=Object(c.a)(Object(a.a)().mark((function e(){var t,c;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=v.getFieldsValue(),c={idCita:null===l||void 0===l?void 0:l.id,Motivo:null===t||void 0===t?void 0:t.motivo,TexA:null===t||void 0===t?void 0:t.observacion},k(!0),e.next=5,Object(b.o)(c);case 5:if("ok"!=e.sent.status){e.next=11;break}return e.next=9,E.open({type:"success",content:u?"Cita cancelada exitosamente":"Cita reagendada exitosamente"});case 9:e.next=13;break;case 11:return e.next=13,E.open({type:"error",content:"error"});case 13:if(!u){e.next=18;break}return e.next=16,Object(b.Bc)(c.idCita);case 16:e.next=20;break;case 18:return e.next=20,Object(b.Ec)(c.idCita);case 20:k(!1),n(!1),s();case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)(d.a,{title:u?"Cancelar Cita":"Reagendar Cita",open:t,onCancel:N,footer:[Object(m.jsx)(j.a,{onClick:N,children:"Cancelar"},"button-cancel"),Object(m.jsx)(j.a,{loading:y,onClick:v.submit,children:"Confirmar"},"button-integrar")],children:[M,Object(m.jsxs)(f.a,{colon:!1,onFinish:F,form:v,autoComplete:"off",layout:"vertical",children:[Object(m.jsx)(f.a.Item,{label:"Motivo cancelaci\xf3n",name:"motivo",rules:[{required:!0,message:"Campo obligatorio"}],style:{marginBottom:"20px"},children:Object(m.jsx)(h.a,{className:"w-100",placeholder:"Selecciona un motivo cancelaci\xf3n",options:C})}),Object(m.jsx)(f.a.Item,{label:"Observaci\xf3n",name:"observacion",rules:[{required:!0,message:"Campo obligatorio"}],style:{marginBottom:"20px"},children:Object(m.jsx)(p,{className:"w-100",rows:4})})]})]})},y=n(306),k=l.a.Text,w=function(e){var t=e.open,n=e.setOpen,l=e.dataRow,x=e.idPaciente,O=e.setOpenPopover,f=e.viewButton,h=Object(o.useState)([]),p=Object(i.a)(h,2),w=p[0],_=p[1],C=Object(o.useState)({}),S=Object(i.a)(C,2),D=S[0],I=S[1],E=r.b.useMessage(),M=Object(i.a)(E,2),N=M[0],F=M[1],T=Object(o.useState)(!1),A=Object(i.a)(T,2),H=A[0],Y=A[1],q=Object(o.useState)(!1),P=Object(i.a)(q,2),R=P[0],z=P[1];Object(o.useEffect)((function(){x&&!0===t&&W()}),[t]);var W=function(){var e=Object(c.a)(Object(a.a)().mark((function e(){var t,n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.R)(l.id);case 2:return t=e.sent,I(t),console.log(l),console.log("Llego: ",t),e.next=8,Object(b.Tb)(x,l.id);case 8:n=e.sent,console.log("Datatable: ",n),_(n);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){return n(!1)},L=[{title:"Fecha Cita",dataIndex:"Fecha_Cita",key:"Fecha_Cita",render:function(e){return Object(m.jsx)("strong",{children:v()(e).format("DD/MM/YYYY")})}},{title:"Mes Remision",dataIndex:"MesRemision",key:"MesRemision"},{title:"Estado",dataIndex:"Estado_txt",render:function(e){var t;return Object(m.jsx)(s.a,{style:{width:"100%"},color:null===(t=y.f[e])||void 0===t?void 0:t.color,children:e})}},{title:"Especialidad",dataIndex:"Especialidad_txt",key:"Especialidad_txt"},{title:"Canal Remision",dataIndex:"CanalRemision",key:"CanalRemision"},{title:"Resultado",dataIndex:"Resultado",key:"Resultado"}];return Object(m.jsxs)(m.Fragment,{children:[F,Object(m.jsxs)(d.a,{width:null!=w?"70%":"52%",title:"Cita: ".concat(null===l||void 0===l?void 0:l.name),open:t,onCancel:B,footer:[Object(m.jsx)(m.Fragment,{children:f?Object(m.jsx)(j.a,{onClick:function(){O(!0),B()},children:"Atras"},"button-cancel"):null}),Object(m.jsx)(j.a,{onClick:B,children:"Cerrar"},"button-cancel")],children:[Object(m.jsxs)("div",{className:"row",children:[Object(m.jsxs)("div",{className:"col-12 col-md-12 row",children:[Object(m.jsx)("h4",{style:{fontWeight:"bold",textAlign:"left",width:"40%"},children:"INFORMACI\xd3N CITA"}),Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"row",width:"40%"},children:[Object(m.jsx)("label",{style:{fontWeight:"bold",textAlign:"left",width:"72px",fontSize:"18px"},children:"Estado:"}),Object(m.jsx)("div",{style:{display:"flex",width:"220px",fontSize:"18px"},children:Object(m.jsx)(k,{children:null===D||void 0===D?void 0:D.Estado_Txt})})]})]}),Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"75%"},children:[Object(m.jsx)("div",{className:"col-12 col-md-6",children:Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(m.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Ciudad:"}),Object(m.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(m.jsx)(k,{children:null===D||void 0===D?void 0:D.Ciudad_Txt})})]})}),Object(m.jsx)("div",{className:"col-12 col-md-6",children:Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(m.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Sede Sies"}),Object(m.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(m.jsx)(k,{children:null===D||void 0===D?void 0:D.Sedetxt})})]})}),Object(m.jsx)("div",{className:"col-12 col-md-6",children:Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(m.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Tipo Cita:"}),Object(m.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(m.jsx)(k,{children:null===D||void 0===D?void 0:D.Codigo_Tipo})})]})}),Object(m.jsx)("div",{className:"col-12 col-md-6",children:Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(m.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Plan Mensual:"}),Object(m.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(m.jsx)(k,{children:null===D||void 0===D?void 0:D.Plan_Mensual_txt})})]})}),Object(m.jsx)("div",{className:"col-12 col-md-6",children:Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(m.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Especialidad:"}),Object(m.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(m.jsx)(k,{children:null===D||void 0===D?void 0:D.Especialidad_txt})})]})}),Object(m.jsx)("div",{className:"col-12 col-md-6",children:Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(m.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Profesional:"}),Object(m.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(m.jsx)(k,{children:null===D||void 0===D?void 0:D.Profesional_txt})})]})}),Object(m.jsx)("div",{className:"col-12 col-md-6",children:Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(m.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Tipo Examen:"}),Object(m.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(m.jsx)(k,{children:null===D||void 0===D?void 0:D.nameExam})})]})})]}),Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"25%"},children:[Object(m.jsx)(j.a,{style:{backgroundColor:"#00ABC8",width:"130px",color:"#FFF"},onClick:Object(c.a)(Object(a.a)().mark((function e(){var t;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Sirve Agendar",l),e.next=3,Object(b.Ac)(l.id);case 3:if("fail"!==(null===(t=e.sent)||void 0===t?void 0:t.status)){e.next=9;break}return e.next=7,N.open({type:"error",content:(null===t||void 0===t?void 0:t.message)||"error"});case 7:e.next=12;break;case 9:if("ok"!==(null===t||void 0===t?void 0:t.status)){e.next=12;break}return e.next=12,N.open({type:"success",content:"Agendada exitosamente"});case 12:case"end":return e.stop()}}),e)}))),disabled:"Cancelado"==(null===l||void 0===l?void 0:l.Estado_Txt)||"Asistida"==(null===l||void 0===l?void 0:l.Estado_Txt)||"Finalizada"==(null===l||void 0===l?void 0:l.Estado_Txt)||"Solicitada"==(null===l||void 0===l?void 0:l.Estado_Txt)||"No Asistida"==(null===l||void 0===l?void 0:l.Estado_Txt),children:"Agendar"}),Object(m.jsx)(j.a,{style:{width:"130px"},onClick:Object(c.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Y(!0),z(!0);case 2:case"end":return e.stop()}}),e)}))),disabled:"Cancelado"==(null===l||void 0===l?void 0:l.Estado_Txt)||"Asistida"==(null===l||void 0===l?void 0:l.Estado_Txt)||"Finalizada"==(null===l||void 0===l?void 0:l.Estado_Txt)||"No Asistida"==(null===l||void 0===l?void 0:l.Estado_Txt),children:"Cancelar"}),Object(m.jsx)(g,{isModalCancel:H,setIsModalCancel:Y,dataRow:l,getInfo:W,isCancel:R}),Object(m.jsx)(j.a,{style:{width:"130px"},onClick:Object(c.a)(Object(a.a)().mark((function e(){var t;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.x)(l.id);case 2:if(t=e.sent,console.log("eliminado: ",t),"fail"!==(null===t||void 0===t?void 0:t.status)){e.next=9;break}return e.next=7,N.open({type:"error",content:(null===t||void 0===t?void 0:t.message)||"error"});case 7:e.next=12;break;case 9:if("ok"!==(null===t||void 0===t?void 0:t.status)){e.next=12;break}return e.next=12,N.open({type:"success",content:"Eliminada correctamente"});case 12:n(!1);case 13:case"end":return e.stop()}}),e)}))),disabled:"Cancelado"==(null===l||void 0===l?void 0:l.Estado_Txt)||"Asistida"==(null===l||void 0===l?void 0:l.Estado_Txt)||"Finalizada"==(null===l||void 0===l?void 0:l.Estado_Txt)||"Solicitada"==(null===l||void 0===l?void 0:l.Estado_Txt)||"No Asistida"==(null===l||void 0===l?void 0:l.Estado_Txt),children:"Eliminar"}),"No Asistida"==(null===D||void 0===D?void 0:D.Estado_Txt)?Object(m.jsx)(j.a,{style:{width:"130px"},onClick:Object(c.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Y(!0),z(!1);case 2:case"end":return e.stop()}}),e)}))),children:"Reagendar"}):null]})]}),"Cancelado"==(null===D||void 0===D?void 0:D.Estado_Txt)||"Reprogramada"==(null===D||void 0===D?void 0:D.Estado_Txt)?Object(m.jsx)("div",{className:"row",children:Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(m.jsx)("div",{className:"col-12 col-md-12",children:Object(m.jsx)("h4",{style:{fontWeight:"bold",textAlign:"left"},children:"CANCELACI\xd3N CITA"})}),Object(m.jsx)("div",{className:"col-12 col-md-12",children:Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(m.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Motivo Cancelaci\xf3n:"}),Object(m.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(m.jsx)(k,{children:null===D||void 0===D?void 0:D.Motivo_Cancelacin_txt})})]})}),Object(m.jsx)("div",{className:"col-12 col-md-12",children:Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(m.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Observaci\xf3n Cancelaci\xf3n:"}),Object(m.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(m.jsx)(k,{children:null===D||void 0===D?void 0:D.Observacin_Cancelacin})})]})})]})}):null,null!=w?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"row",children:Object(m.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:Object(m.jsx)("div",{className:"col-12 col-md-12",children:Object(m.jsx)("h4",{style:{fontWeight:"bold",textAlign:"left",marginTop:"10px"},children:"REMISIONES"})})})}),Object(m.jsx)(u.a,{style:{marginTop:"20px"},columns:L,loading:!1,dataSource:w})]}):null]})]})}},955:function(e,t,n){},978:function(e,t,n){"use strict";n.r(t);var a=n(943),c=n(6),i=n(12),o=n(5),l=n(352),r=n(936),s=n(502),d=n(0),j=n(63),u=(n(513),n(932)),b=n(1),x=function(e){e.infoGeneral;var t=e.examsProfessional,n=e.sedeProfessional,a=Object(d.useState)(null),c=Object(o.a)(a,2),i=(c[0],c[1]),l=Object(d.useState)(null),r=Object(o.a)(l,2),s=(r[0],r[1]);return Object(d.useEffect)((function(){var e=null===Math||void 0===Math?void 0:Math.floor((null===t||void 0===t?void 0:t.length)/2);i(null===t||void 0===t?void 0:t.slice(0,e)),s(null===t||void 0===t?void 0:t.slice(e))}),[t]),Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(u.a,{children:[Object(b.jsxs)("div",{className:"d-flex align-items-center",children:[Object(b.jsx)("img",{src:"/sies/assets/images/IconosMedicos/Examenes.png",style:{height:"50px"},alt:"Descripci\xf3n del icono"}),Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{style:{color:"#8c8c8c",fontWeight:"bold"},children:"Ex\xe1menes Habilitados:"}),Object(b.jsx)("ul",{children:null===t||void 0===t?void 0:t.map((function(e){return Object(b.jsx)("li",{children:e.Tipo_Examen_Txt||"Sin informaci\xf3n"},e.Tipo_Examen_Txt)}))})]})]}),Object(b.jsxs)("div",{className:"d-flex",style:{marginLeft:"20px"},children:[Object(b.jsx)("img",{src:"/sies/assets/images/IconosMedicos/Sedes.png",style:{height:"50px"},alt:"Descripci\xf3n del icono"}),Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{style:{color:"#8c8c8c",fontWeight:"bold"},children:"Sedes Habilitadas:"}),Object(b.jsx)("ul",{children:null===n||void 0===n?void 0:n.map((function(e){return Object(b.jsx)("li",{children:e.name||"Sin informaci\xf3n"},e.name)}))})]})]})]})})},v=n(21),O=n(934),f=n(81),h=n.n(f),m=function(e){var t=e.id,n=e.activeKey,a=Object(d.useState)([]),l=Object(o.a)(a,2),r=l[0],s=l[1],j=Object(d.useState)(!1),u=Object(o.a)(j,2),x=u[0],f=u[1],m=function(){var e=Object(i.a)(Object(c.a)().mark((function e(t){var n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,Object(v.yb)(t);case 3:n=e.sent,s(n),f(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(d.useEffect)((function(){t&&"3"===n&&m(t)}),[t,n]);var p=[{title:"Fecha de inicio",dataIndex:"fecha_inicio",key:"fecha_inicio",render:function(e){return Object(b.jsx)("strong",{children:h()(e).format("DD / MM / YYYY")})}},{title:"Fecha final",dataIndex:"fecha_final",key:"fecha_final",render:function(e){return h()(e).format("DD / MM / YYYY")}},{title:"Hora de inicio",dataIndex:"hora_inicio",key:"hora_inicio",render:function(e){var t=Math.floor(e/36e5),n=Math.floor(e%36e5/6e4);return"".concat((t<10?"0":"")+t,":").concat((n<10?"0":"")+n)}},{title:"Hora final",key:"hora_final",dataIndex:"hora_final",render:function(e){var t=Math.floor(e/36e5),n=Math.floor(e%36e5/6e4);return"".concat((t<10?"0":"")+t,":").concat((n<10?"0":"")+n)}},{title:"Tipo de agenda",dataIndex:"tipo_agenda",key:"tipo_agenda",render:function(e){return Object(b.jsx)("strong",{children:e})}},{title:"Motivo",dataIndex:"motivo",key:"motivo"},{title:"D\xedas Semana",dataIndex:"dias_semana",key:"dias_semana"},{title:"Creado Por",dataIndex:"creadoPor",key:"creadoPor",render:function(e){return Object(b.jsx)("strong",{children:e})}}];return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(O.a,{columns:p,loading:x,dataSource:r,scroll:{x:1300}})})},p=n(2),g=n(4),y=n(14),k=n(507),w=n(78),_=n(926),C=n(199),S=n(235),D=function(e){var t=e.id,n=e.rango,r=e.setDataImported,s=e.numeroDocumento,j=l.a.useNotification(),u=Object(o.a)(j,2),x=u[0],O=u[1],f=Object(d.useState)(!1),m=Object(o.a)(f,2),D=m[0],I=m[1],E=Object(d.useState)(!1),M=Object(o.a)(E,2),N=M[0],F=M[1],T=Object(d.useState)(!1),A=Object(o.a)(T,2),H=A[0],Y=A[1],q=Object(d.useState)({fecha_inicio:"",fecha_final:""}),P=Object(o.a)(q,2),R=P[0],z=P[1];function W(){return Object(y.a)(Array(6).keys())}Object(d.useEffect)((function(){console.log(n),Y(1===n)}),[n]);var B=k.b.useMessage(),L=Object(o.a)(B,2),K=L[0],V=L[1],G=function(){return F(!1)},J=function(e,t){z(Object(g.a)(Object(g.a)({},R),{},Object(p.a)({},t,new Date(e).getTime())))},Z=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var n,i,o,l,d,j,u,b;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(!0),e.prev=1,e.next=4,Object(v.Hc)(t,R.fecha_inicio,R.fecha_final,H?1:0);case 4:if("fail"!==(n=e.sent).status){e.next=8;break}return e.next=8,K.open({type:"error",content:(null===n||void 0===n?void 0:n.message)||"error"});case 8:if("ok"!==n.status){e.next=11;break}return e.next=11,K.open({type:"success",content:"Se Integro Correctamente la Disponibilidad"});case 11:e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(1),e.next=17,K.open({type:"error",content:(null===(i=e.t0.response)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.message)||"error"});case 17:return l={fecha_inicio:h()(R.fecha_inicio).format("YYYY-MM-DD HH:mm"),fecha_final:h()(R.fecha_final).format("YYYY-MM-DD HH:mm")},e.next=20,Object(v.hc)(s,l.fecha_inicio,l.fecha_final);case 20:if(d=e.sent){j=Object(a.a)(d);try{for(j.s();!(u=j.n()).done;)b=u.value,x.open({type:"info",description:" ".concat(null===b||void 0===b?void 0:b.WS_Response)})}catch(c){j.e(c)}finally{j.f()}}I(!1),r(!0),z({fecha_inicio:null,fecha_final:null}),G();case 26:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}();return Object(b.jsxs)(b.Fragment,{children:[V,O,Object(b.jsx)(w.a,{type:"primary",onClick:function(){return F(!0)},children:"Importar Disponibilidad"}),Object(b.jsx)(_.a,{title:"Importar Disponibilidad",open:N,onCancel:G,footer:[Object(b.jsx)(w.a,{className:"btn btn-outline-primary",onClick:G,children:"Cancelar"},"button-cancel"),Object(b.jsx)(w.a,{loading:D,onClick:Z,children:"Importar"},"button-actualizar")],children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-12 mb-3",children:Object(b.jsx)(C.a,{checked:H,onChange:function(e){console.log("checked = ".concat(e.target.checked)),Y(e.target.checked)},children:"Rango propio"})}),Object(b.jsxs)("div",{className:"col",children:[Object(b.jsx)("div",{className:"mb-2",children:Object(b.jsx)("label",{htmlFor:"fecha-inicio",children:"Fecha Inicio"})}),Object(b.jsx)(S.a,{showTime:{format:"HH:mm"},format:"YYYY-MM-DD HH:mm",onOk:function(e){return J(e,"fecha_inicio")},style:{width:"100%"},disabledHours:W})]}),Object(b.jsxs)("div",{className:"col",children:[Object(b.jsx)("div",{className:"mb-2",children:Object(b.jsx)("label",{htmlFor:"fecha-final",children:"Fecha Final"})}),Object(b.jsx)(S.a,{showTime:{format:"HH:mm"},format:"YYYY-MM-DD HH:mm",onOk:function(e){return J(e,"fecha_final")},style:{width:"100%"},disabledHours:W})]})]})})]})},I=n(939),E=n(154),M=n(509),N=n(160),F=n(91),T={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 256H736v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zm-200 0H360v-72h304v72z"}}]},name:"delete",theme:"filled"},A=n(19),H=function(e,t){return d.createElement(A.a,Object(g.a)(Object(g.a)({},e),{},{ref:t,icon:T}))};H.displayName="DeleteFilled";var Y=d.forwardRef(H),q=n(234),P=n(984),R=n(306),z={bloqueo:{tipoAgenda:"20551141",title:"Bloquear disponibilidad",mensaje:"Disponibilidad bloqueada correctamente"},desbloqueo:{tipoAgenda:"20551142",title:"Desbloquear disponibilidad",mensaje:"Disponibilidad desbloqueada correctamente"},eliminar:{tipoAgenda:"20551143",title:"Eliminar disponibilidad",mensaje:"Disponibilidad eliminada correctamente"}},W=n(145),B=n(933),L=I.a.Panel,K=[{value:1,label:"Disponible"},{value:2,label:"Bloqueado"},{value:3,label:"Asignado Cita"},{value:4,label:"Eliminado"}],V=function(e){var t=e.id,n=e.setData,a=e.changeStatus,l=e.dataImported,r=e.setDataImported,s=e.activeKey,j=W.a.useForm(),x=Object(o.a)(j,1)[0],O=Object(d.useState)([]),f=Object(o.a)(O,2),h=f[0],m=f[1],p=Object(d.useState)([]),g=Object(o.a)(p,2),y=g[0],k=g[1],_=Object(d.useState)([]),C=Object(o.a)(_,2),D=C[0],E=C[1],M=null,F={date_start:void 0,date_end:void 0,exam:void 0,city:void 0,status:1,programa:void 0},T=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var n,a,i;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.rb)(t);case 2:return n=e.sent,m(n),e.next=6,Object(v.Z)(t);case 6:return a=e.sent,k(a),e.next=10,Object(v.Db)(t);case 10:i=e.sent,E(i);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(d.useEffect)((function(){T()}),[]);var A=function(){var e=Object(i.a)(Object(c.a)().mark((function e(a){var i;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.hb)(a,t);case 2:i=e.sent,n(i);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(d.useEffect)((function(){console.log("se disparo active ",M),null==M||!t||"2"!==s&&"3"!==s||(console.log("sirve actualizar tabla"),H(M)),null!=M||!t||"2"!==s&&"3"!==s||(console.log("sirve actualizar tabla"),A(F))}),[s]),Object(d.useEffect)((function(){console.log("se disparo",a,l),null!=M&&(console.log("sirve actualizar tabla"),H(M),r(!1)),null==M&&(console.log("sirve actualizar tabla"),A(F),r(!1))}),[l,a]);var H=function(){var e=Object(i.a)(Object(c.a)().mark((function e(t){var n,a,i,o;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=null===t||void 0===t||null===(n=t.date_start)||void 0===n?void 0:n.format("YYYY-MM-DD HH:mm"),o=null===t||void 0===t||null===(a=t.date_end)||void 0===a?void 0:a.format("YYYY-MM-DD HH:mm"),M={date_start:i,date_end:o,exam:null===t||void 0===t?void 0:t.exam,city:null===t||void 0===t?void 0:t.city,status:null===t||void 0===t?void 0:t.status,programa:null===t||void 0===t?void 0:t.programa},console.log(t),A(M);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(I.a,{children:Object(b.jsx)(L,{header:"Filtros",children:Object(b.jsx)(W.a,{colon:!1,onFinish:H,form:x,autoComplete:"off",layout:"vertical",children:Object(b.jsxs)(u.a,{style:{flexDirection:"row"},gutter:[16,16],children:[Object(b.jsx)(B.a,{span:8,children:Object(b.jsx)(W.a.Item,{label:"Fecha y Hora Inicio",name:"date_start",children:Object(b.jsx)(S.a,{showTime:{format:"HH:mm"},format:"YYYY-MM-DD HH:mm",style:{width:"100%"},onChange:function(){console.log("inicio: ",x.getFieldValue("date_start"))}})})}),Object(b.jsx)(B.a,{span:8,children:Object(b.jsx)(W.a.Item,{label:"Fecha y Hora Final",name:"date_end",children:Object(b.jsx)(S.a,{showTime:{format:"HH:mm"},format:"YYYY-MM-DD HH:mm",style:{width:"100%"},onChange:function(){console.log("fin: ",x.getFieldValue("date_end"))}})})}),Object(b.jsx)(B.a,{span:8,children:Object(b.jsx)(W.a.Item,{label:"Examen",name:"exam",children:Object(b.jsx)(N.a,{placeholder:"Seleccione un examen",options:h})})}),Object(b.jsx)(B.a,{span:8,children:Object(b.jsx)(W.a.Item,{label:"Ciudad",name:"city",children:Object(b.jsx)(N.a,{placeholder:"Seleccione una ciudad",options:y})})}),Object(b.jsx)(B.a,{span:8,children:Object(b.jsx)(W.a.Item,{label:"Estado",name:"status",children:Object(b.jsx)(N.a,{defaultValue:1,placeholder:"Seleccione un estado",options:K,mode:"multiple"})})}),Object(b.jsx)(B.a,{span:8,children:Object(b.jsx)(W.a.Item,{label:"Programa",name:"programa",children:Object(b.jsx)(N.a,{placeholder:"Seleccione un programa",options:D})})}),Object(b.jsxs)(B.a,{style:{display:"flex",justifyContent:"flex-end",alignItems:"flex-end"},span:8,children:[Object(b.jsx)(w.a,{type:"primary",onClick:x.submit,children:"Filtrar"}),Object(b.jsx)(w.a,{onClick:function(){x.resetFields(),A(void 0)},children:"Limpiar Filtros"})]})]})})},"1")})})},G=(I.a.Panel,function(e){var t,n=e.id,a=e.activeKey,l=e.dataImported,r=e.setDataImported,s=e.changeStatus,j=e.setChangeStatus,u=Object(d.useState)([]),x=Object(o.a)(u,2),f=x[0],m=x[1],p=Object(d.useState)(!1),g=Object(o.a)(p,2),y=g[0],C=g[1],S=Object(d.useState)(!1),D=Object(o.a)(S,2),I=D[0],T=D[1],A=Object(d.useState)(),H=Object(o.a)(A,2),W=H[0],B=H[1],L=Object(d.useState)(),K=Object(o.a)(L,2),G=K[0],J=K[1],Z=Object(d.useState)(null),Q=Object(o.a)(Z,2),U=Q[0],X=Q[1],$=k.b.useMessage(),ee=Object(o.a)($,2),te=ee[0],ne=ee[1],ae=Object(d.useState)(),ce=Object(o.a)(ae,2),ie=ce[0],oe=ce[1],le=Object(d.useState)("bloqueo"),re=Object(o.a)(le,2),se=re[0],de=re[1],je=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var t,n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.prev=1,e.next=4,Object(v.q)(ie);case 4:return e.next=6,te.open({type:"success",content:z[se].mensaje});case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(1),e.next=12,te.open({type:"error",content:null===(t=e.t0.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message});case 12:C(!1),T(!1),X(null),j(!s);case 16:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),ue=function(){T(!1),X(null)},be=[{title:"Fecha y Hora",dataIndex:"fecha_hora",key:"fecha_hora",width:"12%",render:function(e){return Object(b.jsx)("strong",{children:h()(e).format("DD/MM/YYYY : HH:mm")})}},{title:"Examen",dataIndex:"idExam",key:"idExam",width:"25%",render:function(e){var t=e.split(",");return Object(b.jsx)("span",{children:Object(b.jsx)("ul",{children:null===t||void 0===t?void 0:t.map((function(e){return Object(b.jsx)("li",{children:e||"Sin informaci\xf3n"},e)}))})||"-"})}},{title:"Canal de atenci\xf3n",dataIndex:"canal_atencion",key:"canal_atencion",width:"13%",render:function(e){return Object(b.jsx)("strong",{children:e})}},{title:"Duraci\xf3n",dataIndex:"duracion",key:"duracion",width:"7%"},{title:"Sede",dataIndex:"sede",key:"sede",width:"9%"},{title:"Acciones",key:"action",align:"center",children:[{title:"",key:"bloquear",align:"center",width:"5%",fixed:"right",render:function(e){return Object(b.jsx)(E.a,{trigger:"click",placement:"top",color:"#ffff",title:Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(E.a,{title:"Bloquear",children:Object(b.jsx)(w.a,{disabled:4==e.color||2==e.color||3==e.color,onClick:Object(i.a)(Object(c.a)().mark((function t(){var n;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sirve",e),de("bloqueo"),T(!0),B(e),t.next=6,Object(v.xb)();case 6:n=t.sent,J(n);case 8:case"end":return t.stop()}}),t)}))),children:Object(b.jsx)(F.a,{})})}),Object(b.jsx)(E.a,{title:"Eliminar",children:Object(b.jsx)(w.a,{disabled:4==e.color||2==e.color||3==e.color,onClick:Object(i.a)(Object(c.a)().mark((function t(){var n;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sirve eliminar",e),de("eliminar"),T(!0),B(e),t.next=6,Object(v.xb)();case 6:n=t.sent,J(n);case 8:case"end":return t.stop()}}),t)}))),children:Object(b.jsx)(Y,{})})}),Object(b.jsx)(E.a,{title:"Desbloquear",children:Object(b.jsx)(w.a,{disabled:4==e.color||3==e.color||1==e.color,onClick:Object(i.a)(Object(c.a)().mark((function t(){var n;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sirve desbloquear",e),de("desbloqueo"),T(!0),B(e),t.next=6,Object(v.xb)();case 6:n=t.sent,J(n);case 8:case"end":return t.stop()}}),t)}))),children:Object(b.jsx)(q.a,{})})})]}),children:Object(b.jsx)(w.a,{children:Object(b.jsx)(P.a,{})})})}},{title:"Estado",dataIndex:"color",key:"color",fixed:"right",width:"10%",render:function(e){var t,n,a;return Object(b.jsx)(M.a,{style:{width:"100%"},color:null===(t=R.a[e])||void 0===t?void 0:t.color,icon:null===(n=R.a[e])||void 0===n?void 0:n.icon,children:null===(a=R.a[e])||void 0===a?void 0:a.text})}}]}];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(V,{id:n,setData:m,setLoading:C,dataImported:l,setDataImported:r,changeStatus:s,activeKey:a}),Object(b.jsx)(O.a,{columns:be,loading:y,dataSource:f,scroll:{x:1300}}),ne,Object(b.jsx)(_.a,{title:null===(t=z[se])||void 0===t?void 0:t.title,open:I,onOk:je,onCancel:ue,data:W,footer:[Object(b.jsx)(w.a,{onClick:ue,children:"Cancelar"},"button-cancel"),Object(b.jsx)(w.a,{loading:y,onClick:je,children:"Confirmar"},"button-integrar")],children:Object(b.jsx)("div",{label:"Motivo",name:"motivo",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(b.jsx)(N.a,{id:"selectmotivos",className:"w-100",placeholder:"Selecciona un motivo",onChange:function(e){X(e);var t=new Date(null===W||void 0===W?void 0:W.fecha_hora),a=null===W||void 0===W?void 0:W.duracion;t.setMinutes(t.getMinutes()+a),oe({Fecha_Hora:new Date(null===W||void 0===W?void 0:W.fecha_hora).getTime(),Fecha_Hora_Final:new Date(t).getTime(),Hora:h()(new Date(null===W||void 0===W?void 0:W.fecha_hora)).format("LT"),Duracion:h()(new Date(t)).format("LT"),Id:e,BloqueoEliminar:z[se].tipoAgenda,IdProfesional:n}),console.log("datauser a enviar",ie)},options:G,value:U})})})]})}),J=n(959),Z=(n(958),n(514),n(955),n(378)),Q=Object(J.b)(h.a);h.a.locale("es");var U={today:"Hoy",previous:"Anterior",next:"Siguiente",month:"Mes",week:"Semana",day:"D\xeda"},X=function(e){var t,n=e.id,a=e.activeKey,l=e.dataImported,r=e.setDataImported,s=e.changeStatus,j=e.setChangeStatus,u=Object(d.useState)([]),x=Object(o.a)(u,2),O=x[0],f=x[1],m=Object(d.useState)(!1),p=Object(o.a)(m,2),g=p[0],y=p[1],C=Object(d.useState)([]),S=Object(o.a)(C,2),D=S[0],I=S[1],T=Object(d.useState)(!1),A=Object(o.a)(T,2),H=A[0],P=A[1],W=Object(d.useState)(),B=Object(o.a)(W,2),L=B[0],K=B[1],G=Object(d.useState)(),X=Object(o.a)(G,2),$=X[0],ee=X[1],te=Object(d.useState)(null),ne=Object(o.a)(te,2),ae=ne[0],ce=ne[1],ie=k.b.useMessage(),oe=Object(o.a)(ie,2),le=oe[0],re=oe[1],se=Object(d.useState)(),de=Object(o.a)(se,2),je=de[0],ue=de[1],be=Object(d.useState)(),xe=Object(o.a)(be,2),ve=xe[0],Oe=xe[1],fe=new Date;fe.setHours(6,0,0,0);var he=new Date;he.setHours(23,58,0,0);var me=function(){var e=document.querySelector(".popover-calendar");e&&(e.style.display="none")};Object(d.useEffect)((function(){n&&"2"===a&&ye()}),[D,n,a]);var pe=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var t,n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(v.q)(je);case 3:return e.next=5,le.open({type:"success",content:z[ve].mensaje});case 5:e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),e.next=11,le.open({type:"error",content:null===(t=e.t0.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message});case 11:P(!1),ce(null),j(!s);case 14:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),ge=function(){ce(null),P(!1)},ye=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var t;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=null===D||void 0===D?void 0:D.map((function(e){var t,n,a,o,l,r=new Date(null===e||void 0===e?void 0:e.fecha_hora),s=null===e||void 0===e?void 0:e.duracion;r.setMinutes(r.getMinutes()+s);var d=null===e||void 0===e||null===(t=e.idExam)||void 0===t?void 0:t.split(",");return{title:Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(Z.a,{trigger:"click",className:"popover-calendar",content:Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"row",style:{maxWidth:"400px"},children:[Object(b.jsx)("div",{className:"col-12 col-md-3",children:Object(b.jsx)("div",{className:"calendar-date-text",style:{backgroundColor:null===(n=R.a[null===e||void 0===e?void 0:e.color])||void 0===n?void 0:n.color},children:h()(new Date(null===e||void 0===e?void 0:e.fecha_hora)).format("DD MMM")})}),Object(b.jsxs)("div",{className:"col info-text-popover",children:[Object(b.jsxs)("h5",{className:"mb-3",children:["Canal de atenci\xf3n: ",(null===e||void 0===e?void 0:e.canal_atencion)||"-"]}),Object(b.jsxs)("div",{children:["Programa: ",Object(b.jsx)("span",{children:(null===e||void 0===e?void 0:e.programa)||"-"})]}),Object(b.jsxs)("div",{children:["Sede: ",Object(b.jsx)("span",{children:(null===e||void 0===e?void 0:e.sede)||"-"})]}),Object(b.jsxs)("div",{children:["Examen:"," ",Object(b.jsx)("span",{children:Object(b.jsx)("ul",{children:null===d||void 0===d?void 0:d.map((function(e){return Object(b.jsx)("li",{children:e||"Sin informaci\xf3n"},e)}))})||"-"})]}),Object(b.jsxs)("div",{className:"my-3",children:["Hora:"," ",Object(b.jsxs)("span",{children:[h()(new Date(null===e||void 0===e?void 0:e.fecha_hora)).format("LT")," ","- ",h()(new Date(r)).format("LT")]})]}),Object(b.jsxs)("div",{className:"my-3",children:["Duraci\xf3n:"," ",Object(b.jsxs)("span",{children:[(null===e||void 0===e?void 0:e.duracion)||"-"," minutos"]})]}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)(E.a,{title:"Bloquear",disabled:4==e.color||2==e.color||3==e.color,children:Object(b.jsx)(F.a,{style:{cursor:"pointer",width:"33%"},onClick:Object(i.a)(Object(c.a)().mark((function t(){var n;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sirve",e),Oe("bloqueo"),me(),P(!0),K(e),t.next=7,Object(v.xb)();case 7:n=t.sent,ee(n);case 9:case"end":return t.stop()}}),t)})))})}),Object(b.jsx)(E.a,{title:"Eliminar",disabled:4==e.color||2==e.color||3==e.color,children:Object(b.jsx)(Y,{style:{cursor:"pointer",width:"33%"},onClick:Object(i.a)(Object(c.a)().mark((function t(){var n;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sirve eliminar",e),Oe("eliminar"),me(),P(!0),K(e),t.next=7,Object(v.xb)();case 7:n=t.sent,ee(n);case 9:case"end":return t.stop()}}),t)})))})}),Object(b.jsx)(E.a,{title:"Desbloquear",disabled:4==e.color||3==e.color||1==e.color,children:Object(b.jsx)(q.a,{style:{cursor:"pointer",width:"33%"},onClick:Object(i.a)(Object(c.a)().mark((function t(){var n;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sirve desbloquear",e),Oe("desbloqueo"),me(),P(!0),K(e),t.next=7,Object(v.xb)();case 7:n=t.sent,ee(n);case 9:case"end":return t.stop()}}),t)})))})})]})]})]})}),children:Object(b.jsx)(E.a,{title:"".concat(null===(a=R.a[null===e||void 0===e?void 0:e.color])||void 0===a?void 0:a.text),children:Object(b.jsx)("span",{className:"span-calendar-text",children:Object(b.jsx)(M.a,{style:{width:"47%",height:"90%"},color:null===(o=R.a[null===e||void 0===e?void 0:e.color])||void 0===o?void 0:o.color,icon:null===(l=R.a[null===e||void 0===e?void 0:e.color])||void 0===l?void 0:l.icon})})})})}),start:new Date(null===e||void 0===e?void 0:e.fecha_hora),end:r}})),f(t);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(V,{id:n,setLoading:y,setData:I,dataImported:l,setDataImported:r,changeStatus:s,activeKey:a}),Object(b.jsx)(J.a,{loading:g,localizer:Q,events:O,startAccessor:"start",endAccessor:"end",defaultView:"week",messages:U,min:fe,max:he}),re,Object(b.jsx)(_.a,{style:{zIndex:2600},title:null===(t=z[ve])||void 0===t?void 0:t.title,open:H,onOk:pe,onCancel:ge,data:L,footer:[Object(b.jsx)(w.a,{onClick:ge,children:"Cancelar"},"button-cancel"),Object(b.jsx)(w.a,{onClick:pe,children:"Confirmar"},"button-integrar")],children:Object(b.jsx)("div",{label:"Motivo",name:"motivo",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(b.jsx)(N.a,{id:"selectmotivos",className:"w-100",placeholder:"Selecciona un motivo",onChange:function(e){console.log(e),ce(e);var t=new Date(null===L||void 0===L?void 0:L.fecha_hora),a=null===L||void 0===L?void 0:L.duracion;t.setMinutes(t.getMinutes()+a),ue({Fecha_Hora:new Date(null===L||void 0===L?void 0:L.fecha_hora).getTime(),Fecha_Hora_Final:new Date(t).getTime(),Hora:h()(new Date(null===L||void 0===L?void 0:L.fecha_hora)).format("LT"),Duracion:h()(new Date(t)).format("LT"),Id:e,BloqueoEliminar:z[ve].tipoAgenda,IdProfesional:n}),console.log("datauser a enviar",je)},options:$,value:ae})})})]})},$=n(516),ee=(n(945),n(510)),te=n(985),ne=n(986),ae=n(947),ce=function(e){var t=e.id,n=(e.activeKey,Object(d.useState)([])),a=Object(o.a)(n,2),l=a[0],r=a[1],s=Object(d.useState)(),j=Object(o.a)(s,2),u=j[0],x=j[1],f=k.b.useMessage(),m=Object(o.a)(f,2),p=m[0],g=m[1],y=Object(d.useState)(!1),_=Object(o.a)(y,2),C=_[0],S=_[1],D=Object(d.useState)(!1),I=Object(o.a)(D,2),N=I[0],F=I[1],T=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(!0),e.next=3,Object(v.Sb)(t);case 3:n=e.sent,r(n),F(!1),console.log("data rutas atencion",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(d.useEffect)((function(){t&&T()}),[]);var A=function(){var e=Object(i.a)(Object(c.a)().mark((function e(t){var n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.x)(t);case 2:if(n=e.sent,console.log("eliminado: ",n),"fail"!==(null===n||void 0===n?void 0:n.status)){e.next=9;break}return e.next=7,p.open({type:"error",content:(null===n||void 0===n?void 0:n.message)||"error"});case 7:e.next=12;break;case 9:if("ok"!==(null===n||void 0===n?void 0:n.status)){e.next=12;break}return e.next=12,p.open({type:"success",content:"Eliminada correctamente"});case 12:T();case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=[{title:"Cita",dataIndex:"name",key:"name",render:function(e){return Object(b.jsx)(b.Fragment,{children:e})}},{title:"Fecha Cita",dataIndex:"Fecha_Cita",key:"Fecha_Cita",render:function(e){return h()(e).format("DD/MM/YYYY HH:MM")}},{title:"Duraci\xf3n",dataIndex:"duracion",key:"duracion"},{title:"Profesional",dataIndex:"Profesional_txt",key:"Profesional_txt",render:function(e){return Object(b.jsx)(b.Fragment,{children:e})}},{title:"Sede",dataIndex:"Sedetxt",key:"Sedetxt",render:function(e){return Object(b.jsx)(b.Fragment,{children:e})}},{title:"Canal Atenci\xf3n",dataIndex:"Canal_Atencion_txt",key:"Canal_Atencion_txt"},{title:"Plan Mensual",dataIndex:"Plan_Mensual_txt",key:"Plan_Mensual_txt"},{title:"Codigo Tipo",dataIndex:"Codigo_Tipo",key:"Codigo_Tipo"},{title:"Examen",dataIndex:"nameExam",key:"nameExam"},{title:"Estado",dataIndex:"Estado_Txt",render:function(e){var t;return Object(b.jsx)(M.a,{style:{width:"100%"},color:null===(t=R.c[e])||void 0===t?void 0:t.color,children:e})}},{title:"Acciones",key:"action",align:"center",render:function(e){return Object(b.jsx)(E.a,{trigger:"click",placement:"top",color:"#ffff",title:Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(E.a,{title:"Ver",children:Object(b.jsx)(w.a,{onClick:Object(i.a)(Object(c.a)().mark((function t(){return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("Sirve ver",e),x(e),S(!0);case 3:case"end":return t.stop()}}),t)}))),children:Object(b.jsx)(ee.a,{})})}),Object(b.jsx)(E.a,{title:"Agendar",children:Object(b.jsx)(w.a,{disabled:"Cancelado"==e.Estado_Txt||"Asistida"==e.Estado_Txt||"Finalizada"==e.Estado_Txt||"Solicitada"==e.Estado_Txt||"No Asistida"==e.Estado_Txt,onClick:Object(i.a)(Object(c.a)().mark((function t(){var n;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sirve Agendar",e),t.next=3,Object(v.Ac)(e.id);case 3:if("fail"!==(null===(n=t.sent)||void 0===n?void 0:n.status)){t.next=9;break}return t.next=7,p.open({type:"error",content:(null===n||void 0===n?void 0:n.message)||"error"});case 7:t.next=12;break;case 9:if("ok"!==(null===n||void 0===n?void 0:n.status)){t.next=12;break}return t.next=12,p.open({type:"success",content:"Agendada exitosamente"});case 12:case"end":return t.stop()}}),t)}))),children:Object(b.jsx)(te.a,{})})}),Object(b.jsx)(E.a,{title:"Eliminar",children:Object(b.jsx)(w.a,{disabled:"Cancelado"==e.Estado_Txt||"Asistida"==e.Estado_Txt||"Finalizada"==e.Estado_Txt||"Solicitada"==e.Estado_Txt||"No Asistida"==e.Estado_Txt,onClick:Object(i.a)(Object(c.a)().mark((function t(){return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("Sirve eliminar",e),A(e.id);case 2:case"end":return t.stop()}}),t)}))),children:Object(b.jsx)(ne.a,{})})})]}),children:Object(b.jsx)(w.a,{children:Object(b.jsx)(P.a,{})})})}}];return Object(b.jsxs)(b.Fragment,{children:[g,Object(b.jsx)(ae.a,{open:C,setOpen:S,dataRow:u,idPaciente:t}),Object(b.jsx)(O.a,{columns:H,loading:N,dataSource:l,scroll:{x:1300}})]})};t.default=function(){var e=Object(j.i)().id,t=l.a.useNotification(),n=Object(o.a)(t,2),u=n[0],O=n[1],f=Object(j.h)(),h=Object(d.useState)("1"),p=Object(o.a)(h,2),g=p[0],y=p[1],k=Object(d.useState)(null),w=Object(o.a)(k,2),_=w[0],C=w[1],S=Object(d.useState)("professional"),I=Object(o.a)(S,2),E=I[0],M=I[1],N=Object(j.g)(),F=Object(d.useState)(!1),T=Object(o.a)(F,2),A=T[0],H=T[1],Y=Object(d.useState)(!1),q=Object(o.a)(Y,2),P=q[0],R=q[1],z=Object(d.useState)(null),W=Object(o.a)(z,2),B=W[0],L=W[1],K=Object(d.useState)(null),V=Object(o.a)(K,2),J=V[0],Z=V[1];console.log("localizacion",null===f||void 0===f?void 0:f.state);var Q=function(){var e=Object(i.a)(Object(c.a)().mark((function e(t){var n,a,i,o;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.Yb)(t);case 2:return a=e.sent,L(a),e.next=6,Object(v.H)(t);case 6:return i=e.sent,Z(i),e.next=10,Object(v.cc)(t,"numero_document"===(null===f||void 0===f||null===(n=f.state)||void 0===n?void 0:n.type));case 10:o=e.sent,C(o);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(d.useEffect)((function(){if(Q(e),f.state){var t=f.state.detail;if(console.log(t),t&&t.length>0){var n,c=Object(a.a)(t);try{for(c.s();!(n=c.n()).done;){var i=n.value;u.open({type:"info",description:" ".concat(null===i||void 0===i?void 0:i.WS_Response)})}}catch(o){c.e(o)}finally{c.f()}}}}),[e]);var U={professional:[{key:"1",label:"Informaci\xf3n B\xe1sica",children:Object(b.jsx)(x,{infoGeneral:_,sedeProfessional:B,examsProfessional:J})}],disposition:[{key:"1",label:"Lista de disponibilidades",children:Object(b.jsx)(G,{id:null===_||void 0===_?void 0:_.id,activeKey:g,dataImported:A,setDataImported:H,changeStatus:P,setChangeStatus:R})},{key:"2",label:"Calendario de disponibilidades",children:Object(b.jsx)(X,{id:null===_||void 0===_?void 0:_.id,activeKey:g,dataImported:A,setDataImported:H,changeStatus:P,setChangeStatus:R})},{key:"3",label:"Novedades",children:Object(b.jsx)(m,{id:null===_||void 0===_?void 0:_.id,activeKey:g})}]},ee={quote:Object(b.jsx)(ce,{id:null===_||void 0===_?void 0:_.id,activeKey:g})};return Object(b.jsxs)(b.Fragment,{children:[O,Object(b.jsxs)("div",{className:"gx-profile-banner",style:{display:"flex",padding:"32px 32px 70px"},children:[Object(b.jsxs)("div",{className:"gx-profile-container",children:[Object(b.jsx)("div",{className:"gx-profile-banner-top",style:{justifyContent:"space-between",marginBottom:"30px"},children:Object(b.jsx)("div",{className:"gx-profile-banner-top-left",children:Object(b.jsxs)("div",{className:"gx-profile-banner-avatar-info",children:[Object(b.jsxs)("h2",{className:"gx-mb-2 gx-mb-sm-3 gx-fs-xxl gx-font-weight-light",children:[null===_||void 0===_?void 0:_.nombre," ",null===_||void 0===_?void 0:_.apellido]}),Object(b.jsxs)("p",{className:"gx-mb-0 gx-fs-lg",children:[null===_||void 0===_?void 0:_.tipo_documento," ",null===_||void 0===_?void 0:_.numero_documento]})]})})}),Object(b.jsx)("div",{className:"gx-profile-banner-bottom",children:Object(b.jsx)("div",{className:"gx-tab-list",children:Object(b.jsxs)("ul",{className:"gx-navbar-nav",children:[Object(b.jsx)("li",{onClick:function(){return M("professional")},children:Object(b.jsx)("span",{className:"gx-link",children:"Detalle del profesional"})}),Object(b.jsx)("li",{onClick:function(){return M("disposition")},children:Object(b.jsx)("span",{className:"gx-link",children:"Disponibilidades"})}),Object(b.jsx)("li",{onClick:function(){return M("quote")},children:Object(b.jsx)("span",{className:"gx-link",children:"Citas"})})]})})})]}),Object(b.jsx)("div",{style:{width:"55%",display:"flex",flexDirection:"row",alignItems:"flex - start"},children:Object(b.jsxs)("div",{className:"d-flex align-items-center mt-3",children:[Object(b.jsx)("i",{style:{fontSize:"50px"},className:"icon icon-graduation"})," ",Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{style:{color:"#8c8c8c",fontSize:"bold"},children:"Profesi\xf3n:"}),(null===_||void 0===_?void 0:_.profesion)||"Sin informaci\xf3n"]})]})}),Object(b.jsx)("div",{className:"gx-profile-banner-bottom",style:{width:"10%",alignItems:"flex-end"},children:Object(b.jsxs)("span",{className:"gx-link gx-profile-setting",onClick:function(){var t;"numero_document"===(null===f||void 0===f||null===(t=f.state)||void 0===t?void 0:t.type)?N.push("/edit-professional/".concat(null===_||void 0===_?void 0:_.id)):N.push("/edit-professional/".concat(e))},children:[Object(b.jsx)("i",{className:"icon icon-edit gx-fs-lg gx-mr-2 gx-mr-sm-3 gx-d-inline-flex gx-vertical-align-middle"}),Object(b.jsx)("span",{className:"gx-d-inline-flex gx-vertical-align-middle gx-ml-1 gx-ml-sm-0",children:"Editar"})]})})]}),Object(b.jsxs)(r.a,{style:{zIndex:1},extra:"disposition"===E?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(D,{id:null===_||void 0===_?void 0:_.id,rango:null===_||void 0===_?void 0:_.rango_propio,setDataImported:H,numeroDocumento:null===_||void 0===_?void 0:_.numero_documento}),Object(b.jsx)($.a,{id:e,setDataImported:H})]}):"",children:["quote"===E?ee[E]:null,Object(b.jsx)(s.a,{defaultActiveKey:"1",items:U[E],onChange:function(e){console.log(e),y(e)}})]})]})}}}]);
//# sourceMappingURL=9.ec3a5920.chunk.js.map
{"version":3,"sources":["../node_modules/@ant-design/icons-svg/es/asn/ReloadOutlined.js","../node_modules/@ant-design/icons/es/icons/ReloadOutlined.js","views/ReportNotasAdmin.jsx"],"names":["ReloadOutlined","props","ref","React","AntdIcon","_objectSpread","icon","ReloadOutlinedSvg","displayName","require","ReportNotasAdmin","_useState","useState","_useState2","_slicedToArray","data","setData","_useState3","_useState4","loading","setLoading","onSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","resp","wrap","_context","prev","next","getReportNotasAdmin","sent","console","log","t0","error","stop","apply","arguments","useEffect","fetchData","_ref2","_callee2","_context2","columns","title","_jsx","style","backgroundColor","color","children","dataIndex","key","render","text","moment","format","index","push","concat","_jsxs","_Fragment","className","display","justifyContent","padding","marginBottom","Button","onClick","wb","Sheets","XLSX","json_to_sheet","SheetNames","excelBuffer","bookType","type","date","Date","stringDate","getDay","getMonth","getFullYear","excelFile","Blob","saveAs","CloudDownloadOutlined","Card","zIndex","Table","dataSource","scroll","x"],"mappings":"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","file":"static/js/16.6f99daa0.chunk.js","sourcesContent":["// This icon file is generated automatically.\nvar ReloadOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z\" } }] }, \"name\": \"reload\", \"theme\": \"outlined\" };\nexport default ReloadOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport ReloadOutlinedSvg from \"@ant-design/icons-svg/es/asn/ReloadOutlined\";\nimport AntdIcon from '../components/AntdIcon';\nvar ReloadOutlined = function ReloadOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: ReloadOutlinedSvg\n  }));\n};\nReloadOutlined.displayName = 'ReloadOutlined';\nexport default /*#__PURE__*/React.forwardRef(ReloadOutlined);","import { Card, Table, Button } from \"antd\";\r\nimport { React, useEffect, useState } from \"react\";\r\nimport { CloudDownloadOutlined,ReloadOutlined } from \"@ant-design/icons\";\r\nimport * as XLSX from 'xlsx';\r\nimport { saveAs } from 'file-saver';\r\nimport {\r\n  getReportNotasAdmin\r\n} from \"../appRedux/services\";\r\nimport moment from \"moment\";\r\nrequire(\"moment-timezone\");\r\n\r\nconst ReportNotasAdmin = () => {\r\n  const [data, setData] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const onSubmit = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const resp = await getReportNotasAdmin();\r\n      console.log('Respuesta de getReportNotasAdmin:', resp); // Verifica la respuesta recibida\r\n      setData(resp);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      console.error('Error al obtener los datos:', error);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      setLoading(true);\r\n      try {\r\n        const resp = await getReportNotasAdmin();\r\n        console.log('Respuesta de getReportNotasAdmin:', resp); // Verifica la respuesta recibida\r\n        setData(resp);\r\n        setLoading(false);\r\n      } catch (error) {\r\n        console.error('Error al obtener los datos:', error);\r\n        setLoading(false);\r\n      }\r\n    };\r\n  \r\n    fetchData();\r\n  }, []);\r\n\r\n\r\n  const columns = [\r\n    {\r\n      title: (\r\n        <span style={{ backgroundColor: \"#184F9D\", color: \"#fff\" }}>\r\n          Documento Paciente\r\n        </span>\r\n      ),\r\n      dataIndex: \"numDoc\",\r\n      key: \"numDoc\",\r\n      render: (text) => <strong>{text}</strong>,\r\n    },\r\n    {\r\n      title: (\r\n        <span style={{ backgroundColor: \"#184F9D\", color: \"#fff\" }}>\r\n          Nro. Nota\r\n        </span>\r\n      ),\r\n      dataIndex: \"secuen\",\r\n      key: \"secuen\",\r\n      render: (text) => <strong>{text}</strong>,\r\n    },\r\n    {\r\n      title: (\r\n        <span style={{ backgroundColor: \"#184F9D\", color: \"#fff\" }}>\r\n          Programa\r\n        </span>\r\n      ),\r\n      dataIndex: \"programa\",\r\n      key: \"programa\",\r\n    },\r\n    {\r\n      title: (\r\n        <span style={{ backgroundColor: \"#184F9D\", color: \"#fff\" }}>\r\n          Fecha Registro\r\n        </span>\r\n      ),\r\n      dataIndex: \"fechaHoraRegistro\",\r\n      key: \"fechaHoraRegistro\",\r\n      render: (text) =><strong>{moment(text).format(\"DD/MM/YYYY\")}</strong>,\r\n    },\r\n    {\r\n      title: (\r\n        <span style={{ backgroundColor: \"#184F9D\", color: \"#fff\" }}>\r\n          Hora Registro\r\n        </span>\r\n      ),\r\n      dataIndex: \"fechaHoraRegistro\",\r\n      key: \"fechaHoraRegistro\",\r\n      render: (text) =><strong>{moment(text).format(\"HH:mm a\")}</strong>,\r\n    },\r\n    {\r\n      title: (\r\n        <span style={{ backgroundColor: \"#184F9D\", color: \"#fff\" }}>\r\n          Responsable\r\n        </span>\r\n      ),\r\n      dataIndex: \"createdBy\",\r\n      key: \"createdBy\",\r\n    },\r\n    {\r\n      title: (\r\n        <span style={{ backgroundColor: \"#184F9D\", color: \"#fff\" }}>\r\n          Etiqueta Administrativa\r\n        </span>\r\n      ),\r\n      dataIndex: \"etAdmin\",\r\n      key: \"etAdmin\",\r\n      render: (text) => <strong>{text}</strong>,\r\n    },\r\n    {\r\n      title: (\r\n        <span style={{ backgroundColor: \"#184F9D\", color: \"#fff\" }}>\r\n          Observacion Etiqueta Administrativa\r\n        </span>\r\n      ),\r\n      dataIndex: \"noteChange\",\r\n      key: \"noteChange\",\r\n    },\r\n    {\r\n      title: (\r\n        <span style={{ backgroundColor: \"#184F9D\", color: \"#fff\" }}>\r\n          Etiqueta Seguimiento\r\n        </span>\r\n      ),\r\n      dataIndex: \"etSeguimiento\",\r\n      key: \"etSeguimiento\",\r\n    },\r\n    {\r\n      title: (\r\n        <span style={{ backgroundColor: \"#184F9D\", color: \"#fff\" }}>\r\n          Observacion Seguimiento\r\n        </span>\r\n      ),\r\n      dataIndex: \"observacion_Seguimiento\",\r\n      key: \"observacion_Seguimiento\",\r\n    },\r\n    {\r\n      title: (\r\n        <span style={{ backgroundColor: \"#184F9D\", color: \"#fff\" }}>\r\n          Motivo Inasistencia\r\n        </span>\r\n      ),\r\n      dataIndex: \"motInasis\",\r\n      key: \"motInasis\",\r\n    }\r\n  ];\r\n\r\n  for (let index = 0; index < 7; index++) {\r\n    columns.push(\r\n      {\r\n        title: (\r\n          <span style={{ backgroundColor: \"#184F9D\", color: \"#fff\" }}>\r\n            {`Mes/Año Plan Mensual #${index + 1}`}\r\n          </span>\r\n        ),\r\n        dataIndex: `mesYear_${index + 1}`,\r\n        key: `mesYear_${index + 1}`,\r\n      },\r\n      {\r\n        title: (\r\n          <span style={{ backgroundColor: \"#184F9D\", color: \"#fff\" }}>\r\n            {`Servicio/Plan Mensual #${index + 1}`}\r\n          </span>\r\n        ),\r\n        dataIndex: `servicio_${index + 1}`,\r\n        key: `servicio_${index + 1}`,\r\n        render: (text) => <strong>{text}</strong>,\r\n      },\r\n      {\r\n        title: (\r\n          <span style={{ backgroundColor: \"#184F9D\", color: \"#fff\" }}>\r\n            {`Resultado de Contacto #${index + 1}`}\r\n          </span>\r\n        ),\r\n        dataIndex: `resultado_${index + 1}`,\r\n        key: `resultado_${index + 1}`,\r\n        render: (text) => text, // Puedes aplicar el renderizado que necesites aquí\r\n      }\r\n    );\r\n    \r\n  }\r\n\r\n  const downloadExcel = () => {\r\n    const fileType = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8';\r\n    const fileExtension = '.xlsx';\r\n\r\n    const ws = XLSX.utils.json_to_sheet(data);\r\n    const wb = { Sheets: { 'data': ws }, SheetNames: ['data'] };\r\n    const excelBuffer = XLSX.write(wb, { bookType: 'xlsx', type: 'array' });\r\n\r\n    const date = new Date();\r\n\r\n    const stringDate = date.getDay() +'/'+ (date.getMonth()+1) +\"/\"+ date.getFullYear();\r\n\r\n    const excelFile = new Blob([excelBuffer], { type: fileType });\r\n    saveAs(excelFile, `Reporte Notas Administrativas-${stringDate}` + fileExtension);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        className=\"gx-profile-banner\"\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"space-between\",\r\n          padding: \"32px 32px 70px\",\r\n        }}\r\n      >\r\n        <div className=\"gx-profile-container\">\r\n          <div\r\n            className=\"gx-profile-banner-top\"\r\n            style={{ justifyContent: \"space-between\", marginBottom: \"10px\" }}\r\n          >\r\n            <Button onClick={downloadExcel} \r\n            style={{ backgroundColor: \"#484d55\", color: \"#FFF\" }}> \r\n            <CloudDownloadOutlined />             \r\n              Descargar Excel\r\n            </Button>\r\n\r\n            <Button onClick={onSubmit}>    \r\n            <ReloadOutlined />          \r\n              Actualizar\r\n            </Button>\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n\r\n      <Card style={{ zIndex: 2 }}>\r\n        <Table\r\n          columns={columns}\r\n          loading={loading}\r\n          dataSource={data}\r\n          scroll={{ x: 1300 }}\r\n        />\r\n      </Card>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ReportNotasAdmin;\r\n"],"sourceRoot":""}
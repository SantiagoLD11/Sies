{"version":3,"sources":["views/EditProfesional.jsx"],"names":["EditProfesional","id","useParams","history","useHistory","_useState","useState","_useState2","_slicedToArray","typeDocs","setTypeDoc","_message$useMessage","message","useMessage","_message$useMessage2","messageApi","contextHolder","_useState3","_useState4","loading","setLoading","_useState5","nombre","apellido","tipo_documento","numero_documento","celular","_useState6","professional","setProfessional","onFinish","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","values","resp","wrap","_context","prev","next","updateProfessional","sent","status","open","type","content","push","concat","stop","_x","apply","arguments","getTypesDocuments","_ref2","_callee2","types_documents","_context2","list_documents","getProfessional","_ref3","_callee3","infoProfessional","_context3","get_info_general_professional","useEffect","_jsxs","_Fragment","children","_jsx","Card","title","Form","name","autoComplete","layout","fields","value","className","Item","label","rules","required","Input","Select","showSearch","placeholder","optionFilterProp","filterOption","input","option","_option$label","toLowerCase","includes","options","Button","htmlType","onClick"],"mappings":"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","file":"static/js/14.f87db5d2.chunk.js","sourcesContent":["import { Button, Card, Form, Input, message, Select } from \"antd\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport {\r\n  get_info_general_professional,\r\n  list_documents,\r\n  updateProfessional,\r\n} from \"../appRedux/services\";\r\n\r\nconst EditProfesional = () => {\r\n  const { id } = useParams();\r\n  const history = useHistory();\r\n  const [typeDocs, setTypeDoc] = useState([]);\r\n  const [messageApi, contextHolder] = message.useMessage();\r\n  const [loading, setLoading] = useState(false);\r\n  const [professional, setProfessional] = useState({\r\n    nombre: \"\",\r\n    apellido: \"\",\r\n    tipo_documento: \"\",\r\n    numero_documento: \"\",\r\n    celular: \"\",\r\n  });\r\n  const onFinish = async (values) => {\r\n    setLoading(true);\r\n    const resp = await updateProfessional(professional?.id, values);\r\n    if (resp.status === \"fail\") {\r\n      await messageApi.open({\r\n        type: \"error\",\r\n        content: resp?.message || \"error\",\r\n      });\r\n    }\r\n    if (resp.status === \"ok\") {\r\n      await messageApi.open({\r\n        type: \"success\",\r\n        content: \"Se ha editado correctamente el profesional\",\r\n      });\r\n    }\r\n    history.push(`/detail-professional/${id}`);\r\n    setLoading(false);\r\n  };\r\n\r\n  const getTypesDocuments = async () => {\r\n    const types_documents = await list_documents();\r\n    setTypeDoc(types_documents);\r\n  };\r\n  const getProfessional = async () => {\r\n    const infoProfessional = await get_info_general_professional(id);\r\n    setProfessional(infoProfessional);\r\n  };\r\n\r\n  useEffect(() => {\r\n    getTypesDocuments();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (id) {\r\n      getProfessional();\r\n    }\r\n  }, [id]);\r\n\r\n  return (\r\n    <>\r\n      {contextHolder}\r\n      <Card title=\"Editar Profesional\">\r\n        <Form\r\n          name=\"basic\"\r\n          onFinish={onFinish}\r\n          // onFinishFailed={onFinishFailed}\r\n          autoComplete=\"off\"\r\n          layout=\"vertical\"\r\n          fields={[\r\n            {\r\n              name: [\"nombres\"],\r\n              value: professional?.nombre || \"\",\r\n            },\r\n            {\r\n              name: [\"apellidos\"],\r\n              value: professional?.apellido || \"\",\r\n            },\r\n            {\r\n              name: [\"tipo_documento\"],\r\n              value: professional?.tipo_documento || \"\",\r\n            },\r\n            {\r\n              name: [\"numero_documento\"],\r\n              value: professional?.numero_documento || \"\",\r\n            },\r\n            {\r\n              name: [\"celular\"],\r\n              value: professional?.celular || \"\",\r\n            },\r\n          ]}\r\n        >\r\n          <div className=\"row\">\r\n            <div className=\"col-12 col-md-6\">\r\n              <Form.Item\r\n                label=\"Nombres\"\r\n                name=\"nombres\"\r\n                rules={[{ required: true, message: \"Campo obligatorio\" }]}\r\n              >\r\n                <Input />\r\n              </Form.Item>\r\n            </div>\r\n            <div className=\"col-12 col-md-6\">\r\n              <Form.Item\r\n                label=\"Apellidos\"\r\n                name=\"apellidos\"\r\n                rules={[{ required: true, message: \"Campo obligatorio\" }]}\r\n              >\r\n                <Input />\r\n              </Form.Item>\r\n            </div>\r\n            <div className=\"col-12 col-md-6\">\r\n              <Form.Item\r\n                label=\"Tipo de documento\"\r\n                name=\"tipo_documento\"\r\n                rules={[{ required: true, message: \"Campo obligatorio\" }]}\r\n              >\r\n                <Select\r\n                  className=\"w-100\"\r\n                  showSearch\r\n                  placeholder=\"Selecciona tipo de documento\"\r\n                  optionFilterProp=\"children\"\r\n                  filterOption={(input, option) =>\r\n                    (option?.label ?? \"\")\r\n                      .toLowerCase()\r\n                      .includes(input.toLowerCase())\r\n                  }\r\n                  options={typeDocs}\r\n                />\r\n              </Form.Item>\r\n            </div>\r\n            <div className=\"col-12 col-md-6\">\r\n              <Form.Item\r\n                label=\"Número de documento\"\r\n                name=\"numero_documento\"\r\n                rules={[{ required: true, message: \"Campo obligatorio\" }]}\r\n              >\r\n                <Input />\r\n              </Form.Item>\r\n            </div>\r\n            <div className=\"col-12 col-md-6\">\r\n              <Form.Item label=\"Número de celular\" name=\"celular\">\r\n                <Input />\r\n              </Form.Item>\r\n            </div>\r\n            <div className=\"col-12 col-md-6\">\r\n              <Form.Item label=\"Email\" name=\"email\">\r\n                <Input />\r\n              </Form.Item>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"d-flex justify-content-end\">\r\n            <Button htmlType=\"button\" onClick={ () => history.push(`/detail-professional/${id}`)\r\n            } >\r\n              Regresar\r\n            </Button>\r\n            <Button type=\"primary\" htmlType=\"submit\" loading={loading}>\r\n              Actualizar\r\n            </Button>\r\n          </div>\r\n        </Form>\r\n      </Card>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EditProfesional;\r\n"],"sourceRoot":""}
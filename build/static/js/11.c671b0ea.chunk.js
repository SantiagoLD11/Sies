(this["webpackJsonpwieldy-hook"]=this["webpackJsonpwieldy-hook"]||[]).push([[11],{943:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n(175);function r(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Object(o.a)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,c=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw c}}}}},951:function(e,t,n){"use strict";var o=n(943),r=n(2),a=n(4),c=n(6),i=n(12),s=n(5),l=n(352),u=n(145),d=n(926),b=n(78),m=n(160),f=n(506),p=n(0),j=n(63),v=n(21),O=n(1);t.a=function(e){var t=e.open,n=e.setOpen,x=(e.numero_doc,e.dataIntegrarProfesional),h=e.getDatagrid,g=(e.setDataIntegrarProfesional,e.cargando),k=l.a.useNotification(),y=Object(s.a)(k,2),w=y[0],_=y[1],C=function(){return n(!1)},I=Object(p.useState)([]),N=Object(s.a)(I,2),S=N[0],D=N[1],F=Object(p.useState)(!1),P=Object(s.a)(F,2),T=P[0],B=P[1],E=Object(j.g)(),A=Object(p.useState)({tipo_documento:"",numero_documento:""}),L=Object(s.a)(A,2),z=L[0],q=L[1],J=u.a.useForm(),V=Object(s.a)(J,1)[0],$=function(){var e=Object(i.a)(Object(c.a)().mark((function e(t){var n,o;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B(!0),e.prev=1,e.next=4,Object(v.w)(t);case 4:return e.next=6,w.open({type:"success",description:"Profesional integrado correctamente"});case 6:E.push({pathname:"/detail-professional/".concat(null===t||void 0===t?void 0:t.numero_documento),state:{type:"numero_document"}}),C(),e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,w.open({type:"error",description:null===(n=e.t0.response)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.message});case 14:B(!1);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var t;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.vc)();case 2:t=e.sent,D(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(p.useEffect)((function(){K()}),[]),Object(p.useEffect)(Object(i.a)(Object(c.a)().mark((function e(){var t,n,r,a,i,s,l;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!x.Integrar){e.next=33;break}n=Object(o.a)(S),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=11;break}if((a=r.value).label!==(null===x||void 0===x?void 0:x.Tipo_Documento)){e.next=9;break}return t=a.value,e.abrupt("break",11);case 9:e.next=4;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),n.e(e.t0);case 16:return e.prev=16,n.f(),e.finish(16);case 19:return i={tipo_documento:t,numero_documento:null===x||void 0===x?void 0:x.Numero_Documento},e.prev=20,e.next=23,Object(v.w)(i);case 23:return e.next=25,w.open({type:"success",description:"Profesional integrado correctamente"});case 25:h(null===x||void 0===x?void 0:x.filtros),e.next=33;break;case 28:return e.prev=28,e.t1=e.catch(20),e.next=32,w.open({type:"error",description:null===(s=e.t1.response)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.message});case 32:g(!1);case 33:case"end":return e.stop()}}),e,null,[[2,13,16,19],[20,28]])}))),[x]),Object(O.jsxs)(O.Fragment,{children:[_,Object(O.jsx)(d.a,{title:"Crear Profesional",open:t,onCancel:C,footer:[Object(O.jsx)(b.a,{onClick:C,children:"Cancelar"},"button-cancel"),Object(O.jsx)(b.a,{loading:T,onClick:function(){return V.submit()},children:"Integrar"},"button-integrar")],children:Object(O.jsx)(u.a,{name:"wrap",layout:"vertical",colon:!1,onFinish:$,form:V,autoComplete:"off",children:Object(O.jsxs)("div",{className:"row align-items-center",children:[Object(O.jsx)("div",{className:"col-12 col-md-6 col-lg-6",children:Object(O.jsx)(u.a.Item,{label:"Tipo de documento",name:"tipo_documento",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(O.jsx)(m.a,{className:"w-100",showSearch:!0,placeholder:"Selecciona tipo de documento",optionFilterProp:"children",filterOption:function(e,t){var n;return(null!==(n=null===t||void 0===t?void 0:t.label)&&void 0!==n?n:"").toLowerCase().includes(e.toLowerCase())},options:S})})}),Object(O.jsx)("div",{className:"col-12 col-md-6 col-lg-6",children:Object(O.jsx)(u.a.Item,{label:"N\xfamero de documento",name:"numero_documento",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(O.jsx)(f.a,{onChange:function(e){var t=e.target;console.log("target",t),q(Object(a.a)(Object(a.a)({},z),{},Object(r.a)({},t.name,t.value)))},name:"numero_documento"})})})]})})})]})}},969:function(e,t,n){"use strict";n.r(t);var o=n(943),r=n(6),a=n(12),c=n(5),i=n(145),s=n(507),l=n(936),u=n(78),d=n(506),b=n(508),m=n(160),f=n(934),p=n(0),j=n(21),v=n(84),O=n.n(v),x=n(951),h=n(63),g=(n(513),n(515),n(1));t.default=function(){var e=Object(p.useState)(!1),t=Object(c.a)(e,2),n=t[0],v=t[1],k=Object(p.useState)(!1),y=Object(c.a)(k,2),w=y[0],_=y[1],C=Object(p.useState)(void 0),I=Object(c.a)(C,2),N=I[0],S=I[1],D=Object(p.useState)(""),F=Object(c.a)(D,2),P=F[0],T=F[1],B=Object(p.useState)(""),E=Object(c.a)(B,2),A=E[0],L=E[1],z=Object(p.useState)(!0),q=Object(c.a)(z,2),J=q[0],V=q[1],$=Object(p.useState)([]),K=Object(c.a)($,2),M=K[0],R=K[1],W=i.a.useForm(),G=Object(c.a)(W,1)[0],H=Object(p.useState)(!1),Q=Object(c.a)(H,2),U=Q[0],X=Q[1],Y=Object(h.g)(),Z=s.b.useMessage(),ee=Object(c.a)(Z,2),te=ee[0],ne=ee[1],oe=Object(p.useState)([]),re=Object(c.a)(oe,2),ae=re[0],ce=re[1],ie=Object(p.useState)({Integrar:!1,Tipo_Documento:null,Numero_Documento:null,filtros:null}),se=Object(c.a)(ie,2),le=se[0],ue=se[1],de=function(){var e=Object(a.a)(Object(r.a)().mark((function e(){var t;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.tc)();case 2:t=e.sent,ce(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),be=function(){O.a.fire({title:"Cargando...",text:"Por favor, espera un momento..",icon:"info",allowOutsideClick:!1,allowEscapeKey:!1,focusConfirm:!1,showConfirmButton:!1,showCloseButton:!1,didOpen:function(){O.a.showLoading()}})},me=function(){O.a.close()};Object(p.useEffect)((function(){de()}),[]);var fe=function(){var e=Object(a.a)(Object(r.a)().mark((function e(t){var n,o,a;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("Valores: ".concat(P,", ").concat(A,", ").concat(N,', "valor: ",').concat(null===t||void 0===t?void 0:t.nombre)),!((null===t||void 0===t||null===(n=t.nombre)||void 0===n?void 0:n.length)>=3&&void 0===N)){e.next=18;break}return _(!0),be(),e.next=6,Object(j.xc)(N,t);case 6:if(0!==(o=e.sent).length){e.next=12;break}return e.next=10,pe(t);case 10:e.next=15;break;case 12:me(),_(!1),R(o);case 15:ue({Integrar:!1,Tipo_Documento:null,Numero_Documento:null,filtros:null}),e.next=33;break;case 18:if(void 0===N||""!==P){e.next=33;break}return _(!0),be(),e.next=23,Object(j.xc)(N,t);case 23:if(0!==(a=e.sent).length){e.next=29;break}return e.next=27,pe(t);case 27:e.next=32;break;case 29:_(!1),me(),R(a);case 32:ue({Integrar:!1,Tipo_Documento:null,Numero_Documento:null,filtros:null});case 33:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pe=function(){var e=Object(a.a)(Object(r.a)().mark((function e(t){var n,a,c,i;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(null===t||void 0===t?void 0:t.nombre)&&""!==(null===t||void 0===t?void 0:t.nombre)&&null!==(null===t||void 0===t?void 0:t.nombre)){e.next=22;break}a=Object(o.a)(ae),e.prev=2,a.s();case 4:if((c=a.n()).done){e.next=11;break}if((i=c.value).value!==t.tipo_doc){e.next=9;break}return n=i.label,e.abrupt("break",11);case 9:e.next=4;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),a.e(e.t0);case 16:return e.prev=16,a.f(),e.finish(16);case 19:ue({Integrar:!0,Tipo_Documento:n,Numero_Documento:N,filtros:t}),e.next=26;break;case 22:return e.next=24,O.a.fire({title:"No existen registros",text:"\xbfDesea integrar un profesional?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"No",confirmButtonText:"Si, integrar"});case 24:e.sent.isConfirmed?(X(!0),_(!1)):_(!1);case 26:case"end":return e.stop()}}),e,null,[[2,13,16,19]])})));return function(t){return e.apply(this,arguments)}}(),je=function(e){var t=e.target;if(V(!1),void 0!==(null===t||void 0===t?void 0:t.value)&&""!==(null===t||void 0===t?void 0:t.value)){if("numero_doc"===t.name){var n=t.value;S(n),T("")}if("nombre"===t.name){var o=t.value;fe({nombre:o}),T(o),S(void 0),L("")}if("tipo_doc"===t.name){var r=t.value;L(r),T(""),S(void 0)}v({name:t.name}),V(!(""!==A&&void 0!==N&&""===P||""===A&&void 0===N&&""!==P))}else S(void 0),v(!1),V(!0)},ve=[{title:"Nombres",dataIndex:"nombres",key:"nombres",render:function(e){return Object(g.jsx)("strong",{children:e})}},{title:"Apellidos",dataIndex:"apellidos",key:"apellidos",render:function(e){return Object(g.jsx)("strong",{children:e})}},{title:"Tipo de documento",dataIndex:"tipo_documento",key:"tipo_documento"},{title:"N\xfamero de documento",dataIndex:"numero_documento",key:"numero_documento",render:function(e){return Object(g.jsx)("strong",{children:e})}},{title:"Profesi\xf3n",dataIndex:"profesion",key:"profesion"},{title:"Acciones",key:"action",align:"center",children:[{title:"Ver",key:"ver",fixed:"right",width:"5%",render:function(e){var t=function(){var t=Object(a.a)(Object(r.a)().mark((function t(){var n,o,a;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return _(!0),be(),t.prev=2,t.next=5,Object(j.h)(null===e||void 0===e?void 0:e.id,null===e||void 0===e?void 0:e.id_professional);case 5:return te.open({type:"success",content:"Actualizado correctamente"}),t.next=8,Object(j.E)(null===e||void 0===e?void 0:e.numero_documento);case 8:n=t.sent,_(!1),me(),Y.push({pathname:"/detail-professional/".concat(null===e||void 0===e?void 0:e.id_professional),state:{detail:n}}),t.next=22;break;case 14:return t.prev=14,t.t0=t.catch(2),console.log("error: ",t.t0),t.next=19,te.open({type:"error",content:(null===(o=t.t0.response)||void 0===o||null===(a=o.data)||void 0===a?void 0:a.message)||"Error: Actualizaci\xf3n Fallida Revise Numero de Documento"});case 19:_(!1),me(),Y.push("/detail-professional/".concat(null===e||void 0===e?void 0:e.id_professional));case 22:case"end":return t.stop()}}),t,null,[[2,14]])})));return function(){return t.apply(this,arguments)}}();return Object(g.jsx)("i",{style:{cursor:"pointer"},className:"icon icon-view",onClick:t})}},{title:"Editar",key:"editar",dataIndex:"id_professional",fixed:"right",width:"6%",render:function(e){return Object(g.jsx)("i",{style:{cursor:"pointer"},className:"icon icon-edit",onClick:function(){Y.push("/edit-professional/".concat(e))}})}}]}],Oe=function(e){var t=e.clipboardData.getData("text");setTimeout((function(){null==t&&""==t&&void 0==t||V(!1)}),0)};return Object(g.jsxs)(g.Fragment,{children:[ne,Object(g.jsx)(x.a,{open:U,setOpen:X,numero_doc:N,getDatagrid:fe,dataIntegrarProfesional:le,setDataIntegrarProfesional:ue,cargando:_}),Object(g.jsx)(l.a,{headStyle:{background:"#184F9D"},title:Object(g.jsx)("span",{style:{fontWeight:"bold",fontSize:"18px",color:"#FFF"},children:"Buscar Profesional"}),actions:[Object(g.jsx)(u.a,{onClick:function(){G.resetFields(),v(!1),S(null),R([]),V(!0),L("")},children:"Limpiar Filtros"},"Limpiar"),Object(g.jsx)(u.a,{style:{backgroundColor:"#00ABC8",color:"#FFF"},htmlType:"submit",onClick:function(){return G.submit()},disabled:J,loading:w,children:"Consultar"},"Consultar")],children:Object(g.jsx)(i.a,{name:"wrap",layout:"vertical",colon:!1,onFinish:fe,form:G,autoComplete:"off",children:Object(g.jsxs)("div",{className:"row align-items-center",children:[Object(g.jsx)("div",{className:"col-12 col-md-6 col-lg-6",children:Object(g.jsx)(i.a.Item,{label:"Nombre completo",name:"nombre",children:Object(g.jsx)(d.a,{onChange:je,name:"nombre",disabled:"numero_doc"===(null===n||void 0===n?void 0:n.name),onPaste:function(e){Oe(e)}})})}),Object(g.jsx)("div",{className:"col-12 col-md-6 col-lg-6",children:Object(g.jsxs)(b.b.Compact,{block:!0,children:[Object(g.jsx)(i.a.Item,{label:"Tipo",name:"tipo_doc",style:{width:"15%"},children:Object(g.jsx)(m.a,{onChange:function(e){je({target:{name:"tipo_doc",value:e}})},name:"tipo_doc",disabled:"nombre"===(null===n||void 0===n?void 0:n.name),options:ae,value:A})}),Object(g.jsxs)(i.a.Item,{label:"N\xfamero de documento",name:"numero_doc",style:{width:"85%"},children:[Object(g.jsx)(d.a,{onChange:function(e){/^[0-9]{0,20}$|^$/.test(e.target.value)&&je(e)},name:"numero_doc",disabled:"nombre"===(null===n||void 0===n?void 0:n.name),value:N,onPaste:function(e){Oe(e)}}),Object(g.jsx)("input",{hidden:!0,name:"numero_doc",value:N})]})]})})]})})}),M.length>0&&Object(g.jsx)(l.a,{children:Object(g.jsx)(f.a,{columns:ve,loading:w,dataSource:M,scroll:{x:1300}})})]})}}}]);
//# sourceMappingURL=11.c671b0ea.chunk.js.map
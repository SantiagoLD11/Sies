(this["webpackJsonpwieldy-hook"]=this["webpackJsonpwieldy-hook"]||[]).push([[12],{943:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(175);function o(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Object(a.a)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,c=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw c}}}}},956:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(6),o=n(12),r=n(5),c=n(145),i=n(507),l=n(926),u=n(79),s=n(506),d=n(160),b=n(0),m=n(19),j=n(1),p=function(e){var t=e.setIsActualizar,n=e.open,p=e.setOpen,v=e.idPaciente,f=Object(b.useState)(""),O=Object(r.a)(f,2),x=(O[0],O[1],Object(b.useState)("")),h=Object(r.a)(x,2),g=(h[0],h[1],Object(b.useState)(!1)),y=Object(r.a)(g,2),k=y[0],C=y[1],w=c.a.useForm(),_=Object(r.a)(w,1)[0],S=i.b.useMessage(),N=Object(r.a)(S,2),I=N[0],F=N[1],D=Object(b.useState)([]),P=Object(r.a)(D,2),T=P[0],A=P[1],q=Object(b.useState)({Direccion:"",Celular:"",Tel:"",Ciudad:"",Email:""}),E=Object(r.a)(q,2),B=E[0],z=E[1],L=function(){return p(!1)};Object(b.useEffect)((function(){v&&n&&V()}),[n]);var V=function(){var e=Object(o.a)(Object(a.a)().mark((function e(){var t,n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.O)(v);case 2:return t=e.sent,z(t),e.next=6,Object(m.kc)();case 6:n=e.sent,A(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(o.a)(Object(a.a)().mark((function e(n){var o,r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n),C(!0),e.prev=2,e.next=5,Object(m.Mc)(v,n);case 5:return e.next=7,I.open({type:"success",content:"Paciente Actualizado Correctamente"});case 7:L(),e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(2),e.next=14,I.open({type:"error",content:null===(o=e.t0.response)||void 0===o||null===(r=o.data)||void 0===r?void 0:r.message});case 14:C(!1),t(!0),p(!1);case 17:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)(j.Fragment,{children:[F,Object(j.jsx)(l.a,{title:"Editar Paciente",open:n,onCancel:L,onOk:$,footer:[Object(j.jsx)(u.a,{onClick:L,children:"Cancelar"},"button-cancel"),Object(j.jsx)(u.a,{htmlType:"submit",form:"basic",loading:k,style:{backgroundColor:"#00ABC8",color:"#FFF"},disabled:_.getFieldsError().filter((function(e){return e.errors.length})).length>0,children:"Actualizar"},"button-actualizar")],children:Object(j.jsx)(c.a,{form:_,id:"basic",name:"basic",onFinish:$,autoComplete:"off",layout:"vertical",fields:[{name:["direccion"],value:(null===B||void 0===B?void 0:B.Direccion)||""},{name:["celular"],value:(null===B||void 0===B?void 0:B.Celular)||""},{name:["tel"],value:(null===B||void 0===B?void 0:B.Tel)||""},{name:["ciudad"],value:(null===B||void 0===B?void 0:B.Ciudad)||""},{name:["email"],value:(null===B||void 0===B?void 0:B.Email)||""}],children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-12 col-md-6",children:Object(j.jsx)(c.a.Item,{label:"Direcci\xf3n",name:"direccion",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(j.jsx)(s.a,{})})}),Object(j.jsx)("div",{className:"col-12 col-md-6",children:Object(j.jsx)(c.a.Item,{label:"Celular",name:"celular",rules:[{required:!0,message:"Por favor, ingresa solo n\xfameros",pattern:/^[0-9]*$/}],children:Object(j.jsx)(s.a,{type:"text"})})}),Object(j.jsx)("div",{className:"col-12 col-md-6",children:Object(j.jsx)(c.a.Item,{label:"Tel\xe9fono",name:"tel",rules:[{required:!0,message:"Por favor, ingresa solo n\xfameros",pattern:/^[0-9]*$/}],children:Object(j.jsx)(s.a,{type:"text"})})}),Object(j.jsx)("div",{className:"col-12 col-md-6",children:Object(j.jsx)(c.a.Item,{label:"Ciudad",name:"ciudad",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(j.jsx)(d.a,{showSearch:!0,name:"ciudad",optionFilterProp:"children",filterOption:function(e,t){var n;return(null!==(n=null===t||void 0===t?void 0:t.label)&&void 0!==n?n:"").toLowerCase().includes(e.toLowerCase())},options:T})})}),Object(j.jsx)("div",{className:"col-12 col-md-6",children:Object(j.jsx)(c.a.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Por favor, ingresa un correo electr\xf3nico v\xe1lido",type:"email"}],children:Object(j.jsx)(s.a,{type:"email"})})})]})})})]})}},983:function(e,t,n){"use strict";n.r(t);var a=n(943),o=n(6),r=n(12),c=n(5),i=n(0),l=n(19),u=n(145),s=n(352),d=n(398),b=n(936),m=n(79),j=n(506),p=n(508),v=n(160),f=n(934),O=n(71),x=n.n(O),h=n(2),g=n(4),y=n(926),k=n(63),C=n(1),w=function(e){var t=e.open,n=e.setOpen,d=(e.numero_doc,e.dataIntegrarPaciente),b=e.getDatagrid,p=e.cargando,f=s.a.useNotification(),O=Object(c.a)(f,2),x=O[0],w=O[1],_=Object(k.g)(),S=Object(i.useState)([]),N=Object(c.a)(S,2),I=N[0],F=N[1],D=function(){return n(!1)},P=u.a.useForm(),T=Object(c.a)(P,1)[0],A=Object(i.useState)(!1),q=Object(c.a)(A,2),E=q[0],B=q[1],z=Object(i.useState)({tipo_documento:"",numero_documento:""}),L=Object(c.a)(z,2),V=L[0],$=L[1],J=function(){var e=Object(r.a)(Object(o.a)().mark((function e(t){var n,a;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B(!0),e.prev=1,e.next=4,Object(l.t)(t);case 4:return e.next=6,x.open({type:"success",description:"Paciente integrado correctamente"});case 6:_.push({pathname:"/detail-patient/".concat(null===t||void 0===t?void 0:t.numero_documento),state:{type:"numero_document"}}),D(),e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,x.open({type:"error",description:null===(n=e.t0.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message});case 14:B(!1);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(r.a)(Object(o.a)().mark((function e(){var t;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.vc)();case 2:t=e.sent,F(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)(Object(r.a)(Object(o.a)().mark((function e(){var t,n,r,c,i,u,s;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d.Integrar){e.next=33;break}n=Object(a.a)(I),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=11;break}if((c=r.value).label!==(null===d||void 0===d?void 0:d.Tipo_Documento)){e.next=9;break}return t=c.value,e.abrupt("break",11);case 9:e.next=4;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),n.e(e.t0);case 16:return e.prev=16,n.f(),e.finish(16);case 19:return i={tipo_documento:t,numero_documento:null===d||void 0===d?void 0:d.Numero_Documento},e.prev=20,e.next=23,Object(l.t)(i);case 23:return e.next=25,x.open({type:"success",description:"Paciente integrado correctamente"});case 25:b(null===d||void 0===d?void 0:d.filtros),e.next=33;break;case 28:return e.prev=28,e.t1=e.catch(20),e.next=32,x.open({type:"error",description:null===(u=e.t1.response)||void 0===u||null===(s=u.data)||void 0===s?void 0:s.message});case 32:p(!1);case 33:case"end":return e.stop()}}),e,null,[[2,13,16,19],[20,28]])}))),[d]),Object(i.useEffect)((function(){M()}),[]),Object(C.jsxs)(C.Fragment,{children:[w,Object(C.jsx)(y.a,{title:"Crear Paciente",open:t,onCancel:D,footer:[Object(C.jsx)(m.a,{onClick:D,children:"Cancelar"},"button-cancel"),Object(C.jsx)(m.a,{loading:E,onClick:function(){return T.submit()},children:"Integrar"},"button-integrar")],children:Object(C.jsx)(u.a,{name:"wrap",layout:"vertical",colon:!1,onFinish:J,form:T,autoComplete:"off",children:Object(C.jsxs)("div",{className:"row align-items-center",children:[Object(C.jsx)("div",{className:"col-12 col-md-6 col-lg-6",children:Object(C.jsx)(u.a.Item,{label:"Tipo de documento",name:"tipo_documento",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(C.jsx)(v.a,{className:"w-100",showSearch:!0,placeholder:"Selecciona tipo de documento",optionFilterProp:"children",filterOption:function(e,t){var n;return(null!==(n=null===t||void 0===t?void 0:t.label)&&void 0!==n?n:"").toLowerCase().includes(e.toLowerCase())},options:I})})}),Object(C.jsx)("div",{className:"col-12 col-md-6 col-lg-6",children:Object(C.jsx)(u.a.Item,{label:"N\xfamero de documento",name:"numero_documento",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(C.jsx)(j.a,{onChange:function(e){var t=e.target;console.log("target",t),$(Object(g.a)(Object(g.a)({},V),{},Object(h.a)({},t.name,t.value)))},name:"numero_documento"})})})]})})})]})},_=n(956);t.default=function(){var e=u.a.useForm(),t=Object(c.a)(e,1)[0],n=s.a.useNotification(),O=Object(c.a)(n,2),h=O[0],g=O[1],y=Object(i.useState)(!1),S=Object(c.a)(y,2),N=S[0],I=S[1],F=Object(i.useState)(!0),D=Object(c.a)(F,2),P=D[0],T=D[1],A=Object(i.useState)(!1),q=Object(c.a)(A,2),E=q[0],B=q[1],z=Object(i.useState)(""),L=Object(c.a)(z,2),V=L[0],$=L[1],J=Object(i.useState)(""),M=Object(c.a)(J,2),W=M[0],G=M[1],H=Object(i.useState)(void 0),K=Object(c.a)(H,2),Q=K[0],R=K[1],U=Object(i.useState)([]),X=Object(c.a)(U,2),Y=X[0],Z=X[1],ee=Object(i.useState)(!1),te=Object(c.a)(ee,2),ne=te[0],ae=te[1],oe=Object(i.useState)(null),re=Object(c.a)(oe,2),ce=re[0],ie=re[1],le=Object(i.useState)(!1),ue=Object(c.a)(le,2),se=ue[0],de=ue[1],be=Object(i.useState)([]),me=Object(c.a)(be,2),je=me[0],pe=me[1],ve=Object(i.useState)({Integrar:!1,Tipo_Documento:null,Numero_Documento:null,filtros:null}),fe=Object(c.a)(ve,2),Oe=fe[0],xe=fe[1],he=Object(k.g)(),ge=function(){var e=Object(r.a)(Object(o.a)().mark((function e(t){var n,a,r,c,i;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.tipo_doc||0!=(null===t||void 0===t||null===(n=t.nombre)||void 0===n?void 0:n.length)){e.next=3;break}return x.a.fire({icon:"error",title:"Oops...",text:"El campo tipo de documento es requerido"}),e.abrupt("return");case 3:if(t.numero_doc||0!=(null===t||void 0===t||null===(a=t.nombre)||void 0===a?void 0:a.length)){e.next=6;break}return x.a.fire({icon:"error",title:"Oops...",text:"El campo n\xfamero de documento es requerido"}),e.abrupt("return");case 6:if(!((null===t||void 0===t||null===(r=t.nombre)||void 0===r?void 0:r.length)>=3)||Q){e.next=22;break}return B(!0),console.log("que saca: ",t),e.next=11,Object(l.xc)(Q,t);case 11:if(0!==(c=e.sent).length){e.next=17;break}return e.next=15,ye(t);case 15:e.next=19;break;case 17:B(!1),Z(c);case 19:xe({Integrar:!1,Tipo_Documento:null,Numero_Documento:null,filtros:null}),e.next=36;break;case 22:if(void 0===Q||""!==V){e.next=36;break}return B(!0),console.log("que saca: ",t),e.next=27,Object(l.xc)(Q,t);case 27:if(0!==(i=e.sent).length){e.next=33;break}return e.next=31,ye(t);case 31:e.next=35;break;case 33:B(!1),Z(i);case 35:xe({Integrar:!1,Tipo_Documento:null,Numero_Documento:null,filtros:null});case 36:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ye=function(){var e=Object(r.a)(Object(o.a)().mark((function e(t){var n,r,c,i;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(null===t||void 0===t?void 0:t.nombre)&&""!==(null===t||void 0===t?void 0:t.nombre)&&null!==(null===t||void 0===t?void 0:t.nombre)){e.next=22;break}r=Object(a.a)(je),e.prev=2,r.s();case 4:if((c=r.n()).done){e.next=11;break}if((i=c.value).value!==t.tipo_doc){e.next=9;break}return n=i.label,e.abrupt("break",11);case 9:e.next=4;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),r.e(e.t0);case 16:return e.prev=16,r.f(),e.finish(16);case 19:xe({Integrar:!0,Tipo_Documento:n,Numero_Documento:Q,filtros:t}),e.next=26;break;case 22:return e.next=24,x.a.fire({title:"No existen registros",text:"\xbfDesea integrar un paciente?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"No",confirmButtonText:"Si, integrar"});case 24:e.sent.isConfirmed?(ae(!0),B(!1),Object(l.fc)()):(B(!1),Object(l.fc)());case 26:case"end":return e.stop()}}),e,null,[[2,13,16,19]])})));return function(t){return e.apply(this,arguments)}}(),ke=function(e){var n=e.target;if(T(!1),console.log("Valores: ".concat(V,", ").concat(W,", ").concat(Q)),void 0!==(null===n||void 0===n?void 0:n.value)&&""!==(null===n||void 0===n?void 0:n.value)){if("numero_doc"===n.name){var a=n.value;R(a),$("")}if("nombre"===n.name){var o=n.value;ge({nombre:o}),$(o),R(""),G("")}if("tipo_doc"===n.name){n.value;G(t.getFieldValue("tipo_doc")),$(""),R(t.getFieldValue("numero_doc"))}I({name:n.name}),T(!(""!==W&&void 0!==Q&&""===V||""===W&&void 0===Q&&""!==V))}else R(""),I(!1),T(!0)},Ce=function(){var e=Object(r.a)(Object(o.a)().mark((function e(){var t;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.oc)();case 2:t=e.sent,pe(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){Ce()}),[]);var we=[{title:"Nombres",dataIndex:"nombres",key:"nombres",render:function(e){return Object(C.jsx)("strong",{children:e})}},{title:"Apellidos",dataIndex:"apellidos",key:"apellidos",render:function(e){return Object(C.jsx)("strong",{children:e})}},{title:"Tipo de documento",dataIndex:"tipo_documento",key:"tipo_documento"},{title:"N\xfamero de documento",dataIndex:"numero_documento",key:"numero_documento",render:function(e){return Object(C.jsx)("strong",{children:e})}},{title:"Celular",key:"celular",dataIndex:"celular"},{title:"Tipo Afiliaci\xf3n",dataIndex:"tipoAfiliacion",key:"tipoAfiliacion"},{title:"Nivel Afiliaci\xf3n",dataIndex:"nivelAfiliacion",key:"nivelAfiliacion"},{title:"Acciones",key:"action",align:"center",children:[{title:"Ver",key:"ver",fixed:"right",width:"5%",render:function(e){var t=function(){var t=Object(r.a)(Object(o.a)().mark((function t(){var n,a,r;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Object(l.Cc)(),B(!0),t.prev=2,t.next=5,Object(l.g)(null===e||void 0===e?void 0:e.numero_documento);case 5:return h.open({type:"success",content:"Actualizado correctamente"}),t.next=8,Object(l.D)(null===e||void 0===e?void 0:e.numero_documento);case 8:n=t.sent,B(!1),Object(l.fc)(),he.push({pathname:"/detail-patient/".concat(null===e||void 0===e?void 0:e.id),state:{detail:n}}),t.next=20;break;case 14:t.prev=14,t.t0=t.catch(2),h.open({type:"error",content:(null===(a=t.t0.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.message)||"error"}),B(!1),Object(l.fc)(),he.push("/detail-patient/".concat(null===e||void 0===e?void 0:e.id));case 20:case"end":return t.stop()}}),t,null,[[2,14]])})));return function(){return t.apply(this,arguments)}}();return Object(C.jsx)("i",{style:{cursor:"pointer"},className:"icon icon-view",onClick:t})}},{title:"Editar",key:"editar",dataIndex:"id",fixed:"right",width:"6%",render:function(e){return Object(C.jsx)("i",{style:{cursor:"pointer"},className:"icon icon-edit",onClick:function(){de(!0),ie(e)}})}}]}],_e=function(e){var t=e.clipboardData.getData("text");setTimeout((function(){null==t&&""==t&&void 0==t||T(!1)}),0)};return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(d.a,{spinning:E,children:[g,Object(C.jsx)(w,{open:ne,setOpen:ae,numero_doc:Q,getDatagrid:ge,dataIntegrarPaciente:Oe,cargando:B}),Object(C.jsx)(_.a,{open:se,setOpen:de,idPaciente:ce}),Object(C.jsx)(b.a,{headStyle:{background:"#184F9D"},style:{boxShadow:"1px 4px 8px 0 rgba(0,0,0,0.2)"},title:Object(C.jsx)("span",{style:{fontWeight:"bold",fontSize:"18px",color:"#FFF"},children:"Buscar Paciente"}),actions:[Object(C.jsx)(m.a,{type:"primary",htmlType:"submit",onClick:function(){t.resetFields(),I(!1),R(null),Z([]),T(!0),G("")},children:"Limpiar Filtros"},"Limpiar"),Object(C.jsx)(m.a,{style:{backgroundColor:"#00ABC8",color:"#FFF"},type:"primary",htmlType:"submit",onClick:function(){return t.submit()},disabled:P,loading:E,children:"Consultar"},"Consultar")],children:Object(C.jsx)(u.a,{name:"wrap",layout:"vertical",colon:!1,onFinish:ge,form:t,autoComplete:"off",children:Object(C.jsxs)("div",{className:"row align-items-center",children:[Object(C.jsx)("div",{className:"col-12 col-md-6 col-lg-6",children:Object(C.jsx)(u.a.Item,{label:"Nombre completo",name:"nombre",children:Object(C.jsx)(j.a,{onChange:ke,name:"nombre",disabled:"numero_doc"===(null===N||void 0===N?void 0:N.name)||"tipo_doc"===(null===N||void 0===N?void 0:N.name),onPaste:function(e){_e(e)}})})}),Object(C.jsx)("div",{className:"col-12 col-md-6 col-lg-6",children:Object(C.jsxs)(p.b.Compact,{block:!0,children:[Object(C.jsx)(u.a.Item,{label:"Tipo",name:"tipo_doc",style:{width:"15%"},rules:[{required:!t.getFieldValue("numero_doc"),message:"\xa1Por favor, selecciona el tipo de documento!"}],children:Object(C.jsx)(v.a,{onChange:function(e){ke({target:{name:"tipo_doc",value:e}})},name:"tipo_doc",disabled:"nombre"===(null===N||void 0===N?void 0:N.name),options:je,value:W})}),Object(C.jsxs)(u.a.Item,{label:"N\xfamero de documento",name:"numero_doc",style:{width:"85%"},rules:[{required:!t.getFieldValue("tipo_doc"),message:"\xa1Por favor, ingresa el n\xfamero de documento!"}],children:[Object(C.jsx)(j.a,{onChange:function(e){/^[0-9]{0,20}$|^$/.test(e.target.value)&&ke(e)},name:"numero_doc",disabled:"nombre"===(null===N||void 0===N?void 0:N.name),value:Q,onPaste:function(e){_e(e)}}),Object(C.jsx)("input",{hidden:!0,name:"numero_doc",value:Q})]})]})})]})})}),Y.length>0&&Object(C.jsx)(b.a,{children:Object(C.jsx)(f.a,{columns:we,loading:E,dataSource:Y,scroll:{x:1300}})})]})})}}}]);
//# sourceMappingURL=12.73cfc1c9.chunk.js.map
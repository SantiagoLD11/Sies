(this["webpackJsonpwieldy-hook"]=this["webpackJsonpwieldy-hook"]||[]).push([[6],{915:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(188);function c(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Object(a.a)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var c=0,i=function(){};return{s:i,n:function(){return c>=e.length?{done:!0}:{done:!1,value:e[c++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,r=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){r=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(r)throw o}}}}},917:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return u}));var a=n(298),c=n(300),i=n(299),o=n(977),l=n(1),r={1:{color:"#ff69b4",icon:Object(l.jsx)(a.a,{}),text:"Disponible"},2:{color:"#c0c0c0",icon:Object(l.jsx)(c.a,{}),text:"Bloqueado"},3:{color:"#BDCA44",icon:Object(l.jsx)(i.a,{}),text:"Asignado Cita"},4:{color:"#F14040",icon:Object(l.jsx)(o.a,{}),text:"Eliminado"}},s={0:{0:{color:"#37FC0F",text:"No esta pendiente"},1:{color:"#FF2929",text:"Rechazado"}},1:{0:{color:"#FF8A8A",text:"Pendiente"},1:{color:"#FF0000",text:"Error"}}},d={Asistida:{color:"#7AD3FF",text:"Disponible"},Solicitada:{color:"#92FF33",text:"Bloqueado"},Creada:{color:"#F5EA53",text:"Asignado Cita"},"No Asistida":{color:"#D8ABFF ",text:"Eliminado"},Cancelado:{color:"#C4A5AD",text:"Cancelado"},Reprogramada:{color:"#FCB3FF",text:"Reprogramada"}},u={Creado:{color:"#62a864",text:"Creado"},Inactivo:{color:"#BFBFBF",text:"Inactivo"},Programado:{color:"#00ABC8",text:"Programado"}}},918:function(e,t,n){},920:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a=n(6),c=n(12),i=n(5),o=n(0),l=n(970),r=n(499),s=n(898),d=n(78),u=n(905),j=n(27),b=n(98),x=n.n(b),v=n(498),O=n(143),f=n(159),m=n(1),h=v.a.TextArea,p=function(e){var t=e.isModalCancel,n=e.setIsModalCancel,l=e.dataRow,u=e.getInfo,b=e.isCancel,x=O.a.useForm(),v=Object(i.a)(x,1)[0],p=Object(o.useState)(!1),g=Object(i.a)(p,2),y=g[0],k=g[1],w=Object(o.useState)(null),C=Object(i.a)(w,2),_=C[0],S=C[1],D=r.b.useMessage(),I=Object(i.a)(D,2),E=I[0],F=I[1];Object(o.useEffect)(Object(c.a)(Object(a.a)().mark((function e(){var t;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.sb)();case 2:t=e.sent,S(t);case 4:case"end":return e.stop()}}),e)}))),[]);var M=function(){n(!1),v.resetFields()},N=function(){var e=Object(c.a)(Object(a.a)().mark((function e(){var t,c;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=v.getFieldsValue(),c={idCita:null===l||void 0===l?void 0:l.id,Motivo:null===t||void 0===t?void 0:t.motivo,TexA:null===t||void 0===t?void 0:t.observacion},k(!0),e.next=5,Object(j.p)(c);case 5:if("ok"!=e.sent.status){e.next=11;break}return e.next=9,E.open({type:"success",content:b?"Cita cancelada exitosamente":"Cita reagendada exitosamente"});case 9:e.next=13;break;case 11:return e.next=13,E.open({type:"error",content:"error"});case 13:if(!b){e.next=18;break}return e.next=16,Object(j.tc)(c.idCita);case 16:e.next=20;break;case 18:return e.next=20,Object(j.wc)(c.idCita);case 20:k(!1),n(!1),u();case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)(s.a,{title:b?"Cancelar Cita":"Reagendar Cita",open:t,onCancel:M,footer:[Object(m.jsx)(d.a,{onClick:M,children:"Cancelar"},"button-cancel"),Object(m.jsx)(d.a,{loading:y,onClick:v.submit,children:"Confirmar"},"button-integrar")],children:[F,Object(m.jsxs)(O.a,{colon:!1,onFinish:N,form:v,autoComplete:"off",layout:"vertical",children:[Object(m.jsx)(O.a.Item,{label:"Motivo cancelaci\xf3n",name:"motivo",rules:[{required:!0,message:"Campo obligatorio"}],style:{marginBottom:"20px"},children:Object(m.jsx)(f.a,{className:"w-100",placeholder:"Selecciona un motivo cancelaci\xf3n",options:_})}),Object(m.jsx)(O.a.Item,{label:"Observaci\xf3n",name:"observacion",rules:[{required:!0,message:"Campo obligatorio"}],style:{marginBottom:"20px"},children:Object(m.jsx)(h,{className:"w-100",rows:4})})]})]})},g=l.a.Text,y=function(e){var t=e.open,n=e.setOpen,l=e.dataRow,b=e.idPaciente,v=e.setOpenPopover,O=e.viewButton,f=Object(o.useState)([]),h=Object(i.a)(f,2),y=h[0],k=h[1],w=Object(o.useState)({}),C=Object(i.a)(w,2),_=C[0],S=C[1],D=r.b.useMessage(),I=Object(i.a)(D,2),E=I[0],F=I[1],M=Object(o.useState)(!1),N=Object(i.a)(M,2),A=N[0],T=N[1],H=Object(o.useState)(!1),Y=Object(i.a)(H,2),q=Y[0],P=Y[1];Object(o.useEffect)((function(){b&&!0===t&&R()}),[t]);var R=function(){var e=Object(c.a)(Object(a.a)().mark((function e(){var t,n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.R)(l.id);case 2:return t=e.sent,S(t),console.log(l),console.log("Llego: ",t),e.next=8,Object(j.D)(b,l.id);case 8:n=e.sent,console.log("Datatable: ",n),k(n);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){return n(!1)},B=[{title:"Fecha Citas",dataIndex:"Fecha_Cita",key:"Fecha_Cita",render:function(e){return x()(e).format("DD/MM/YYYY")}},{title:"Mes Remision",dataIndex:"MesRemision",key:"MesRemision"},{title:"Estado",dataIndex:"Estado_txt",key:"Estado_txt"},{title:"Especialidad",dataIndex:"Especialidad_txt",key:"Especialidad_txt"},{title:"Canal Remision",dataIndex:"CanalRemision",key:"CanalRemision"},{title:"Resultado",dataIndex:"Resultado",key:"Resultado"}];return Object(m.jsxs)(m.Fragment,{children:[F,Object(m.jsxs)(s.a,{width:null!=y?"70%":"52%",title:"Cita: ".concat(null===l||void 0===l?void 0:l.name),open:t,onCancel:z,footer:[Object(m.jsx)(m.Fragment,{children:O?Object(m.jsx)(d.a,{onClick:function(){v(!0),z()},children:"Atras"},"button-cancel"):null}),Object(m.jsx)(d.a,{onClick:z,children:"Cerrar"},"button-cancel")],children:[Object(m.jsxs)("div",{className:"row",children:[Object(m.jsxs)("div",{className:"col-12 col-md-12 row",children:[Object(m.jsx)("h4",{style:{fontWeight:"bold",textAlign:"left",width:"40%"},children:"INFORMACI\xd3N CITA"}),Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"row",width:"40%"},children:[Object(m.jsx)("label",{style:{fontWeight:"bold",textAlign:"left",width:"72px",fontSize:"18px"},children:"Estado:"}),Object(m.jsx)("div",{style:{display:"flex",width:"220px",fontSize:"18px"},children:Object(m.jsx)(g,{children:null===_||void 0===_?void 0:_.Estado_Txt})})]})]}),Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"75%"},children:[Object(m.jsx)("div",{className:"col-12 col-md-6",children:Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(m.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Ciudad:"}),Object(m.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(m.jsx)(g,{children:null===_||void 0===_?void 0:_.Ciudad_Txt})})]})}),Object(m.jsx)("div",{className:"col-12 col-md-6",children:Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(m.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Sede Sies"}),Object(m.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(m.jsx)(g,{children:null===_||void 0===_?void 0:_.Sedetxt})})]})}),Object(m.jsx)("div",{className:"col-12 col-md-6",children:Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(m.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Tipo Cita:"}),Object(m.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(m.jsx)(g,{children:null===_||void 0===_?void 0:_.Codigo_Tipo})})]})}),Object(m.jsx)("div",{className:"col-12 col-md-6",children:Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(m.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Plan Mensual:"}),Object(m.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(m.jsx)(g,{children:null===_||void 0===_?void 0:_.Plan_Mensual_txt})})]})}),Object(m.jsx)("div",{className:"col-12 col-md-6",children:Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(m.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Especialidad:"}),Object(m.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(m.jsx)(g,{children:null===_||void 0===_?void 0:_.Especialidad_txt})})]})}),Object(m.jsx)("div",{className:"col-12 col-md-6",children:Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(m.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Profesional:"}),Object(m.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(m.jsx)(g,{children:null===_||void 0===_?void 0:_.Profesional_txt})})]})}),Object(m.jsx)("div",{className:"col-12 col-md-6",children:Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(m.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Tipo Examen:"}),Object(m.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(m.jsx)(g,{children:null===_||void 0===_?void 0:_.nameExam})})]})})]}),Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"25%"},children:[Object(m.jsx)(d.a,{style:{backgroundColor:"#00ABC8",width:"130px",color:"#FFF"},onClick:Object(c.a)(Object(a.a)().mark((function e(){var t;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Sirve Agendar",l),e.next=3,Object(j.sc)(l.id);case 3:if("fail"!==(null===(t=e.sent)||void 0===t?void 0:t.status)){e.next=9;break}return e.next=7,E.open({type:"error",content:(null===t||void 0===t?void 0:t.message)||"error"});case 7:e.next=12;break;case 9:if("ok"!==(null===t||void 0===t?void 0:t.status)){e.next=12;break}return e.next=12,E.open({type:"success",content:"Agendada exitosamente"});case 12:case"end":return e.stop()}}),e)}))),disabled:"Cancelado"==(null===l||void 0===l?void 0:l.Estado_Txt)||"Asistida"==(null===l||void 0===l?void 0:l.Estado_Txt)||"Finalizada"==(null===l||void 0===l?void 0:l.Estado_Txt)||"Solicitada"==(null===l||void 0===l?void 0:l.Estado_Txt)||"No Asistida"==(null===l||void 0===l?void 0:l.Estado_Txt),children:"Agendar"}),Object(m.jsx)(d.a,{style:{width:"130px"},onClick:Object(c.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:T(!0),P(!0);case 2:case"end":return e.stop()}}),e)}))),disabled:"Cancelado"==(null===l||void 0===l?void 0:l.Estado_Txt)||"Asistida"==(null===l||void 0===l?void 0:l.Estado_Txt)||"Finalizada"==(null===l||void 0===l?void 0:l.Estado_Txt)||"No Asistida"==(null===l||void 0===l?void 0:l.Estado_Txt),children:"Cancelar"}),Object(m.jsx)(p,{isModalCancel:A,setIsModalCancel:T,dataRow:l,getInfo:R,isCancel:q}),Object(m.jsx)(d.a,{style:{width:"130px"},onClick:Object(c.a)(Object(a.a)().mark((function e(){var t;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.y)(l.id);case 2:if(t=e.sent,console.log("eliminado: ",t),"fail"!==(null===t||void 0===t?void 0:t.status)){e.next=9;break}return e.next=7,E.open({type:"error",content:(null===t||void 0===t?void 0:t.message)||"error"});case 7:e.next=12;break;case 9:if("ok"!==(null===t||void 0===t?void 0:t.status)){e.next=12;break}return e.next=12,E.open({type:"success",content:"Eliminada correctamente"});case 12:n(!1);case 13:case"end":return e.stop()}}),e)}))),disabled:"Cancelado"==(null===l||void 0===l?void 0:l.Estado_Txt)||"Asistida"==(null===l||void 0===l?void 0:l.Estado_Txt)||"Finalizada"==(null===l||void 0===l?void 0:l.Estado_Txt)||"Solicitada"==(null===l||void 0===l?void 0:l.Estado_Txt)||"No Asistida"==(null===l||void 0===l?void 0:l.Estado_Txt),children:"Eliminar"}),"No Asistida"==(null===_||void 0===_?void 0:_.Estado_Txt)?Object(m.jsx)(d.a,{style:{width:"130px"},onClick:Object(c.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:T(!0),P(!1);case 2:case"end":return e.stop()}}),e)}))),children:"Reagendar"}):null]})]}),"Cancelado"==(null===_||void 0===_?void 0:_.Estado_Txt)||"Reprogramada"==(null===_||void 0===_?void 0:_.Estado_Txt)?Object(m.jsx)("div",{className:"row",children:Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(m.jsx)("div",{className:"col-12 col-md-12",children:Object(m.jsx)("h4",{style:{fontWeight:"bold",textAlign:"left"},children:"CANCELACI\xd3N CITA"})}),Object(m.jsx)("div",{className:"col-12 col-md-12",children:Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(m.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Motivo Cancelaci\xf3n:"}),Object(m.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(m.jsx)(g,{children:null===_||void 0===_?void 0:_.Motivo_Cancelacin_txt})})]})}),Object(m.jsx)("div",{className:"col-12 col-md-12",children:Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(m.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Observaci\xf3n Cancelaci\xf3n:"}),Object(m.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(m.jsx)(g,{children:null===_||void 0===_?void 0:_.Observacin_Cancelacin})})]})})]})}):null,null!=y?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"row",children:Object(m.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:Object(m.jsx)("div",{className:"col-12 col-md-12",children:Object(m.jsx)("h4",{style:{fontWeight:"bold",textAlign:"left"},children:"CITAS REMISIONES"})})})}),Object(m.jsx)(u.a,{style:{marginTop:"20px"},columns:B,loading:!1,dataSource:y})]}):null]})]})}},928:function(e,t,n){},971:function(e,t,n){"use strict";n.r(t);var a=n(915),c=n(6),i=n(12),o=n(5),l=n(348),r=n(907),s=n(494),d=n(0),u=n(63),j=(n(505),n(903)),b=n(1),x=function(e){e.infoGeneral;var t=e.examsProfessional,n=e.sedeProfessional,a=Object(d.useState)(null),c=Object(o.a)(a,2),i=(c[0],c[1]),l=Object(d.useState)(null),r=Object(o.a)(l,2),s=(r[0],r[1]);return Object(d.useEffect)((function(){var e=null===Math||void 0===Math?void 0:Math.floor((null===t||void 0===t?void 0:t.length)/2);i(null===t||void 0===t?void 0:t.slice(0,e)),s(null===t||void 0===t?void 0:t.slice(e))}),[t]),Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(j.a,{children:[Object(b.jsxs)("div",{className:"d-flex align-items-center",children:[Object(b.jsx)("img",{src:"/sies/assets/images/IconosMedicos/Examenes.png",style:{height:"50px"},alt:"Descripci\xf3n del icono"}),Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{style:{color:"#8c8c8c"},children:"Ex\xe1menes Habilitados:"}),Object(b.jsx)("ul",{children:null===t||void 0===t?void 0:t.map((function(e){return Object(b.jsx)("li",{children:e.Tipo_Examen_Txt||"Sin informaci\xf3n"},e.Tipo_Examen_Txt)}))})]})]}),Object(b.jsxs)("div",{className:"d-flex",style:{marginLeft:"20px"},children:[Object(b.jsx)("img",{src:"/sies/assets/images/IconosMedicos/Sedes.png",style:{height:"50px"},alt:"Descripci\xf3n del icono"}),Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{style:{color:"#8c8c8c"},children:"Sedes Habilitadas:"}),Object(b.jsx)("ul",{children:null===n||void 0===n?void 0:n.map((function(e){return Object(b.jsx)("li",{children:e.name||"Sin informaci\xf3n"},e.name)}))})]})]})]})})},v=n(27),O=n(905),f=n(98),m=n.n(f),h=function(e){var t=e.id,n=e.activeKey,a=Object(d.useState)([]),l=Object(o.a)(a,2),r=l[0],s=l[1],u=Object(d.useState)(!1),j=Object(o.a)(u,2),x=j[0],f=j[1],h=function(){var e=Object(i.a)(Object(c.a)().mark((function e(t){var n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,Object(v.vb)(t);case 3:n=e.sent,s(n),f(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(d.useEffect)((function(){t&&"3"===n&&h(t)}),[t,n]);var p=[{title:"Fecha de inicio",dataIndex:"fecha_inicio",key:"fecha_inicio",render:function(e){return m()(e).format("DD / MM / YYYY")}},{title:"Fecha final",dataIndex:"fecha_final",key:"fecha_final",render:function(e){return m()(e).format("DD / MM / YYYY")}},{title:"Hora de inicio",dataIndex:"hora_inicio",key:"hora_inicio",render:function(e){var t=Math.floor(e/36e5),n=Math.floor(e%36e5/6e4);return"".concat((t<10?"0":"")+t,":").concat((n<10?"0":"")+n)}},{title:"Hora final",key:"hora_final",dataIndex:"hora_final",render:function(e){var t=Math.floor(e/36e5),n=Math.floor(e%36e5/6e4);return"".concat((t<10?"0":"")+t,":").concat((n<10?"0":"")+n)}},{title:"Tipo de agenda",dataIndex:"tipo_agenda",key:"tipo_agenda"},{title:"Motivo",dataIndex:"motivo",key:"motivo"},{title:"D\xedas Semana",dataIndex:"dias_semana",key:"dias_semana"}];return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(O.a,{columns:p,loading:x,dataSource:r,scroll:{x:1300}})})},p=n(2),g=n(4),y=n(14),k=n(499),w=n(78),C=n(898),_=n(198),S=n(230),D=function(e){var t=e.id,n=e.rango,r=e.setDataImported,s=e.numeroDocumento,u=l.a.useNotification(),j=Object(o.a)(u,2),x=j[0],O=j[1],f=Object(d.useState)(!1),h=Object(o.a)(f,2),D=h[0],I=h[1],E=Object(d.useState)(!1),F=Object(o.a)(E,2),M=F[0],N=F[1],A=Object(d.useState)(!1),T=Object(o.a)(A,2),H=T[0],Y=T[1],q=Object(d.useState)({fecha_inicio:"",fecha_final:""}),P=Object(o.a)(q,2),R=P[0],z=P[1];function B(){return Object(y.a)(Array(6).keys())}Object(d.useEffect)((function(){console.log(n),Y(1===n)}),[n]);var W=k.b.useMessage(),L=Object(o.a)(W,2),K=L[0],V=L[1],G=function(){return N(!1)},J=function(e,t){z(Object(g.a)(Object(g.a)({},R),{},Object(p.a)({},t,new Date(e).getTime())))},Z=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var n,i,o,l,d,u,j,b;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(!0),e.prev=1,e.next=4,Object(v.zc)(t,R.fecha_inicio,R.fecha_final,H?1:0);case 4:if("fail"!==(n=e.sent).status){e.next=8;break}return e.next=8,K.open({type:"error",content:(null===n||void 0===n?void 0:n.message)||"error"});case 8:if("ok"!==n.status){e.next=11;break}return e.next=11,K.open({type:"success",content:"Se Integro Correctamente la Disponibilidad"});case 11:e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(1),e.next=17,K.open({type:"error",content:(null===(i=e.t0.response)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.message)||"error"});case 17:return l={fecha_inicio:m()(R.fecha_inicio).format("YYYY-MM-DD HH:mm"),fecha_final:m()(R.fecha_final).format("YYYY-MM-DD HH:mm")},e.next=20,Object(v.Zb)(s,l.fecha_inicio,l.fecha_final);case 20:if(d=e.sent){u=Object(a.a)(d);try{for(u.s();!(j=u.n()).done;)b=j.value,x.open({type:"info",description:" ".concat(null===b||void 0===b?void 0:b.WS_Response)})}catch(c){u.e(c)}finally{u.f()}}I(!1),r(!0),z({fecha_inicio:null,fecha_final:null}),G();case 26:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}();return Object(b.jsxs)(b.Fragment,{children:[V,O,Object(b.jsx)(w.a,{type:"primary",onClick:function(){return N(!0)},children:"Importar Disponibilidad"}),Object(b.jsx)(C.a,{title:"Importar Disponibilidad",open:M,onCancel:G,footer:[Object(b.jsx)(w.a,{className:"btn btn-outline-primary",onClick:G,children:"Cancelar"},"button-cancel"),Object(b.jsx)(w.a,{loading:D,onClick:Z,children:"Importar"},"button-actualizar")],children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-12 mb-3",children:Object(b.jsx)(_.a,{checked:H,onChange:function(e){console.log("checked = ".concat(e.target.checked)),Y(e.target.checked)},children:"Rango propio"})}),Object(b.jsxs)("div",{className:"col",children:[Object(b.jsx)("div",{className:"mb-2",children:Object(b.jsx)("label",{htmlFor:"fecha-inicio",children:"Fecha Inicio"})}),Object(b.jsx)(S.a,{showTime:{format:"HH:mm"},format:"YYYY-MM-DD HH:mm",onOk:function(e){return J(e,"fecha_inicio")},style:{width:"100%"},disabledHours:B})]}),Object(b.jsxs)("div",{className:"col",children:[Object(b.jsx)("div",{className:"mb-2",children:Object(b.jsx)("label",{htmlFor:"fecha-final",children:"Fecha Final"})}),Object(b.jsx)(S.a,{showTime:{format:"HH:mm"},format:"YYYY-MM-DD HH:mm",onOk:function(e){return J(e,"fecha_final")},style:{width:"100%"},disabledHours:B})]})]})})]})},I=n(910),E=n(153),F=n(501),M=n(159),N=n(89),A={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 256H736v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zm-200 0H360v-72h304v72z"}}]},name:"delete",theme:"filled"},T=n(19),H=function(e,t){return d.createElement(T.a,Object(g.a)(Object(g.a)({},e),{},{ref:t,icon:A}))};H.displayName="DeleteFilled";var Y=d.forwardRef(H),q=n(229),P=n(978),R=n(917),z={bloqueo:{tipoAgenda:"20551141",title:"Bloquear disponibilidad",mensaje:"Disponibilidad bloqueada correctamente"},desbloqueo:{tipoAgenda:"20551142",title:"Desbloquear disponibilidad",mensaje:"Disponibilidad desbloqueada correctamente"},eliminar:{tipoAgenda:"20551143",title:"Eliminar disponibilidad",mensaje:"Disponibilidad eliminada correctamente"}},B=n(143),W=n(904),L=I.a.Panel,K=[{value:1,label:"Disponible"},{value:2,label:"Bloqueado"},{value:3,label:"Asignado Cita"},{value:4,label:"Eliminado"}],V=function(e){var t=e.id,n=e.setData,a=e.changeStatus,l=e.dataImported,r=e.setDataImported,s=e.activeKey,u=B.a.useForm(),x=Object(o.a)(u,1)[0],O=Object(d.useState)([]),f=Object(o.a)(O,2),m=f[0],h=f[1],p=Object(d.useState)([]),g=Object(o.a)(p,2),y=g[0],k=g[1],C=Object(d.useState)([]),_=Object(o.a)(C,2),D=_[0],E=_[1],F=null,N={date_start:void 0,date_end:void 0,exam:void 0,city:void 0,status:1,programa:void 0},A=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var n,a,i;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.ob)(t);case 2:return n=e.sent,h(n),e.next=6,Object(v.Z)(t);case 6:return a=e.sent,k(a),e.next=10,Object(v.Ab)(t);case 10:i=e.sent,E(i);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(d.useEffect)((function(){A()}),[]);var T=function(){var e=Object(i.a)(Object(c.a)().mark((function e(a){var i;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.fb)(a,t);case 2:i=e.sent,n(i);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(d.useEffect)((function(){console.log("se disparo active ",F),null==F||!t||"2"!==s&&"3"!==s||(console.log("sirve actualizar tabla"),H(F)),null!=F||!t||"2"!==s&&"3"!==s||(console.log("sirve actualizar tabla"),T(N))}),[s]),Object(d.useEffect)((function(){console.log("se disparo",a,l),null!=F&&(console.log("sirve actualizar tabla"),H(F),r(!1)),null==F&&(console.log("sirve actualizar tabla"),T(N),r(!1))}),[l,a]);var H=function(){var e=Object(i.a)(Object(c.a)().mark((function e(t){var n,a,i,o;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=null===t||void 0===t||null===(n=t.date_start)||void 0===n?void 0:n.format("YYYY-MM-DD HH:mm"),o=null===t||void 0===t||null===(a=t.date_end)||void 0===a?void 0:a.format("YYYY-MM-DD HH:mm"),F={date_start:i,date_end:o,exam:null===t||void 0===t?void 0:t.exam,city:null===t||void 0===t?void 0:t.city,status:null===t||void 0===t?void 0:t.status,programa:null===t||void 0===t?void 0:t.programa},console.log(t),T(F);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(I.a,{children:Object(b.jsx)(L,{header:"Filtros",children:Object(b.jsx)(B.a,{colon:!1,onFinish:H,form:x,autoComplete:"off",layout:"vertical",children:Object(b.jsxs)(j.a,{style:{flexDirection:"row"},gutter:[16,16],children:[Object(b.jsx)(W.a,{span:8,children:Object(b.jsx)(B.a.Item,{label:"Fecha y Hora Inicio",name:"date_start",children:Object(b.jsx)(S.a,{showTime:{format:"HH:mm"},format:"YYYY-MM-DD HH:mm",style:{width:"100%"},onChange:function(){console.log("inicio: ",x.getFieldValue("date_start"))}})})}),Object(b.jsx)(W.a,{span:8,children:Object(b.jsx)(B.a.Item,{label:"Fecha y Hora Final",name:"date_end",children:Object(b.jsx)(S.a,{showTime:{format:"HH:mm"},format:"YYYY-MM-DD HH:mm",style:{width:"100%"},onChange:function(){console.log("fin: ",x.getFieldValue("date_end"))}})})}),Object(b.jsx)(W.a,{span:8,children:Object(b.jsx)(B.a.Item,{label:"Examen",name:"exam",children:Object(b.jsx)(M.a,{placeholder:"Seleccione un examen",options:m})})}),Object(b.jsx)(W.a,{span:8,children:Object(b.jsx)(B.a.Item,{label:"Ciudad",name:"city",children:Object(b.jsx)(M.a,{placeholder:"Seleccione una ciudad",options:y})})}),Object(b.jsx)(W.a,{span:8,children:Object(b.jsx)(B.a.Item,{label:"Estado",name:"status",children:Object(b.jsx)(M.a,{defaultValue:1,placeholder:"Seleccione un estado",options:K})})}),Object(b.jsx)(W.a,{span:8,children:Object(b.jsx)(B.a.Item,{label:"Programa",name:"programa",children:Object(b.jsx)(M.a,{placeholder:"Seleccione un programa",options:D})})}),Object(b.jsxs)(W.a,{style:{display:"flex",justifyContent:"flex-end",alignItems:"flex-end"},span:8,children:[Object(b.jsx)(w.a,{type:"primary",onClick:x.submit,children:"Filtrar"}),Object(b.jsx)(w.a,{onClick:function(){x.resetFields(),T(void 0)},children:"Limpiar Filtros"})]})]})})},"1")})})},G=(I.a.Panel,function(e){var t,n=e.id,a=e.activeKey,l=e.dataImported,r=e.setDataImported,s=e.changeStatus,u=e.setChangeStatus,j=Object(d.useState)([]),x=Object(o.a)(j,2),f=x[0],h=x[1],p=Object(d.useState)(!1),g=Object(o.a)(p,2),y=g[0],_=g[1],S=Object(d.useState)(!1),D=Object(o.a)(S,2),I=D[0],A=D[1],T=Object(d.useState)(),H=Object(o.a)(T,2),B=H[0],W=H[1],L=Object(d.useState)(),K=Object(o.a)(L,2),G=K[0],J=K[1],Z=Object(d.useState)(null),Q=Object(o.a)(Z,2),U=Q[0],X=Q[1],$=k.b.useMessage(),ee=Object(o.a)($,2),te=ee[0],ne=ee[1],ae=Object(d.useState)(),ce=Object(o.a)(ae,2),ie=ce[0],oe=ce[1],le=Object(d.useState)("bloqueo"),re=Object(o.a)(le,2),se=re[0],de=re[1],ue=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var t,n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!0),e.prev=1,e.next=4,Object(v.r)(ie);case 4:return e.next=6,te.open({type:"success",content:z[se].mensaje});case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(1),e.next=12,te.open({type:"error",content:null===(t=e.t0.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message});case 12:_(!1),A(!1),X(null),u(!s);case 16:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),je=function(){A(!1),X(null)},be=[{title:"Fecha y Hora",dataIndex:"fecha_hora",key:"fecha_hora",width:"12%",render:function(e){return m()(e).format("DD/MM/YYYY : HH:mm")}},{title:"Examen",dataIndex:"idExam",key:"idExam",width:"25%",render:function(e){var t=e.split(",");return Object(b.jsx)("span",{children:Object(b.jsx)("ul",{children:null===t||void 0===t?void 0:t.map((function(e){return Object(b.jsx)("li",{children:e||"Sin informaci\xf3n"},e)}))})||"-"})}},{title:"Canal de atenci\xf3n",dataIndex:"canal_atencion",key:"canal_atencion",width:"13%"},{title:"Duraci\xf3n",dataIndex:"duracion",key:"duracion",width:"7%"},{title:"Ciudad",dataIndex:"ciudad",key:"ciudad",width:"13%"},{title:"Acciones",key:"action",align:"center",children:[{title:"",key:"bloquear",align:"center",width:"5%",fixed:"right",render:function(e){return Object(b.jsx)(E.a,{trigger:"click",placement:"top",color:"#ffff",title:Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(E.a,{title:"Bloquear",children:Object(b.jsx)(w.a,{onClick:Object(i.a)(Object(c.a)().mark((function t(){var n;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sirve",e),de("bloqueo"),A(!0),W(e),t.next=6,Object(v.ub)();case 6:n=t.sent,J(n);case 8:case"end":return t.stop()}}),t)}))),children:Object(b.jsx)(N.a,{})})}),Object(b.jsx)(E.a,{title:"Eliminar",children:Object(b.jsx)(w.a,{onClick:Object(i.a)(Object(c.a)().mark((function t(){var n;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sirve eliminar",e),de("eliminar"),A(!0),W(e),t.next=6,Object(v.ub)();case 6:n=t.sent,J(n);case 8:case"end":return t.stop()}}),t)}))),children:Object(b.jsx)(Y,{})})}),Object(b.jsx)(E.a,{title:"Desbloquear",children:Object(b.jsx)(w.a,{disabled:4==e.color,onClick:Object(i.a)(Object(c.a)().mark((function t(){var n;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sirve desbloquear",e),de("desbloqueo"),A(!0),W(e),t.next=6,Object(v.ub)();case 6:n=t.sent,J(n);case 8:case"end":return t.stop()}}),t)}))),children:Object(b.jsx)(q.a,{})})})]}),children:Object(b.jsx)(w.a,{children:Object(b.jsx)(P.a,{})})})}},{title:"Estado",dataIndex:"color",key:"color",fixed:"right",width:"10%",render:function(e){var t,n,a;return Object(b.jsx)(F.a,{style:{width:"100%"},color:null===(t=R.a[e])||void 0===t?void 0:t.color,icon:null===(n=R.a[e])||void 0===n?void 0:n.icon,children:null===(a=R.a[e])||void 0===a?void 0:a.text})}}]}];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(V,{id:n,setData:h,setLoading:_,dataImported:l,setDataImported:r,changeStatus:s,activeKey:a}),Object(b.jsx)(O.a,{columns:be,loading:y,dataSource:f,scroll:{x:1300}}),ne,Object(b.jsx)(C.a,{title:null===(t=z[se])||void 0===t?void 0:t.title,open:I,onOk:ue,onCancel:je,data:B,footer:[Object(b.jsx)(w.a,{onClick:je,children:"Cancelar"},"button-cancel"),Object(b.jsx)(w.a,{loading:y,onClick:ue,children:"Confirmar"},"button-integrar")],children:Object(b.jsx)("div",{label:"Motivo",name:"motivo",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(b.jsx)(M.a,{id:"selectmotivos",className:"w-100",placeholder:"Selecciona un motivo",onChange:function(e){X(e);var t=new Date(null===B||void 0===B?void 0:B.fecha_hora),a=null===B||void 0===B?void 0:B.duracion;t.setMinutes(t.getMinutes()+a),oe({Fecha_Hora:new Date(null===B||void 0===B?void 0:B.fecha_hora).getTime(),Fecha_Hora_Final:new Date(t).getTime(),Hora:m()(new Date(null===B||void 0===B?void 0:B.fecha_hora)).format("LT"),Duracion:m()(new Date(t)).format("LT"),Id:e,BloqueoEliminar:z[se].tipoAgenda,IdProfesional:n}),console.log("datauser a enviar",ie)},options:G,value:U})})})]})}),J=n(936),Z=(n(935),n(506),n(928),n(374)),Q=Object(J.b)(m.a);m.a.locale("es");var U={today:"Hoy",previous:"Anterior",next:"Siguiente",month:"Mes",week:"Semana",day:"D\xeda"},X=function(e){var t,n=e.id,a=e.activeKey,l=e.dataImported,r=e.setDataImported,s=e.changeStatus,u=e.setChangeStatus,j=Object(d.useState)([]),x=Object(o.a)(j,2),O=x[0],f=x[1],h=Object(d.useState)(!1),p=Object(o.a)(h,2),g=p[0],y=p[1],_=Object(d.useState)([]),S=Object(o.a)(_,2),D=S[0],I=S[1],A=Object(d.useState)(!1),T=Object(o.a)(A,2),H=T[0],P=T[1],B=Object(d.useState)(),W=Object(o.a)(B,2),L=W[0],K=W[1],G=Object(d.useState)(),X=Object(o.a)(G,2),$=X[0],ee=X[1],te=Object(d.useState)(null),ne=Object(o.a)(te,2),ae=ne[0],ce=ne[1],ie=k.b.useMessage(),oe=Object(o.a)(ie,2),le=oe[0],re=oe[1],se=Object(d.useState)(),de=Object(o.a)(se,2),ue=de[0],je=de[1],be=Object(d.useState)(),xe=Object(o.a)(be,2),ve=xe[0],Oe=xe[1],fe=new Date;fe.setHours(6,0,0,0);var me=new Date;me.setHours(23,0,0,0);var he=function(){var e=document.querySelector(".popover-calendar");e&&(e.style.display="none")};Object(d.useEffect)((function(){n&&"2"===a&&ye()}),[D,n,a]);var pe=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var t,n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(v.r)(ue);case 3:return e.next=5,le.open({type:"success",content:z[ve].mensaje});case 5:e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),e.next=11,le.open({type:"error",content:null===(t=e.t0.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message});case 11:P(!1),ce(null),u(!s);case 14:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),ge=function(){ce(null),P(!1)},ye=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var t;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=null===D||void 0===D?void 0:D.map((function(e){var t,n,a,o,l,r=new Date(null===e||void 0===e?void 0:e.fecha_hora),s=null===e||void 0===e?void 0:e.duracion;r.setMinutes(r.getMinutes()+s);var d=null===e||void 0===e||null===(t=e.idExam)||void 0===t?void 0:t.split(",");return{title:Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(Z.a,{trigger:"click",className:"popover-calendar",content:Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"row",style:{maxWidth:"400px"},children:[Object(b.jsx)("div",{className:"col-12 col-md-3",children:Object(b.jsx)("div",{className:"calendar-date-text",style:{backgroundColor:null===(n=R.a[null===e||void 0===e?void 0:e.color])||void 0===n?void 0:n.color},children:m()(new Date(null===e||void 0===e?void 0:e.fecha_hora)).format("DD MMM")})}),Object(b.jsxs)("div",{className:"col info-text-popover",children:[Object(b.jsxs)("h5",{className:"mb-3",children:["Canal de atenci\xf3n: ",(null===e||void 0===e?void 0:e.canal_atencion)||"-"]}),Object(b.jsxs)("div",{children:["Programa: ",Object(b.jsx)("span",{children:(null===e||void 0===e?void 0:e.programa)||"-"})]}),Object(b.jsxs)("div",{children:["Ciudad: ",Object(b.jsx)("span",{children:(null===e||void 0===e?void 0:e.ciudad)||"-"})]}),Object(b.jsxs)("div",{children:["Examen:"," ",Object(b.jsx)("span",{children:Object(b.jsx)("ul",{children:null===d||void 0===d?void 0:d.map((function(e){return Object(b.jsx)("li",{children:e||"Sin informaci\xf3n"},e)}))})||"-"})]}),Object(b.jsxs)("div",{className:"my-3",children:["Hora:"," ",Object(b.jsxs)("span",{children:[m()(new Date(null===e||void 0===e?void 0:e.fecha_hora)).format("LT")," ","- ",m()(new Date(r)).format("LT")]})]}),Object(b.jsxs)("div",{className:"my-3",children:["Duraci\xf3n:"," ",Object(b.jsxs)("span",{children:[(null===e||void 0===e?void 0:e.duracion)||"-"," minutos"]})]}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)(E.a,{title:"Bloquear",children:Object(b.jsx)(N.a,{style:{cursor:"pointer",width:"33%"},onClick:Object(i.a)(Object(c.a)().mark((function t(){var n;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sirve",e),Oe("bloqueo"),he(),P(!0),K(e),t.next=7,Object(v.ub)();case 7:n=t.sent,ee(n);case 9:case"end":return t.stop()}}),t)})))})}),Object(b.jsx)(E.a,{title:"Eliminar",children:Object(b.jsx)(Y,{style:{cursor:"pointer",width:"33%"},onClick:Object(i.a)(Object(c.a)().mark((function t(){var n;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sirve eliminar",e),Oe("eliminar"),he(),P(!0),K(e),t.next=7,Object(v.ub)();case 7:n=t.sent,ee(n);case 9:case"end":return t.stop()}}),t)})))})}),Object(b.jsx)(E.a,{title:"Desbloquear",children:Object(b.jsx)(q.a,{style:{cursor:"pointer",width:"33%"},onClick:Object(i.a)(Object(c.a)().mark((function t(){var n;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sirve desbloquear",e),Oe("desbloqueo"),he(),P(!0),K(e),t.next=7,Object(v.ub)();case 7:n=t.sent,ee(n);case 9:case"end":return t.stop()}}),t)})))})})]})]})]})}),children:Object(b.jsx)("span",{className:"span-calendar-text",children:Object(b.jsx)(F.a,{color:null===(a=R.a[null===e||void 0===e?void 0:e.color])||void 0===a?void 0:a.color,icon:null===(o=R.a[null===e||void 0===e?void 0:e.color])||void 0===o?void 0:o.icon,children:null===(l=R.a[null===e||void 0===e?void 0:e.color])||void 0===l?void 0:l.text})})})}),start:new Date(null===e||void 0===e?void 0:e.fecha_hora),end:r}})),f(t);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(V,{id:n,setLoading:y,setData:I,dataImported:l,setDataImported:r,changeStatus:s,activeKey:a}),Object(b.jsx)(J.a,{loading:g,localizer:Q,events:O,startAccessor:"start",endAccessor:"end",defaultView:"week",messages:U,min:fe,max:me}),re,Object(b.jsx)(C.a,{style:{zIndex:2600},title:null===(t=z[ve])||void 0===t?void 0:t.title,open:H,onOk:pe,onCancel:ge,data:L,footer:[Object(b.jsx)(w.a,{onClick:ge,children:"Cancelar"},"button-cancel"),Object(b.jsx)(w.a,{onClick:pe,children:"Confirmar"},"button-integrar")],children:Object(b.jsx)("div",{label:"Motivo",name:"motivo",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(b.jsx)(M.a,{id:"selectmotivos",className:"w-100",placeholder:"Selecciona un motivo",onChange:function(e){console.log(e),ce(e);var t=new Date(null===L||void 0===L?void 0:L.fecha_hora),a=null===L||void 0===L?void 0:L.duracion;t.setMinutes(t.getMinutes()+a),je({Fecha_Hora:new Date(null===L||void 0===L?void 0:L.fecha_hora).getTime(),Fecha_Hora_Final:new Date(t).getTime(),Hora:m()(new Date(null===L||void 0===L?void 0:L.fecha_hora)).format("LT"),Duracion:m()(new Date(t)).format("LT"),Id:e,BloqueoEliminar:z[ve].tipoAgenda,IdProfesional:n}),console.log("datauser a enviar",ue)},options:$,value:ae})})})]})},$=n(508),ee=(n(918),n(502)),te=n(979),ne=n(980),ae=n(920),ce=function(e){var t=e.id,n=(e.activeKey,Object(d.useState)([])),a=Object(o.a)(n,2),l=a[0],r=a[1],s=Object(d.useState)(),u=Object(o.a)(s,2),j=u[0],x=u[1],f=k.b.useMessage(),h=Object(o.a)(f,2),p=h[0],g=h[1],y=Object(d.useState)(!1),C=Object(o.a)(y,2),_=C[0],S=C[1],D=Object(d.useState)(!1),I=Object(o.a)(D,2),M=I[0],N=I[1],A=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),e.next=3,Object(v.Pb)(t);case 3:n=e.sent,r(n),N(!1),console.log("data rutas atencion",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(d.useEffect)((function(){t&&A()}),[]);var T=function(){var e=Object(i.a)(Object(c.a)().mark((function e(t){var n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.y)(t);case 2:if(n=e.sent,console.log("eliminado: ",n),"fail"!==(null===n||void 0===n?void 0:n.status)){e.next=9;break}return e.next=7,p.open({type:"error",content:(null===n||void 0===n?void 0:n.message)||"error"});case 7:e.next=12;break;case 9:if("ok"!==(null===n||void 0===n?void 0:n.status)){e.next=12;break}return e.next=12,p.open({type:"success",content:"Eliminada correctamente"});case 12:A();case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=[{title:"Cita",dataIndex:"name",key:"name",render:function(e){return Object(b.jsx)(b.Fragment,{children:e})}},{title:"Fecha Cita",dataIndex:"Fecha_Cita",key:"Fecha_Cita",render:function(e){return m()(e).format("DD/MM/YYYY HH:MM")}},{title:"Duraci\xf3n",dataIndex:"duracion",key:"duracion"},{title:"Profesional",dataIndex:"Profesional_txt",key:"Profesional_txt",render:function(e){return Object(b.jsx)(b.Fragment,{children:e})}},{title:"Sede",dataIndex:"Sedetxt",key:"Sedetxt",render:function(e){return Object(b.jsx)(b.Fragment,{children:e})}},{title:"Canal Atenci\xf3n",dataIndex:"Canal_Atencion_txt",key:"Canal_Atencion_txt"},{title:"Plan Mensual",dataIndex:"Plan_Mensual_txt",key:"Plan_Mensual_txt"},{title:"Codigo Tipo",dataIndex:"Codigo_Tipo",key:"Codigo_Tipo"},{title:"Examen",dataIndex:"nameExam",key:"nameExam"},{title:"Estado",dataIndex:"Estado_Txt",render:function(e){var t;return Object(b.jsx)(F.a,{style:{width:"100%"},color:null===(t=R.c[e])||void 0===t?void 0:t.color,children:e})}},{title:"Acciones",key:"action",align:"center",render:function(e){return Object(b.jsx)(E.a,{trigger:"click",placement:"top",color:"#ffff",title:Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(E.a,{title:"Ver",children:Object(b.jsx)(w.a,{onClick:Object(i.a)(Object(c.a)().mark((function t(){return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("Sirve ver",e),x(e),S(!0);case 3:case"end":return t.stop()}}),t)}))),children:Object(b.jsx)(ee.a,{})})}),Object(b.jsx)(E.a,{title:"Agendar",children:Object(b.jsx)(w.a,{disabled:"Cancelado"==e.Estado_Txt||"Asistida"==e.Estado_Txt||"Finalizada"==e.Estado_Txt||"Solicitada"==e.Estado_Txt||"No Asistida"==e.Estado_Txt,onClick:Object(i.a)(Object(c.a)().mark((function t(){var n;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sirve Agendar",e),t.next=3,Object(v.sc)(e.id);case 3:if("fail"!==(null===(n=t.sent)||void 0===n?void 0:n.status)){t.next=9;break}return t.next=7,p.open({type:"error",content:(null===n||void 0===n?void 0:n.message)||"error"});case 7:t.next=12;break;case 9:if("ok"!==(null===n||void 0===n?void 0:n.status)){t.next=12;break}return t.next=12,p.open({type:"success",content:"Agendada exitosamente"});case 12:case"end":return t.stop()}}),t)}))),children:Object(b.jsx)(te.a,{})})}),Object(b.jsx)(E.a,{title:"Eliminar",children:Object(b.jsx)(w.a,{disabled:"Cancelado"==e.Estado_Txt||"Asistida"==e.Estado_Txt||"Finalizada"==e.Estado_Txt||"Solicitada"==e.Estado_Txt||"No Asistida"==e.Estado_Txt,onClick:Object(i.a)(Object(c.a)().mark((function t(){return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("Sirve eliminar",e),T(e.id);case 2:case"end":return t.stop()}}),t)}))),children:Object(b.jsx)(ne.a,{})})})]}),children:Object(b.jsx)(w.a,{children:Object(b.jsx)(P.a,{})})})}}];return Object(b.jsxs)(b.Fragment,{children:[g,Object(b.jsx)(ae.a,{open:_,setOpen:S,dataRow:j,idPaciente:t}),Object(b.jsx)(O.a,{columns:H,loading:M,dataSource:l,scroll:{x:1300}})]})};t.default=function(){var e=Object(u.i)().id,t=l.a.useNotification(),n=Object(o.a)(t,2),j=n[0],O=n[1],f=Object(u.h)(),m=Object(d.useState)("1"),p=Object(o.a)(m,2),g=p[0],y=p[1],k=Object(d.useState)(null),w=Object(o.a)(k,2),C=w[0],_=w[1],S=Object(d.useState)("professional"),I=Object(o.a)(S,2),E=I[0],F=I[1],M=Object(u.g)(),N=Object(d.useState)(!1),A=Object(o.a)(N,2),T=A[0],H=A[1],Y=Object(d.useState)(!1),q=Object(o.a)(Y,2),P=q[0],R=q[1],z=Object(d.useState)(null),B=Object(o.a)(z,2),W=B[0],L=B[1],K=Object(d.useState)(null),V=Object(o.a)(K,2),J=V[0],Z=V[1];console.log("localizacion",null===f||void 0===f?void 0:f.state);var Q=function(){var e=Object(i.a)(Object(c.a)().mark((function e(t){var n,a,i,o;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.Qb)(t);case 2:return a=e.sent,L(a),e.next=6,Object(v.H)(t);case 6:return i=e.sent,Z(i),e.next=10,Object(v.Ub)(t,"numero_document"===(null===f||void 0===f||null===(n=f.state)||void 0===n?void 0:n.type));case 10:o=e.sent,_(o);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(d.useEffect)((function(){if(Q(e),f.state){var t=f.state.detail;if(console.log(t),t&&t.length>0){var n,c=Object(a.a)(t);try{for(c.s();!(n=c.n()).done;){var i=n.value;j.open({type:"info",description:" ".concat(null===i||void 0===i?void 0:i.WS_Response)})}}catch(o){c.e(o)}finally{c.f()}}}}),[e]);var U={professional:[{key:"1",label:"Informaci\xf3n b\xe1sica",children:Object(b.jsx)(x,{infoGeneral:C,sedeProfessional:W,examsProfessional:J})}],disposition:[{key:"1",label:"Lista de disponibilidades",children:Object(b.jsx)(G,{id:null===C||void 0===C?void 0:C.id,activeKey:g,dataImported:T,setDataImported:H,changeStatus:P,setChangeStatus:R})},{key:"2",label:"Calendario de disponibilidades",children:Object(b.jsx)(X,{id:null===C||void 0===C?void 0:C.id,activeKey:g,dataImported:T,setDataImported:H,changeStatus:P,setChangeStatus:R})},{key:"3",label:"Novedades",children:Object(b.jsx)(h,{id:null===C||void 0===C?void 0:C.id,activeKey:g})}]},ee={quote:Object(b.jsx)(ce,{id:null===C||void 0===C?void 0:C.id,activeKey:g})};return Object(b.jsxs)(b.Fragment,{children:[O,Object(b.jsxs)("div",{className:"gx-profile-banner",style:{display:"flex",padding:"32px 32px 70px"},children:[Object(b.jsxs)("div",{className:"gx-profile-container",children:[Object(b.jsx)("div",{className:"gx-profile-banner-top",style:{justifyContent:"space-between",marginBottom:"30px"},children:Object(b.jsx)("div",{className:"gx-profile-banner-top-left",children:Object(b.jsxs)("div",{className:"gx-profile-banner-avatar-info",children:[Object(b.jsxs)("h2",{className:"gx-mb-2 gx-mb-sm-3 gx-fs-xxl gx-font-weight-light",children:[null===C||void 0===C?void 0:C.nombre," ",null===C||void 0===C?void 0:C.apellido]}),Object(b.jsxs)("p",{className:"gx-mb-0 gx-fs-lg",children:[null===C||void 0===C?void 0:C.tipo_documento," ",null===C||void 0===C?void 0:C.numero_documento]})]})})}),Object(b.jsx)("div",{className:"gx-profile-banner-bottom",children:Object(b.jsx)("div",{className:"gx-tab-list",children:Object(b.jsxs)("ul",{className:"gx-navbar-nav",children:[Object(b.jsx)("li",{onClick:function(){return F("professional")},children:Object(b.jsx)("span",{className:"gx-link",children:"Detalle del profesional"})}),Object(b.jsx)("li",{onClick:function(){return F("disposition")},children:Object(b.jsx)("span",{className:"gx-link",children:"Disponibilidades"})}),Object(b.jsx)("li",{onClick:function(){return F("quote")},children:Object(b.jsx)("span",{className:"gx-link",children:"Citas"})})]})})})]}),Object(b.jsx)("div",{style:{width:"55%",display:"flex",flexDirection:"row",alignItems:"flex - start"},children:Object(b.jsxs)("div",{className:"d-flex align-items-center mt-3",children:[Object(b.jsx)("i",{style:{fontSize:"50px"},className:"icon icon-graduation"})," ",Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{style:{color:"#8c8c8c",fontSize:"bold"},children:"Profesi\xf3n:"}),(null===C||void 0===C?void 0:C.profesion)||"Sin informaci\xf3n"]})]})}),Object(b.jsx)("div",{className:"gx-profile-banner-bottom",style:{width:"10%",alignItems:"flex-end"},children:Object(b.jsxs)("span",{className:"gx-link gx-profile-setting",onClick:function(){var t;"numero_document"===(null===f||void 0===f||null===(t=f.state)||void 0===t?void 0:t.type)?M.push("/edit-professional/".concat(null===C||void 0===C?void 0:C.id)):M.push("/edit-professional/".concat(e))},children:[Object(b.jsx)("i",{className:"icon icon-edit gx-fs-lg gx-mr-2 gx-mr-sm-3 gx-d-inline-flex gx-vertical-align-middle"}),Object(b.jsx)("span",{className:"gx-d-inline-flex gx-vertical-align-middle gx-ml-1 gx-ml-sm-0",children:"Editar"})]})})]}),Object(b.jsxs)(r.a,{style:{zIndex:2},extra:"disposition"===E?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(D,{id:null===C||void 0===C?void 0:C.id,rango:null===C||void 0===C?void 0:C.rango_propio,setDataImported:H,numeroDocumento:null===C||void 0===C?void 0:C.numero_documento}),Object(b.jsx)($.a,{id:e,setDataImported:H})]}):"",children:["quote"===E?ee[E]:null,Object(b.jsx)(s.a,{defaultActiveKey:"1",items:U[E],onChange:function(e){console.log(e),y(e)}})]})]})}}}]);
//# sourceMappingURL=6.05a8253d.chunk.js.map
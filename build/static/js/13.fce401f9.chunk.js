(this["webpackJsonpwieldy-hook"]=this["webpackJsonpwieldy-hook"]||[]).push([[13],{975:function(e,o,t){"use strict";t.r(o);var a=t(6),n=t(12),i=t(5),c=t(935),r=t(933),l=t(0),s=t(22),d=t(4),b=t(942),j=t(143),u=t(507),f=t(78),v=t(506),m=t(159),p=t(925),h=t(234),O=t(512),x=t(98),k=t.n(x),_=(t(199),t(1)),w=function(e){var o=e.setData,t=j.a.useForm(),r=Object(i.a)(t,1)[0],x=j.a.useForm(),w=Object(i.a)(x,1)[0],g=Object(l.useState)(!1),y=Object(i.a)(g,2),C=y[0],F=y[1],D=Object(l.useState)(!1),N=Object(i.a)(D,2),I=N[0],S=N[1],M=Object(l.useState)([]),T=Object(i.a)(M,2),P=T[0],H=T[1],L=Object(l.useState)([]),Y=Object(i.a)(L,2),q=Y[0],E=Y[1],G=Object(l.useState)([]),J=Object(i.a)(G,2),z=J[0],A=J[1],B=u.b.useMessage(),V=Object(i.a)(B,2),K=V[0],Q=V[1],R=Object(l.useState)([]),U=Object(i.a)(R,2),W=U[0],X=U[1],Z=function(){return S(!1)},$=function(){var e=Object(n.a)(Object(a.a)().mark((function e(o){var t,i,c;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(o),!(o.profesional.length>1)){e.next=5;break}Object(n.a)(Object(a.a)().mark((function e(){var t,n,i,c,r,l;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object(b.a)(o.profesional),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=19;break}return i=n.value,c=Object(d.a)(Object(d.a)({},o),{},{profesional:i,fecha_inicio:new Date(null===o||void 0===o?void 0:o.fecha_inicio).getTime(),fecha_final:new Date(null===o||void 0===o?void 0:o.fecha_final).getTime(),hora_inicio:k()(new Date(null===o||void 0===o?void 0:o.hora_inicio)).format("HH:mm"),hora_final:k()(new Date(null===o||void 0===o?void 0:o.hora_final)).format("HH:mm")}),e.prev=6,e.next=9,Object(s.s)(c.profesional,c);case 9:console.log("Enviar if: ",c),K.open({type:"success",content:"Proceso exitoso"}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(6),console.error("Error en la iteraci\xf3n:",e.t0),K.open({type:"error",content:null===(r=e.t0.response)||void 0===r||null===(l=r.data)||void 0===l?void 0:l.message});case 17:e.next=3;break;case 19:e.next=24;break;case 21:e.prev=21,e.t1=e.catch(1),t.e(e.t1);case 24:return e.prev=24,t.f(),e.finish(24);case 27:case"end":return e.stop()}}),e,null,[[1,21,24,27],[6,13]])})))(),e.next=16;break;case 5:return t=Object(d.a)(Object(d.a)({},o),{},{profesional:o.profesional[0],fecha_inicio:new Date(null===o||void 0===o?void 0:o.fecha_inicio).getTime(),fecha_final:new Date(null===o||void 0===o?void 0:o.fecha_final).getTime(),hora_inicio:k()(new Date(null===o||void 0===o?void 0:o.hora_inicio)).format("HH:mm"),hora_final:k()(new Date(null===o||void 0===o?void 0:o.hora_final)).format("HH:mm")}),e.prev=6,e.next=9,Object(s.s)(t.profesional,t);case 9:K.open({type:"success",content:"Proceso exitoso"}),console.log("Enviar else: ",t),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),K.open({type:"error",content:null===(i=e.t0.response)||void 0===i||null===(c=i.data)||void 0===c?void 0:c.message});case 16:w.resetFields(),Z();case 18:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(o){return e.apply(this,arguments)}}(),ee=function(){var e=Object(n.a)(Object(a.a)().mark((function e(t){var n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("formulario: ",t),F(!0),void 0==t.profesional||void 0!=t.motivo||void 0!=t.tipo_novedad){e.next=8;break}return e.next=5,Object(s.jc)("Profesional",t);case 5:n=e.sent,e.next=48;break;case 8:if(void 0!=t.profesional||void 0==t.motivo||void 0!=t.tipo_novedad){e.next=14;break}return e.next=11,Object(s.jc)("Motivo",t);case 11:n=e.sent,e.next=48;break;case 14:if(void 0!=t.profesional||void 0!=t.motivo||void 0==t.tipo_novedad){e.next=20;break}return e.next=17,Object(s.jc)("Tipo_Novedad",t);case 17:n=e.sent,e.next=48;break;case 20:if(void 0==t.profesional||void 0==t.motivo||void 0!=t.tipo_novedad){e.next=26;break}return e.next=23,Object(s.jc)("Profesional_Motivo",t);case 23:n=e.sent,e.next=48;break;case 26:if(void 0==t.profesional||void 0!=t.motivo||void 0==t.tipo_novedad){e.next=32;break}return e.next=29,Object(s.jc)("Profesional_Tipo",t);case 29:n=e.sent,e.next=48;break;case 32:if(void 0==t.profesional||void 0==t.motivo||void 0==t.tipo_novedad){e.next=38;break}return e.next=35,Object(s.jc)("Profesional_Motivo_Tipo",t);case 35:n=e.sent,e.next=48;break;case 38:if(void 0!=t.profesional||void 0==t.motivo||void 0==t.tipo_novedad){e.next=44;break}return e.next=41,Object(s.jc)("Motivo_Tipo",t);case 41:n=e.sent,e.next=48;break;case 44:if(void 0!=t.profesional||void 0!=t.motivo||void 0!=t.tipo_novedad){e.next=48;break}return e.next=47,Object(s.ic)();case 47:n=e.sent;case 48:F(!1),o(n);case 50:case"end":return e.stop()}}),e)})));return function(o){return e.apply(this,arguments)}}(),oe=function(){var e=Object(n.a)(Object(a.a)().mark((function e(){var o,t,n,i;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.sc)();case 2:return o=e.sent,H(o),e.next=6,Object(s.tc)();case 6:return t=e.sent,A(t),e.next=10,Object(s.mc)();case 10:return n=e.sent,E(n),e.next=14,Object(s.fc)();case 14:i=e.sent,X(i);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){oe()}),[]),Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(c.a,{title:"Filtrar Novedades",extra:Object(_.jsx)(f.a,{style:{backgroundColor:"#00ABC8",color:"#FFF"},onClick:function(){S(!0)},children:"Generar Novedad"}),actions:[Object(_.jsxs)("div",{className:"d-flex justify-content-end me-4",children:[Object(_.jsx)(f.a,{htmlType:"submit",onClick:function(){r.resetFields(),o([])},children:"Limpiar Filtros"}),Object(_.jsx)(f.a,{htmlType:"submit",onClick:function(){return r.submit()},loading:C,children:"Consultar"})]},"button-actions")],children:Object(_.jsx)(j.a,{name:"wrap",layout:"vertical",colon:!1,onFinish:ee,form:r,autoComplete:"off",children:Object(_.jsxs)("div",{className:"row align-items-center",children:[Object(_.jsx)("div",{className:"col-12 col-md-6 col-lg-6",children:Object(_.jsx)(j.a.Item,{label:"Profesional",name:"profesional",children:Object(_.jsx)(v.a,{name:"profesional"})})}),Object(_.jsx)("div",{className:"col-12 col-md-6 col-lg-6",children:Object(_.jsx)(j.a.Item,{label:"Motivo",name:"motivo",children:Object(_.jsx)(m.a,{name:"motivo",options:P})})}),Object(_.jsx)("div",{className:"col-12 col-md-6 col-lg-6",children:Object(_.jsx)(j.a.Item,{label:"Tipo novedad",name:"tipo_novedad",children:Object(_.jsx)(m.a,{name:"tipo_novedad",options:z})})})]})})}),Q,Object(_.jsx)(p.a,{title:"Novedad Disponibilidades",open:I,footer:[Object(_.jsx)(f.a,{htmlType:"button",onClick:Z,children:"Cancelar"},"button-cancel"),Object(_.jsx)(f.a,{htmlType:"submit",onClick:w.submit,type:"primary",children:"Guardar"},"button-actualizar")],onCancel:Z,children:Object(_.jsx)(j.a,{form:w,name:"basic",layout:"vertical",onFinish:$,autoComplete:"off",children:Object(_.jsxs)("div",{className:"row",children:[Object(_.jsx)("div",{className:"col-12 col-md-6",children:Object(_.jsx)(j.a.Item,{label:"Fecha Inicio",name:"fecha_inicio",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(_.jsx)(h.a,{style:{width:"100%"}})})}),Object(_.jsx)("div",{className:"col-12 col-md-6",children:Object(_.jsx)(j.a.Item,{label:"Fecha Final",name:"fecha_final",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(_.jsx)(h.a,{style:{width:"100%"}})})}),Object(_.jsx)("div",{className:"col-12 col-md-6",children:Object(_.jsx)(j.a.Item,{label:"Hora Inicio",name:"hora_inicio",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(_.jsx)(O.a,{showSecond:!1,style:{width:"100%"}})})}),Object(_.jsx)("div",{className:"col-12 col-md-6",children:Object(_.jsx)(j.a.Item,{label:"Hora Final",name:"hora_final",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(_.jsx)(O.a,{showSecond:!1,style:{width:"100%"}})})}),Object(_.jsx)("div",{className:"col-12",children:Object(_.jsx)(j.a.Item,{label:"Dia de la semana",name:"dia_semana",children:Object(_.jsx)(m.a,{mode:"multiple",allowClear:!0,showSearch:!0,className:"w-100",placeholder:"Selecciona dia de la semana",optionFilterProp:"children",filterOption:function(e,o){var t;return(null!==(t=null===o||void 0===o?void 0:o.label)&&void 0!==t?t:"").toLowerCase().includes(e.toLowerCase())},options:W})})}),Object(_.jsx)("div",{className:"col-12 col-md-6",children:Object(_.jsx)(j.a.Item,{label:"Motivo",name:"motivo",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(_.jsx)(m.a,{className:"w-100",showSearch:!0,placeholder:"Selecciona tipo de documento",optionFilterProp:"children",filterOption:function(e,o){var t;return(null!==(t=null===o||void 0===o?void 0:o.label)&&void 0!==t?t:"").toLowerCase().includes(e.toLowerCase())},options:P})})}),Object(_.jsx)("div",{className:"col-12 col-md-6",children:Object(_.jsx)(j.a.Item,{label:"Tipo de Novedad",name:"tipo_novedad",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(_.jsx)(m.a,{className:"w-100",showSearch:!0,placeholder:"Selecciona tipo de documento",optionFilterProp:"children",filterOption:function(e,o){var t;return(null!==(t=null===o||void 0===o?void 0:o.label)&&void 0!==t?t:"").toLowerCase().includes(e.toLowerCase())},options:z})})}),Object(_.jsx)("div",{className:"col-12",children:Object(_.jsx)(j.a.Item,{label:"Profesional",name:"profesional",rules:[{required:!0,message:"Campo obligatorio"},function(e){e.getFieldValue;return{validator:function(e,o){return o&&o.length>=2?Promise.resolve():Promise.reject(new Error("Debe seleccionar al menos 2 opciones"))}}}],children:Object(_.jsx)(m.a,{mode:"multiple",allowClear:!0,showSearch:!0,placeholder:"Digite nombre de un profesional",optionFilterProp:"children",filterOption:function(e,o){var t;return(null!==(t=null===o||void 0===o?void 0:o.label)&&void 0!==t?t:"").toLowerCase().includes(e.toLowerCase())},options:q})})})]})})})]})};t(961);o.default=function(){var e=Object(l.useState)([]),o=Object(i.a)(e,2),t=o[0],d=o[1],b=Object(l.useState)(!1),j=Object(i.a)(b,2),u=j[0],f=j[1],v=function(){var e=Object(n.a)(Object(a.a)().mark((function e(){var o;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,Object(s.ic)();case 3:o=e.sent,f(!1),d(o);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(l.useEffect)((function(){v()}),[]);var m=[{title:Object(_.jsx)("span",{style:{backgroundColor:"#184F9D",color:"#fff"},children:"Nombres"}),dataIndex:"nombres",key:"nombres",render:function(e){return Object(_.jsx)("a",{children:e})}},{title:Object(_.jsx)("span",{style:{backgroundColor:"#184F9D",color:"#fff"},children:"Fecha inicio"}),dataIndex:"fecha_inicio",key:"fecha_inicio",render:function(e){return k()(e).format("DD/MM/YYYY")}},{title:Object(_.jsx)("span",{style:{backgroundColor:"#184F9D",color:"#fff"},children:"Fecha final"}),dataIndex:"fecha_final",key:"fecha_final",render:function(e){return k()(e).format("DD/MM/YYYY")}},{title:Object(_.jsx)("span",{style:{backgroundColor:"#184F9D",color:"#fff"},children:"Hora inicio"}),dataIndex:"hora_inicio",key:"hora_inicio",render:function(e){var o=Math.floor(e/36e5),t=Math.floor(e%36e5/6e4);return"".concat((o<10?"0":"")+o,":").concat((t<10?"0":"")+t)}},{title:Object(_.jsx)("span",{style:{backgroundColor:"#184F9D",color:"#fff"},children:"Hora final"}),key:"hora_final",dataIndex:"hora_final",render:function(e){var o=Math.floor(e/36e5),t=Math.floor(e%36e5/6e4);return"".concat((o<10?"0":"")+o,":").concat((t<10?"0":"")+t)}},{title:Object(_.jsx)("span",{style:{backgroundColor:"#184F9D",color:"#fff"},children:"Tipo novedad"}),dataIndex:"tipo_novedad",key:"tipo_novedad"},{title:Object(_.jsx)("span",{style:{backgroundColor:"#184F9D",color:"#fff"},children:"Motivo"}),dataIndex:"motivo",key:"motivo"},{title:Object(_.jsx)("span",{style:{backgroundColor:"#184F9D",color:"#fff"},children:"D\xedas Semana"}),dataIndex:"dias_semana",key:"dias_semana"}];return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(w,{setData:d}),Object(_.jsx)(c.a,{children:Object(_.jsx)(r.a,{columns:m,loading:u,dataSource:t,scroll:{x:1300}})})]})}}}]);
//# sourceMappingURL=13.fce401f9.chunk.js.map
(this["webpackJsonpwieldy-hook"]=this["webpackJsonpwieldy-hook"]||[]).push([[8],{945:function(e,t,a){},950:function(e,t,a){"use strict";a.d(t,"a",(function(){return w}));var n=a(6),c=a(11),i=a(5),o=a(0),l=a(980),r=a(508),s=a(510),d=a(926),u=a(80),j=a(934),b=a(19),x=a(68),O=a.n(x),v=a(507),f=a(145),h=a(160),m=a(1),p=v.a.TextArea,g=function(e){var t=e.isModalCancel,a=e.setIsModalCancel,l=e.dataRow,s=e.getInfo,j=e.isCancel,x=(e.setListInfoPlans,e.setDataTable,e.detailPlan),O=e.idPmPlan,v=f.a.useForm(),g=Object(i.a)(v,1)[0],y=Object(o.useState)(!1),k=Object(i.a)(y,2),w=k[0],C=k[1],_=Object(o.useState)(null),S=Object(i.a)(_,2),D=S[0],I=S[1],F=r.b.useMessage(),E=Object(i.a)(F,2),M=E[0],T=E[1];Object(o.useEffect)(Object(c.a)(Object(n.a)().mark((function e(){var t;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.xb)();case 2:t=e.sent,I(t);case 4:case"end":return e.stop()}}),e)}))),[]);var N=function(){a(!1),g.resetFields()},A=function(){var e=Object(c.a)(Object(n.a)().mark((function e(){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.validateFields();case 3:if(!e.sent){e.next=7;break}return e.abrupt("return",!0);case 7:return e.abrupt("return",!1);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(0),console.log("Form validation failed: ".concat(e.t0)),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(c.a)(Object(n.a)().mark((function e(){var t,c;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!A()){e.next=30;break}return t=g.getFieldsValue(),c={idCita:null===l||void 0===l?void 0:l.id,Motivo:null===t||void 0===t?void 0:t.motivo,TexA:null===t||void 0===t?void 0:t.observacion},C(!0),e.next=7,Object(b.q)(c);case 7:if("ok"!=e.sent.status){e.next=13;break}return e.next=11,M.open({type:"success",content:j?"Cita cancelada exitosamente":"Cita reagendada exitosamente"});case 11:e.next=15;break;case 13:return e.next=15,M.open({type:"error",content:"error"});case 15:if(!j){e.next=20;break}return e.next=18,Object(b.Ic)(c.idCita);case 18:e.next=22;break;case 20:return e.next=22,Object(b.Lc)(c.idCita);case 22:if(!O){e.next=27;break}return console.log(O),e.next=26,Object(b.M)(x);case 26:e.sent;case 27:C(!1),a(!1),s();case 30:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)(d.a,{title:j?"Cancelar Cita":"Reagendar Cita",open:t,onCancel:N,footer:[Object(m.jsx)(u.a,{onClick:N,children:"Cancelar"},"button-cancel"),Object(m.jsx)(u.a,{loading:w,onClick:g.submit,children:"Confirmar"},"button-integrar")],children:[T,Object(m.jsxs)(f.a,{colon:!1,onFinish:Y,form:g,autoComplete:"off",layout:"vertical",children:[Object(m.jsx)(f.a.Item,{label:"Motivo cancelaci\xf3n",name:"motivo",rules:[{required:!0,message:"Campo obligatorio"}],style:{marginBottom:"20px"},children:Object(m.jsx)(h.a,{className:"w-100",placeholder:"Selecciona un motivo cancelaci\xf3n",options:D})}),Object(m.jsx)(f.a.Item,{label:"Observaci\xf3n",name:"observacion",rules:[{required:!0,message:"Campo obligatorio"}],style:{marginBottom:"20px"},children:Object(m.jsx)(p,{className:"w-100",rows:4})})]})]})},y=a(306),k=l.a.Text,w=function(e){var t=e.open,a=e.setOpen,l=e.dataRow,x=e.idPaciente,v=e.setDataTablePm,f=e.setListInfoPlans,h=e.detailPlan,p=e.idPm,w=e.setOpenPopover,C=e.viewButton,_=Object(o.useState)([]),S=Object(i.a)(_,2),D=S[0],I=S[1],F=Object(o.useState)({}),E=Object(i.a)(F,2),M=E[0],T=E[1],N=r.b.useMessage(),A=Object(i.a)(N,2),Y=A[0],H=A[1],P=Object(o.useState)(!1),q=Object(i.a)(P,2),z=q[0],R=q[1],L=Object(o.useState)(!1),W=Object(i.a)(L,2),B=W[0],V=W[1];Object(o.useEffect)((function(){x&&!0===t&&K()}),[t]);var K=function(){var e=Object(c.a)(Object(n.a)().mark((function e(){var t,a;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.T)(l.id);case 2:return t=e.sent,T(t),console.log(l),console.log("Llego: ",t),e.next=8,Object(b.Vb)(x,l.id);case 8:a=e.sent,console.log("Datatable: ",a),I(a);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){return a(!1)},J=[{title:"Fecha Cita",dataIndex:"Fecha_Cita",key:"Fecha_Cita",render:function(e){return Object(m.jsx)("strong",{children:O()(e).format("DD/MM/YYYY")})}},{title:"Mes Remision",dataIndex:"MesRemision",key:"MesRemision"},{title:"Estado",dataIndex:"Estado_txt",render:function(e){var t;return Object(m.jsx)(s.a,{style:{width:"100%"},color:null===(t=y.f[e])||void 0===t?void 0:t.color,children:e})}},{title:"Especialidad",dataIndex:"Especialidad_txt",key:"Especialidad_txt"},{title:"Canal Remision",dataIndex:"CanalRemision",key:"CanalRemision"},{title:"Resultado",dataIndex:"Resultado",key:"Resultado"}];return Object(m.jsxs)(m.Fragment,{children:[H,Object(m.jsxs)(d.a,{width:null!=D?"70%":"52%",title:"Cita: ".concat(null===l||void 0===l?void 0:l.name),open:t,onCancel:G,footer:[Object(m.jsx)(m.Fragment,{children:C?Object(m.jsx)(u.a,{onClick:function(){w(!0),G()},children:"Atras"},"button-cancel"):null}),Object(m.jsx)(u.a,{onClick:G,children:"Cerrar"},"button-cancel")],children:[Object(m.jsxs)("div",{className:"row",children:[Object(m.jsxs)("div",{className:"col-12 col-md-12 row",children:[Object(m.jsx)("h4",{style:{fontWeight:"bold",textAlign:"left",width:"40%"},children:"INFORMACI\xd3N CITA"}),Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"row",width:"40%"},children:[Object(m.jsx)("label",{style:{fontWeight:"bold",textAlign:"left",width:"72px",fontSize:"18px"},children:"Estado:"}),Object(m.jsx)("div",{style:{display:"flex",width:"220px",fontSize:"18px"},children:Object(m.jsx)(k,{children:null===M||void 0===M?void 0:M.Estado_Txt})})]})]}),Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"75%"},children:[Object(m.jsx)("div",{className:"col-12 col-md-6",children:Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(m.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Ciudad:"}),Object(m.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(m.jsx)(k,{children:null===M||void 0===M?void 0:M.Ciudad_Txt})})]})}),Object(m.jsx)("div",{className:"col-12 col-md-6",children:Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(m.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Sede Sies"}),Object(m.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(m.jsx)(k,{children:null===M||void 0===M?void 0:M.Sedetxt})})]})}),Object(m.jsx)("div",{className:"col-12 col-md-6",children:Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(m.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Tipo Cita:"}),Object(m.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(m.jsx)(k,{children:null===M||void 0===M?void 0:M.Codigo_Tipo})})]})}),Object(m.jsx)("div",{className:"col-12 col-md-6",children:Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(m.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Plan Mensual:"}),Object(m.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(m.jsx)(k,{children:null===M||void 0===M?void 0:M.Plan_Mensual_txt})})]})}),Object(m.jsx)("div",{className:"col-12 col-md-6",children:Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(m.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Especialidad:"}),Object(m.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(m.jsx)(k,{children:null===M||void 0===M?void 0:M.Especialidad_txt})})]})}),Object(m.jsx)("div",{className:"col-12 col-md-6",children:Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(m.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Profesional:"}),Object(m.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(m.jsx)(k,{children:null===M||void 0===M?void 0:M.Profesional_txt})})]})}),Object(m.jsx)("div",{className:"col-12 col-md-6",children:Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(m.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Tipo Examen:"}),Object(m.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(m.jsx)(k,{children:null===M||void 0===M?void 0:M.nameExam})})]})})]}),Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"25%"},children:[Object(m.jsx)(u.a,{style:{backgroundColor:"#00ABC8",width:"130px",color:"#FFF"},onClick:Object(c.a)(Object(n.a)().mark((function e(){var t;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Sirve Agendar",l),e.next=3,Object(b.Gc)(l.id);case 3:if("fail"!==(null===(t=e.sent)||void 0===t?void 0:t.status)){e.next=9;break}return e.next=7,Y.open({type:"error",content:(null===t||void 0===t?void 0:t.message)||"error"});case 7:e.next=12;break;case 9:if("ok"!==(null===t||void 0===t?void 0:t.status)){e.next=12;break}return e.next=12,Y.open({type:"success",content:"Agendada exitosamente"});case 12:case"end":return e.stop()}}),e)}))),disabled:"Cancelado"==(null===l||void 0===l?void 0:l.Estado_Txt)||"Asistida"==(null===l||void 0===l?void 0:l.Estado_Txt)||"Finalizada"==(null===l||void 0===l?void 0:l.Estado_Txt)||"Solicitada"==(null===l||void 0===l?void 0:l.Estado_Txt)||"No Asistida"==(null===l||void 0===l?void 0:l.Estado_Txt),children:"Agendar"}),Object(m.jsx)(u.a,{style:{width:"130px"},onClick:Object(c.a)(Object(n.a)().mark((function e(){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:R(!0),V(!0);case 2:case"end":return e.stop()}}),e)}))),disabled:"Cancelado"==(null===l||void 0===l?void 0:l.Estado_Txt)||"Asistida"==(null===l||void 0===l?void 0:l.Estado_Txt)||"Finalizada"==(null===l||void 0===l?void 0:l.Estado_Txt)||"No Asistida"==(null===l||void 0===l?void 0:l.Estado_Txt),children:"Cancelar"}),Object(m.jsx)(g,{isModalCancel:z,setIsModalCancel:R,dataRow:l,getInfo:K,isCancel:B,setListInfoPlans:f,setDataTable:v,detailPlan:h,idPmPlan:p}),Object(m.jsx)(u.a,{style:{width:"130px"},onClick:Object(c.a)(Object(n.a)().mark((function e(){var t;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.z)(l.id);case 2:if(t=e.sent,console.log("eliminado: ",t),"fail"!==(null===t||void 0===t?void 0:t.status)){e.next=9;break}return e.next=7,Y.open({type:"error",content:(null===t||void 0===t?void 0:t.message)||"error"});case 7:e.next=12;break;case 9:if("ok"!==(null===t||void 0===t?void 0:t.status)){e.next=12;break}return e.next=12,Y.open({type:"success",content:"Eliminada correctamente"});case 12:a(!1);case 13:case"end":return e.stop()}}),e)}))),disabled:"Cancelado"==(null===l||void 0===l?void 0:l.Estado_Txt)||"Asistida"==(null===l||void 0===l?void 0:l.Estado_Txt)||"Finalizada"==(null===l||void 0===l?void 0:l.Estado_Txt)||"Solicitada"==(null===l||void 0===l?void 0:l.Estado_Txt)||"No Asistida"==(null===l||void 0===l?void 0:l.Estado_Txt),children:"Eliminar"}),"No Asistida"==(null===M||void 0===M?void 0:M.Estado_Txt)?Object(m.jsx)(u.a,{style:{width:"130px"},onClick:Object(c.a)(Object(n.a)().mark((function e(){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:R(!0),V(!1);case 2:case"end":return e.stop()}}),e)}))),children:"Reagendar"}):null]})]}),"Cancelado"==(null===M||void 0===M?void 0:M.Estado_Txt)||"Reprogramada"==(null===M||void 0===M?void 0:M.Estado_Txt)?Object(m.jsx)("div",{className:"row",children:Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(m.jsx)("div",{className:"col-12 col-md-12",children:Object(m.jsx)("h4",{style:{fontWeight:"bold",textAlign:"left"},children:"CANCELACI\xd3N CITA"})}),Object(m.jsx)("div",{className:"col-12 col-md-12",children:Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(m.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Motivo Cancelaci\xf3n:"}),Object(m.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(m.jsx)(k,{children:null===M||void 0===M?void 0:M.Motivo_Cancelacin_txt})})]})}),Object(m.jsx)("div",{className:"col-12 col-md-12",children:Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(m.jsx)("label",{style:{fontWeight:"bold",textAlign:"left"},children:"Observaci\xf3n Cancelaci\xf3n:"}),Object(m.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(m.jsx)(k,{children:null===M||void 0===M?void 0:M.Observacin_Cancelacin})})]})})]})}):null,null!=D?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"row",children:Object(m.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:Object(m.jsx)("div",{className:"col-12 col-md-12",children:Object(m.jsx)("h4",{style:{fontWeight:"bold",textAlign:"left",marginTop:"10px"},children:"REMISIONES"})})})}),Object(m.jsx)(j.a,{style:{marginTop:"20px"},columns:J,loading:!1,dataSource:D})]}):null]})]})}},956:function(e,t,a){},981:function(e,t,a){"use strict";a.r(t);var n=a(943),c=a(6),i=a(11),o=a(5),l=a(352),r=a(936),s=a(80),d=a(503),u=a(0),j=a(63),b=(a(514),a(932)),x=a(1),O=function(e){e.infoGeneral;var t=e.examsProfessional,a=e.sedeProfessional,n=Object(u.useState)(null),c=Object(o.a)(n,2),i=(c[0],c[1]),l=Object(u.useState)(null),r=Object(o.a)(l,2),s=(r[0],r[1]);return Object(u.useEffect)((function(){var e=null===Math||void 0===Math?void 0:Math.floor((null===t||void 0===t?void 0:t.length)/2);i(null===t||void 0===t?void 0:t.slice(0,e)),s(null===t||void 0===t?void 0:t.slice(e))}),[t]),Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(b.a,{children:[Object(x.jsxs)("div",{className:"d-flex align-items-center",children:[Object(x.jsx)("img",{src:"/sies/assets/images/IconosMedicos/Examenes.png",style:{height:"50px"},alt:"Descripci\xf3n del icono"}),Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{style:{color:"#8c8c8c",fontWeight:"bold"},children:"Ex\xe1menes Habilitados:"}),Object(x.jsx)("ul",{children:null===t||void 0===t?void 0:t.map((function(e){return Object(x.jsx)("li",{children:e.Tipo_Examen_Txt||"Sin informaci\xf3n"},e.Tipo_Examen_Txt)}))})]})]}),Object(x.jsxs)("div",{className:"d-flex",style:{marginLeft:"20px"},children:[Object(x.jsx)("img",{src:"/sies/assets/images/IconosMedicos/Sedes.png",style:{height:"50px"},alt:"Descripci\xf3n del icono"}),Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{style:{color:"#8c8c8c",fontWeight:"bold"},children:"Sedes Habilitadas:"}),Object(x.jsx)("ul",{children:null===a||void 0===a?void 0:a.map((function(e){return Object(x.jsx)("li",{children:e.label||"Sin informaci\xf3n"},e.label)}))})]})]})]})})},v=a(19),f=a(934),h=a(68),m=a.n(h),p=function(e){var t=e.id,a=e.activeKey,n=Object(u.useState)([]),l=Object(o.a)(n,2),r=l[0],s=l[1],d=Object(u.useState)(!1),j=Object(o.a)(d,2),b=j[0],O=j[1],h=function(){var e=Object(i.a)(Object(c.a)().mark((function e(t){var a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.next=3,Object(v.Ab)(t);case 3:a=e.sent,s(a),O(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(u.useEffect)((function(){t&&"3"===a&&h(t)}),[t,a]);var p=[{title:Object(x.jsx)("span",{style:{backgroundColor:"#184F9D",color:"#fff"},children:"Fecha/Hora Creacion"}),dataIndex:"creadoEn",key:"creadoEn",render:function(e){return m()(e).format("DD/MM/YYYY HH:mm a")}},{title:"Fecha de inicio",dataIndex:"fecha_inicio",key:"fecha_inicio",render:function(e){return Object(x.jsx)("strong",{children:m()(e).format("DD / MM / YYYY")})}},{title:"Fecha final",dataIndex:"fecha_final",key:"fecha_final",render:function(e){return m()(e).format("DD / MM / YYYY")}},{title:"Hora de inicio",dataIndex:"hora_inicio",key:"hora_inicio",render:function(e){var t=Math.floor(e/36e5),a=Math.floor(e%36e5/6e4);return"".concat((t<10?"0":"")+t,":").concat((a<10?"0":"")+a)}},{title:"Hora final",key:"hora_final",dataIndex:"hora_final",render:function(e){var t=Math.floor(e/36e5),a=Math.floor(e%36e5/6e4);return"".concat((t<10?"0":"")+t,":").concat((a<10?"0":"")+a)}},{title:"Tipo de agenda",dataIndex:"tipo_agenda",key:"tipo_agenda",render:function(e){return Object(x.jsx)("strong",{children:e})}},{title:"Motivo",dataIndex:"motivo",key:"motivo"},{title:"D\xedas Semana",dataIndex:"dias_semana",key:"dias_semana"},{title:"Creado Por",dataIndex:"creadoPor",key:"creadoPor",render:function(e){return Object(x.jsx)("strong",{children:e})}}];return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(f.a,{columns:p,loading:b,dataSource:r,scroll:{x:1300}})})},g=a(2),y=a(4),k=a(14),w=a(145),C=a(508),_=a(926),S=a(235),D=a(160),I=function(e){var t=e.id,a=e.rango,r=e.setDataImported,d=e.numeroDocumento,j=l.a.useNotification(),b=Object(o.a)(j,2),O=b[0],f=b[1],h=Object(u.useState)(!1),p=Object(o.a)(h,2),I=p[0],F=p[1],E=Object(u.useState)(!1),M=Object(o.a)(E,2),T=M[0],N=M[1],A=Object(u.useState)(!1),Y=Object(o.a)(A,2),H=(Y[0],Y[1]),P=Object(u.useState)(!1),q=Object(o.a)(P,2),z=q[0],R=q[1],L=w.a.useForm(),W=Object(o.a)(L,1)[0],B=Object(u.useState)({fecha_inicio:"",fecha_final:""}),V=Object(o.a)(B,2),K=V[0],G=V[1];function J(){return Object(k.a)(Array(6).keys())}var U=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.cc)(t);case 2:a=e.sent,R(a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(u.useEffect)((function(){console.log(a),H(!0),U()}),[]);var Q=C.b.useMessage(),X=Object(o.a)(Q,2),Z=X[0],$=X[1],ee=function(){return N(!1)},te=function(e,t){G(Object(y.a)(Object(y.a)({},K),{},Object(g.a)({},t,new Date(e).getTime())))},ae=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var a,i,o,l,s,u,j,b;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(!0),e.prev=1,e.next=4,Object(v.Oc)(t,K.fecha_inicio,K.fecha_final,!0,null==W.getFieldValue("fSede")||void 0==W.getFieldValue("fSede")?"":W.getFieldValue("fSede"));case 4:if(a=e.sent,console.log("pRUEBA"+a),"fail"!==a.status){e.next=9;break}return e.next=9,Z.open({type:"error",content:(null===a||void 0===a?void 0:a.message)||"error"});case 9:if("ok"!==a.status){e.next=12;break}return e.next=12,Z.open({type:"success",content:"Se Integro Correctamente la Disponibilidad"});case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(1),e.next=18,Z.open({type:"error",content:(null===(i=e.t0.response)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.message)||"error"});case 18:return l={fecha_inicio:m()(K.fecha_inicio).format("YYYY-MM-DD HH:mm"),fecha_final:m()(K.fecha_final).format("YYYY-MM-DD HH:mm")},e.next=21,Object(v.mc)(d,l.fecha_inicio,l.fecha_final);case 21:if(s=e.sent){u=Object(n.a)(s);try{for(u.s();!(j=u.n()).done;)b=j.value,O.open({type:"info",description:" ".concat(null===b||void 0===b?void 0:b.WS_Response)})}catch(c){u.e(c)}finally{u.f()}}F(!1),r(!0),G({fecha_inicio:null,fecha_final:null}),W.resetFields(),ee();case 28:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)(x.Fragment,{children:[$,f,Object(x.jsx)(s.a,{type:"primary",onClick:function(){return N(!0)},children:"Importar Disponibilidad"}),Object(x.jsx)(_.a,{title:"Importar Disponibilidad",open:T,onCancel:ee,footer:[Object(x.jsx)(s.a,{className:"btn btn-outline-primary",onClick:ee,children:"Cancelar"},"button-cancel"),Object(x.jsx)(s.a,{type:"primary",loading:I,onClick:ae,children:"Importar"},"button-actualizar")],children:Object(x.jsxs)(w.a,{name:"basic",layout:"vertical",autoComplete:"off",form:W,children:[Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col",children:Object(x.jsx)(w.a.Item,{name:"fInicio",label:"Fecha Inicio",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(x.jsx)(S.a,{disabledDate:function(e){var t=m()().startOf("day");if(W.getFieldValue("fFinal")){var a=new Date(W.getFieldValue("fFinal"));return e&&(e<t||e>a.setDate(a.getDate()))}return e&&e<t},showTime:{format:"HH:mm"},format:"YYYY-MM-DD HH:mm",onOk:function(e){return te(e,"fecha_inicio")},style:{width:"100%"},disabledHours:J})})}),Object(x.jsx)("div",{className:"col",children:Object(x.jsx)(w.a.Item,{name:"fFinal",label:"Fecha Final",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(x.jsx)(S.a,{disabledDate:function(e){var t=m()().startOf("day");if(W.getFieldValue("fInicio")){var a=new Date(W.getFieldValue("fInicio"));return e&&(e<t||e<a.setDate(a.getDate()))}return e&&e<t},showTime:{format:"HH:mm"},format:"YYYY-MM-DD HH:mm",onOk:function(e){return te(e,"fecha_final")},style:{width:"100%"},disabledHours:J})})})]}),Object(x.jsx)("div",{className:"row",children:Object(x.jsx)("div",{className:"col",children:Object(x.jsx)(w.a.Item,{label:"Filtro Sede",name:"fSede",children:Object(x.jsx)(D.a,{className:"w-100",showSearch:!0,placeholder:"Selecciona una Sede",optionFilterProp:"children",filterOption:function(e,t){var a;return(null!==(a=null===t||void 0===t?void 0:t.label)&&void 0!==a?a:"").toLowerCase().includes(e.toLowerCase())},options:z})})})})]})})]})},F=a(939),E=a(154),M=a(510),T=a(91),N=a(234),A=a(987),Y=a(306),H={bloqueo:{tipoAgenda:"20551141",title:"Bloquear disponibilidad",mensaje:"Disponibilidad bloqueada correctamente"},desbloqueo:{tipoAgenda:"20551142",title:"Desbloquear disponibilidad",mensaje:"Disponibilidad desbloqueada correctamente"},eliminar:{tipoAgenda:"20551143",title:"Eliminar disponibilidad",mensaje:"Disponibilidad eliminada correctamente"}},P=a(933),q=F.a.Panel,z=[{value:1,label:"Disponible"},{value:2,label:"Bloqueado"},{value:3,label:"Asignado Cita"},{value:4,label:"Eliminado"}],R=function(e){var t=e.id,a=e.setData,n=e.changeStatus,l=e.dataImported,r=e.setDataImported,d=e.activeKey,j=w.a.useForm(),O=Object(o.a)(j,1)[0],f=Object(u.useState)([]),h=Object(o.a)(f,2),m=h[0],p=h[1],g=Object(u.useState)([]),y=Object(o.a)(g,2),k=y[0],C=y[1],_=Object(u.useState)([]),I=Object(o.a)(_,2),E=I[0],M=I[1],T=null,N={date_start:void 0,date_end:void 0,exam:void 0,city:void 0,status:1,programa:void 0},A=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var a,n,i;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.tb)(t);case 2:return a=e.sent,p(a),e.next=6,Object(v.bb)(t);case 6:return n=e.sent,C(n),e.next=10,Object(v.Fb)(t);case 10:i=e.sent,M(i);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(u.useEffect)((function(){A()}),[]);var Y=function(){var e=Object(i.a)(Object(c.a)().mark((function e(n){var i;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.jb)(n,t);case 2:i=e.sent,a(i);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(u.useEffect)((function(){console.log("se disparo active ",T),null==T||!t||"2"!==d&&"3"!==d||(console.log("sirve actualizar tabla"),H(T)),null!=T||!t||"2"!==d&&"3"!==d||(console.log("sirve actualizar tabla"),Y(N))}),[d]),Object(u.useEffect)((function(){console.log("se disparo",n,l),null!=T&&(console.log("sirve actualizar tabla"),H(T),r(!1)),null==T&&(console.log("sirve actualizar tabla"),Y(N),r(!1))}),[l,n]);var H=function(){var e=Object(i.a)(Object(c.a)().mark((function e(t){var a,n,i,o;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=null===t||void 0===t||null===(a=t.date_start)||void 0===a?void 0:a.format("YYYY-MM-DD HH:mm"),o=null===t||void 0===t||null===(n=t.date_end)||void 0===n?void 0:n.format("YYYY-MM-DD HH:mm"),T={date_start:i,date_end:o,exam:null===t||void 0===t?void 0:t.exam,city:null===t||void 0===t?void 0:t.city,status:null===t||void 0===t?void 0:t.status,programa:null===t||void 0===t?void 0:t.programa},console.log(t),Y(T);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(F.a,{children:Object(x.jsx)(q,{header:"Filtros",children:Object(x.jsx)(w.a,{colon:!1,onFinish:H,form:O,autoComplete:"off",layout:"vertical",children:Object(x.jsxs)(b.a,{style:{flexDirection:"row"},gutter:[16,16],children:[Object(x.jsx)(P.a,{span:8,children:Object(x.jsx)(w.a.Item,{label:"Fecha y Hora Inicio",name:"date_start",children:Object(x.jsx)(S.a,{showTime:{format:"HH:mm"},format:"YYYY-MM-DD HH:mm",style:{width:"100%"},onChange:function(){console.log("inicio: ",O.getFieldValue("date_start"))}})})}),Object(x.jsx)(P.a,{span:8,children:Object(x.jsx)(w.a.Item,{label:"Fecha y Hora Final",name:"date_end",children:Object(x.jsx)(S.a,{showTime:{format:"HH:mm"},format:"YYYY-MM-DD HH:mm",style:{width:"100%"},onChange:function(){console.log("fin: ",O.getFieldValue("date_end"))}})})}),Object(x.jsx)(P.a,{span:8,children:Object(x.jsx)(w.a.Item,{label:"Examen",name:"exam",children:Object(x.jsx)(D.a,{placeholder:"Seleccione un examen",options:m})})}),Object(x.jsx)(P.a,{span:8,children:Object(x.jsx)(w.a.Item,{label:"Ciudad",name:"city",children:Object(x.jsx)(D.a,{placeholder:"Seleccione una ciudad",options:k})})}),Object(x.jsx)(P.a,{span:8,children:Object(x.jsx)(w.a.Item,{label:"Estado",name:"status",children:Object(x.jsx)(D.a,{defaultValue:1,placeholder:"Seleccione un estado",options:z,mode:"multiple"})})}),Object(x.jsx)(P.a,{span:8,children:Object(x.jsx)(w.a.Item,{label:"Programa",name:"programa",children:Object(x.jsx)(D.a,{placeholder:"Seleccione un programa",options:E})})}),Object(x.jsxs)(P.a,{style:{display:"flex",justifyContent:"flex-end",alignItems:"flex-end"},span:8,children:[Object(x.jsx)(s.a,{type:"primary",onClick:O.submit,children:"Filtrar"}),Object(x.jsx)(s.a,{onClick:function(){O.resetFields(),Y(void 0)},children:"Limpiar Filtros"})]})]})})},"1")})})},L=(F.a.Panel,function(e){var t,a=e.id,n=e.activeKey,l=e.dataImported,r=e.setDataImported,d=e.changeStatus,j=e.setChangeStatus,b=Object(u.useState)([]),O=Object(o.a)(b,2),h=O[0],p=O[1],g=Object(u.useState)(!1),y=Object(o.a)(g,2),k=y[0],w=y[1],S=Object(u.useState)(!1),I=Object(o.a)(S,2),F=I[0],P=I[1],q=Object(u.useState)(),z=Object(o.a)(q,2),L=z[0],W=z[1],B=Object(u.useState)(),V=Object(o.a)(B,2),K=V[0],G=V[1],J=Object(u.useState)(null),U=Object(o.a)(J,2),Q=U[0],X=U[1],Z=C.b.useMessage(),$=Object(o.a)(Z,2),ee=$[0],te=$[1],ae=Object(u.useState)(),ne=Object(o.a)(ae,2),ce=ne[0],ie=ne[1],oe=Object(u.useState)("bloqueo"),le=Object(o.a)(oe,2),re=le[0],se=le[1],de=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var t,a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.prev=1,e.next=4,Object(v.s)(ce);case 4:return e.next=6,ee.open({type:"success",content:H[re].mensaje});case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(1),e.next=12,ee.open({type:"error",content:null===(t=e.t0.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message});case 12:w(!1),P(!1),X(null),j(!d);case 16:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),ue=function(){P(!1),X(null)},je=[{title:"Fecha y Hora",dataIndex:"fecha_hora",key:"fecha_hora",width:"12%",render:function(e){return Object(x.jsx)("strong",{children:m()(e).format("DD/MM/YYYY : HH:mm")})}},{title:"Examen",dataIndex:"idExam",key:"idExam",width:"25%",render:function(e){var t=e.split(",");return Object(x.jsx)("span",{children:Object(x.jsx)("ul",{children:null===t||void 0===t?void 0:t.map((function(e){return Object(x.jsx)("li",{children:e||"Sin informaci\xf3n"},e)}))})||"-"})}},{title:"Canal de atenci\xf3n",dataIndex:"canal_atencion",key:"canal_atencion",width:"13%",render:function(e){return Object(x.jsx)("strong",{children:e})}},{title:"Duraci\xf3n",dataIndex:"duracion",key:"duracion",width:"7%"},{title:"Sede",dataIndex:"sede",key:"sede",width:"9%"},{title:"Acciones",key:"action",align:"center",children:[{title:"",key:"bloquear",align:"center",width:"5%",fixed:"right",render:function(e){return Object(x.jsx)(E.a,{trigger:"click",placement:"top",color:"#ffff",title:Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(E.a,{title:"Bloquear",children:Object(x.jsx)(s.a,{disabled:4==e.color||2==e.color||3==e.color,onClick:Object(i.a)(Object(c.a)().mark((function t(){var a;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sirve",e),se("bloqueo"),P(!0),W(e),t.next=6,Object(v.zb)();case 6:a=t.sent,G(a);case 8:case"end":return t.stop()}}),t)}))),children:Object(x.jsx)(T.a,{})})}),Object(x.jsx)(E.a,{title:"Desbloquear",children:Object(x.jsx)(s.a,{disabled:4==e.color||3==e.color||1==e.color,onClick:Object(i.a)(Object(c.a)().mark((function t(){var a;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sirve desbloquear",e),se("desbloqueo"),P(!0),W(e),t.next=6,Object(v.zb)();case 6:a=t.sent,G(a);case 8:case"end":return t.stop()}}),t)}))),children:Object(x.jsx)(N.a,{})})})]}),children:Object(x.jsx)(s.a,{children:Object(x.jsx)(A.a,{})})})}},{title:"Estado",dataIndex:"color",key:"color",fixed:"right",width:"10%",render:function(e){var t,a,n;return Object(x.jsx)(M.a,{style:{width:"100%"},color:null===(t=Y.a[e])||void 0===t?void 0:t.color,icon:null===(a=Y.a[e])||void 0===a?void 0:a.icon,children:null===(n=Y.a[e])||void 0===n?void 0:n.text})}}]}];return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(R,{id:a,setData:p,setLoading:w,dataImported:l,setDataImported:r,changeStatus:d,activeKey:n}),Object(x.jsx)(f.a,{columns:je,loading:k,dataSource:h,scroll:{x:1300}}),te,Object(x.jsx)(_.a,{title:null===(t=H[re])||void 0===t?void 0:t.title,open:F,onOk:de,onCancel:ue,data:L,footer:[Object(x.jsx)(s.a,{onClick:ue,children:"Cancelar"},"button-cancel"),Object(x.jsx)(s.a,{loading:k,onClick:de,children:"Confirmar"},"button-integrar")],children:Object(x.jsx)("div",{label:"Motivo",name:"motivo",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(x.jsx)(D.a,{id:"selectmotivos",className:"w-100",placeholder:"Selecciona un motivo",onChange:function(e){X(e);var t=new Date(null===L||void 0===L?void 0:L.fecha_hora),n=null===L||void 0===L?void 0:L.duracion;t.setMinutes(t.getMinutes()+n),ie({Fecha_Hora:new Date(null===L||void 0===L?void 0:L.fecha_hora).getTime(),Fecha_Hora_Final:new Date(t).getTime(),Hora:m()(new Date(null===L||void 0===L?void 0:L.fecha_hora)).format("LT"),Duracion:m()(new Date(t)).format("LT"),Id:e,BloqueoEliminar:H[re].tipoAgenda,IdProfesional:a}),console.log("datauser a enviar",ce)},options:K,value:Q})})})]})}),W=a(960),B=(a(959),a(515),a(956),a(378)),V=Object(W.b)(m.a);m.a.locale("es");var K={today:"Hoy",previous:"Anterior",next:"Siguiente",month:"Mes",week:"Semana",day:"D\xeda"},G=function(e){var t,a=e.id,n=e.activeKey,l=e.dataImported,r=e.setDataImported,d=e.changeStatus,j=e.setChangeStatus,b=Object(u.useState)([]),O=Object(o.a)(b,2),f=O[0],h=O[1],p=Object(u.useState)(!1),g=Object(o.a)(p,2),y=g[0],k=g[1],w=Object(u.useState)([]),S=Object(o.a)(w,2),I=S[0],F=S[1],A=Object(u.useState)(!1),P=Object(o.a)(A,2),q=P[0],z=P[1],L=Object(u.useState)(),G=Object(o.a)(L,2),J=G[0],U=G[1],Q=Object(u.useState)(),X=Object(o.a)(Q,2),Z=X[0],$=X[1],ee=Object(u.useState)(null),te=Object(o.a)(ee,2),ae=te[0],ne=te[1],ce=C.b.useMessage(),ie=Object(o.a)(ce,2),oe=ie[0],le=ie[1],re=Object(u.useState)(),se=Object(o.a)(re,2),de=se[0],ue=se[1],je=Object(u.useState)(),be=Object(o.a)(je,2),xe=be[0],Oe=be[1],ve=new Date;ve.setHours(6,0,0,0);var fe=new Date;fe.setHours(23,58,0,0);var he=function(){var e=document.querySelector(".popover-calendar");e&&(e.style.display="none")};Object(u.useEffect)((function(){a&&"2"===n&&ge()}),[I,a,n]);var me=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var t,a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(v.s)(de);case 3:return e.next=5,oe.open({type:"success",content:H[xe].mensaje});case 5:e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),e.next=11,oe.open({type:"error",content:null===(t=e.t0.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message});case 11:z(!1),ne(null),j(!d);case 14:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),pe=function(){ne(null),z(!1)},ge=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var t;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=null===I||void 0===I?void 0:I.map((function(e){var t,a,n,o,l,r=new Date(null===e||void 0===e?void 0:e.fecha_hora),s=null===e||void 0===e?void 0:e.duracion;r.setMinutes(r.getMinutes()+s);var d=null===e||void 0===e||null===(t=e.idExam)||void 0===t?void 0:t.split(",");return{title:Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(B.a,{trigger:"click",className:"popover-calendar",content:Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:"row",style:{maxWidth:"400px"},children:[Object(x.jsx)("div",{className:"col-12 col-md-3",children:Object(x.jsx)("div",{className:"calendar-date-text",style:{backgroundColor:null===(a=Y.a[null===e||void 0===e?void 0:e.color])||void 0===a?void 0:a.color},children:m()(new Date(null===e||void 0===e?void 0:e.fecha_hora)).format("DD MMM")})}),Object(x.jsxs)("div",{className:"col info-text-popover",children:[Object(x.jsxs)("h5",{className:"mb-3",children:["Canal de atenci\xf3n: ",(null===e||void 0===e?void 0:e.canal_atencion)||"-"]}),Object(x.jsxs)("div",{children:["Programa: ",Object(x.jsx)("span",{children:(null===e||void 0===e?void 0:e.programa)||"-"})]}),Object(x.jsxs)("div",{children:["Sede: ",Object(x.jsx)("span",{children:(null===e||void 0===e?void 0:e.sede)||"-"})]}),Object(x.jsxs)("div",{children:["Examen:"," ",Object(x.jsx)("span",{children:Object(x.jsx)("ul",{children:null===d||void 0===d?void 0:d.map((function(e){return Object(x.jsx)("li",{children:e||"Sin informaci\xf3n"},e)}))})||"-"})]}),Object(x.jsxs)("div",{className:"my-3",children:["Hora:"," ",Object(x.jsxs)("span",{children:[m()(new Date(null===e||void 0===e?void 0:e.fecha_hora)).format("LT")," ","- ",m()(new Date(r)).format("LT")]})]}),Object(x.jsxs)("div",{className:"my-3",children:["Duraci\xf3n:"," ",Object(x.jsxs)("span",{children:[(null===e||void 0===e?void 0:e.duracion)||"-"," minutos"]})]}),Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)(E.a,{title:"Bloquear",disabled:4==e.color||2==e.color||3==e.color,children:Object(x.jsx)(T.a,{style:{cursor:"pointer",width:"33%"},onClick:Object(i.a)(Object(c.a)().mark((function t(){var a;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sirve",e),Oe("bloqueo"),he(),z(!0),U(e),t.next=7,Object(v.zb)();case 7:a=t.sent,$(a);case 9:case"end":return t.stop()}}),t)})))})}),Object(x.jsx)(E.a,{title:"Desbloquear",disabled:4==e.color||3==e.color||1==e.color,children:Object(x.jsx)(N.a,{style:{cursor:"pointer",width:"33%"},onClick:Object(i.a)(Object(c.a)().mark((function t(){var a;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sirve desbloquear",e),Oe("desbloqueo"),he(),z(!0),U(e),t.next=7,Object(v.zb)();case 7:a=t.sent,$(a);case 9:case"end":return t.stop()}}),t)})))})})]})]})]})}),children:Object(x.jsx)(E.a,{title:"".concat(null===(n=Y.a[null===e||void 0===e?void 0:e.color])||void 0===n?void 0:n.text),children:Object(x.jsx)("span",{className:"span-calendar-text",children:Object(x.jsx)(M.a,{style:{width:"47%",height:"90%"},color:null===(o=Y.a[null===e||void 0===e?void 0:e.color])||void 0===o?void 0:o.color,icon:null===(l=Y.a[null===e||void 0===e?void 0:e.color])||void 0===l?void 0:l.icon})})})})}),start:new Date(null===e||void 0===e?void 0:e.fecha_hora),end:r}})),h(t);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(R,{id:a,setLoading:k,setData:F,dataImported:l,setDataImported:r,changeStatus:d,activeKey:n}),Object(x.jsx)(W.a,{loading:y,localizer:V,events:f,startAccessor:"start",endAccessor:"end",defaultView:"week",messages:K,min:ve,max:fe}),le,Object(x.jsx)(_.a,{style:{zIndex:2600},title:null===(t=H[xe])||void 0===t?void 0:t.title,open:q,onOk:me,onCancel:pe,data:J,footer:[Object(x.jsx)(s.a,{onClick:pe,children:"Cancelar"},"button-cancel"),Object(x.jsx)(s.a,{onClick:me,children:"Confirmar"},"button-integrar")],children:Object(x.jsx)("div",{label:"Motivo",name:"motivo",rules:[{required:!0,message:"Campo obligatorio"}],children:Object(x.jsx)(D.a,{id:"selectmotivos",className:"w-100",placeholder:"Selecciona un motivo",onChange:function(e){console.log(e),ne(e);var t=new Date(null===J||void 0===J?void 0:J.fecha_hora),n=null===J||void 0===J?void 0:J.duracion;t.setMinutes(t.getMinutes()+n),ue({Fecha_Hora:new Date(null===J||void 0===J?void 0:J.fecha_hora).getTime(),Fecha_Hora_Final:new Date(t).getTime(),Hora:m()(new Date(null===J||void 0===J?void 0:J.fecha_hora)).format("LT"),Duracion:m()(new Date(t)).format("LT"),Id:e,BloqueoEliminar:H[xe].tipoAgenda,IdProfesional:a}),console.log("datauser a enviar",de)},options:Z,value:ae})})})]})},J=a(517),U=(a(945),a(511)),Q=a(988),X=a(989),Z=a(950),$=function(e){var t=e.id,a=(e.activeKey,Object(u.useState)([])),n=Object(o.a)(a,2),l=n[0],r=n[1],d=Object(u.useState)(),j=Object(o.a)(d,2),b=j[0],O=j[1],h=C.b.useMessage(),p=Object(o.a)(h,2),g=p[0],y=p[1],k=Object(u.useState)(!1),w=Object(o.a)(k,2),_=w[0],S=w[1],D=Object(u.useState)(!1),I=Object(o.a)(D,2),F=I[0],T=I[1],N=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(!0),e.next=3,Object(v.Ub)(t);case 3:a=e.sent,r(a),T(!1),console.log("data rutas atencion",a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(u.useEffect)((function(){t&&N()}),[]);var H=function(){var e=Object(i.a)(Object(c.a)().mark((function e(t){var a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.z)(t);case 2:if(a=e.sent,console.log("eliminado: ",a),"fail"!==(null===a||void 0===a?void 0:a.status)){e.next=9;break}return e.next=7,g.open({type:"error",content:(null===a||void 0===a?void 0:a.message)||"error"});case 7:e.next=12;break;case 9:if("ok"!==(null===a||void 0===a?void 0:a.status)){e.next=12;break}return e.next=12,g.open({type:"success",content:"Eliminada correctamente"});case 12:N();case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=[{title:"Cita",dataIndex:"name",key:"name",render:function(e){return Object(x.jsx)(x.Fragment,{children:e})}},{title:"Fecha Cita",dataIndex:"Fecha_Cita",key:"Fecha_Cita",render:function(e){return m()(e).format("DD/MM/YYYY HH:MM")}},{title:"Duraci\xf3n",dataIndex:"duracion",key:"duracion"},{title:"Profesional",dataIndex:"Profesional_txt",key:"Profesional_txt",render:function(e){return Object(x.jsx)(x.Fragment,{children:e})}},{title:"Sede",dataIndex:"Sedetxt",key:"Sedetxt",render:function(e){return Object(x.jsx)(x.Fragment,{children:e})}},{title:"Canal Atenci\xf3n",dataIndex:"Canal_Atencion_txt",key:"Canal_Atencion_txt"},{title:"Plan Mensual",dataIndex:"Plan_Mensual_txt",key:"Plan_Mensual_txt"},{title:"Codigo Tipo",dataIndex:"Codigo_Tipo",key:"Codigo_Tipo"},{title:"Examen",dataIndex:"nameExam",key:"nameExam"},{title:"Estado",dataIndex:"Estado_Txt",render:function(e){var t;return Object(x.jsx)(M.a,{style:{width:"100%"},color:null===(t=Y.c[e])||void 0===t?void 0:t.color,children:e})}},{title:"Acciones",key:"action",align:"center",render:function(e){return Object(x.jsx)(E.a,{trigger:"click",placement:"top",color:"#ffff",title:Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(E.a,{title:"Ver",children:Object(x.jsx)(s.a,{onClick:Object(i.a)(Object(c.a)().mark((function t(){return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("Sirve ver",e),O(e),S(!0);case 3:case"end":return t.stop()}}),t)}))),children:Object(x.jsx)(U.a,{})})}),Object(x.jsx)(E.a,{title:"Agendar",children:Object(x.jsx)(s.a,{disabled:"Cancelado"==e.Estado_Txt||"Asistida"==e.Estado_Txt||"Finalizada"==e.Estado_Txt||"Solicitada"==e.Estado_Txt||"No Asistida"==e.Estado_Txt,onClick:Object(i.a)(Object(c.a)().mark((function t(){var a;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sirve Agendar",e),t.next=3,Object(v.Gc)(e.id);case 3:if("fail"!==(null===(a=t.sent)||void 0===a?void 0:a.status)){t.next=9;break}return t.next=7,g.open({type:"error",content:(null===a||void 0===a?void 0:a.message)||"error"});case 7:t.next=12;break;case 9:if("ok"!==(null===a||void 0===a?void 0:a.status)){t.next=12;break}return t.next=12,g.open({type:"success",content:"Agendada exitosamente"});case 12:case"end":return t.stop()}}),t)}))),children:Object(x.jsx)(Q.a,{})})}),Object(x.jsx)(E.a,{title:"Eliminar",children:Object(x.jsx)(s.a,{disabled:"Cancelado"==e.Estado_Txt||"Asistida"==e.Estado_Txt||"Finalizada"==e.Estado_Txt||"Solicitada"==e.Estado_Txt||"No Asistida"==e.Estado_Txt,onClick:Object(i.a)(Object(c.a)().mark((function t(){return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("Sirve eliminar",e),H(e.id);case 2:case"end":return t.stop()}}),t)}))),children:Object(x.jsx)(X.a,{})})})]}),children:Object(x.jsx)(s.a,{children:Object(x.jsx)(A.a,{})})})}}];return Object(x.jsxs)(x.Fragment,{children:[y,Object(x.jsx)(Z.a,{open:_,setOpen:S,dataRow:b,idPaciente:t}),Object(x.jsx)(f.a,{columns:P,loading:F,dataSource:l,scroll:{x:1300}})]})},ee=a(990),te=a(947),ae=a(946);t.default=function(){var e=Object(j.i)().id,t=l.a.useNotification(),a=Object(o.a)(t,2),b=a[0],f=a[1],h=Object(j.h)(),m=Object(u.useState)("1"),g=Object(o.a)(m,2),y=g[0],k=g[1],w=Object(u.useState)(null),C=Object(o.a)(w,2),_=C[0],S=C[1],D=Object(u.useState)("professional"),F=Object(o.a)(D,2),E=F[0],M=F[1],T=(Object(j.g)(),Object(u.useState)(!1)),N=Object(o.a)(T,2),A=N[0],Y=N[1],H=Object(u.useState)(!1),P=Object(o.a)(H,2),q=P[0],z=P[1],R=Object(u.useState)(null),W=Object(o.a)(R,2),B=W[0],V=W[1],K=Object(u.useState)(null),U=Object(o.a)(K,2),Q=U[0],X=U[1];console.log("localizacion",null===h||void 0===h?void 0:h.state);var Z=function(){var e=Object(i.a)(Object(c.a)().mark((function e(t){var a,n,i,o;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.cc)(t);case 2:return n=e.sent,V(n),e.next=6,Object(v.J)(t);case 6:return i=e.sent,X(i),e.next=10,Object(v.gc)(t,"numero_document"===(null===h||void 0===h||null===(a=h.state)||void 0===a?void 0:a.type));case 10:o=e.sent,S(o);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(u.useEffect)((function(){if(Z(e),h.state){var t=h.state.detail;if(console.log(t),t&&t.length>0){var a,c=Object(n.a)(t);try{for(c.s();!(a=c.n()).done;){var i=a.value;b.open({type:"info",description:" ".concat(null===i||void 0===i?void 0:i.WS_Response)})}}catch(o){c.e(o)}finally{c.f()}}}}),[e]);var ne={professional:[{key:"1",label:"Informaci\xf3n B\xe1sica",children:Object(x.jsx)(O,{infoGeneral:_,sedeProfessional:B,examsProfessional:Q})}],disposition:[{key:"1",label:"Lista de disponibilidades",children:Object(x.jsx)(L,{id:null===_||void 0===_?void 0:_.id,activeKey:y,dataImported:A,setDataImported:Y,changeStatus:q,setChangeStatus:z})},{key:"2",label:"Calendario de disponibilidades",children:Object(x.jsx)(G,{id:null===_||void 0===_?void 0:_.id,activeKey:y,dataImported:A,setDataImported:Y,changeStatus:q,setChangeStatus:z})},{key:"3",label:"Novedades",children:Object(x.jsx)(p,{id:null===_||void 0===_?void 0:_.id,activeKey:y})}]},ce={quote:Object(x.jsx)($,{id:null===_||void 0===_?void 0:_.id,activeKey:y})};return Object(x.jsxs)(x.Fragment,{children:[f,Object(x.jsxs)("div",{className:"gx-profile-banner",style:{display:"flex",padding:"32px 32px 70px"},children:[Object(x.jsxs)("div",{className:"gx-profile-container",children:[Object(x.jsx)("div",{className:"gx-profile-banner-top",style:{justifyContent:"space-between",marginBottom:"30px"},children:Object(x.jsx)("div",{className:"gx-profile-banner-top-left",children:Object(x.jsxs)("div",{className:"gx-profile-banner-avatar-info",children:[Object(x.jsxs)("h2",{className:"gx-mb-2 gx-mb-sm-3 gx-fs-xxl gx-font-weight-light",children:[null===_||void 0===_?void 0:_.nombre," ",null===_||void 0===_?void 0:_.apellido]}),Object(x.jsxs)("p",{className:"gx-mb-0 gx-fs-lg",children:[null===_||void 0===_?void 0:_.tipo_documento," ",null===_||void 0===_?void 0:_.numero_documento]})]})})}),Object(x.jsx)("div",{className:"gx-profile-banner-bottom",children:Object(x.jsx)("div",{className:"gx-tab-list",children:Object(x.jsxs)("ul",{className:"gx-navbar-nav",children:[Object(x.jsx)("li",{onClick:function(){return M("professional")},children:Object(x.jsx)("span",{className:"gx-link",children:"Detalle del profesional"})}),Object(x.jsx)("li",{onClick:function(){return M("disposition")},children:Object(x.jsx)("span",{className:"gx-link",children:"Disponibilidades"})}),Object(x.jsx)("li",{onClick:function(){return M("quote")},children:Object(x.jsx)("span",{className:"gx-link",children:"Citas"})})]})})})]}),Object(x.jsx)("div",{style:{width:"55%",display:"flex",flexDirection:"row",alignItems:"flex - start"},children:Object(x.jsxs)("div",{className:"d-flex align-items-center mt-3",children:[Object(x.jsx)("i",{style:{fontSize:"50px"},className:"icon icon-graduation"})," ",Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{style:{color:"#8c8c8c",fontSize:"bold"},children:"Profesi\xf3n:"}),(null===_||void 0===_?void 0:_.profesion)||"Sin informaci\xf3n"]})]})})]}),Object(x.jsxs)(r.a,{style:{zIndex:1},extra:"disposition"===E?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(s.a,{onClick:function(){var e={Sheets:{data:te.a.json_to_sheet(A)},SheetNames:["data"]},t=te.b(e,{bookType:"xlsx",type:"array"}),a=new Date,n=a.getDay()+"/"+(a.getMonth()+1)+"/"+a.getFullYear(),c=new Blob([t],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});Object(ae.saveAs)(c,"Reporte Disponibilidades-".concat(n)+".xlsx")},style:{backgroundColor:"#ffffff",color:"#000000"},children:[Object(x.jsx)(ee.a,{}),"Descargar"]}),Object(x.jsx)(I,{id:null===_||void 0===_?void 0:_.id,rango:null===_||void 0===_?void 0:_.rango_propio,setDataImported:Y,numeroDocumento:null===_||void 0===_?void 0:_.numero_documento}),Object(x.jsx)(J.a,{id:e,setDataImported:Y})]}):"",children:["quote"===E?ce[E]:null,Object(x.jsx)(d.a,{defaultActiveKey:"1",items:ne[E],onChange:function(e){console.log(e),k(e)}})]})]})}}}]);
//# sourceMappingURL=8.1d5b12c9.chunk.js.map